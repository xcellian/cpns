"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(){var t=this,e=this,i=e?e.document:null,n=(e?e.document.documentElement:null,/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/),a=/^-ms-/,o=/[\-_]([\da-z])/gi,l=/([A-Z])/g,s=/\./,r=/[-|+]?[\D]/gi,d=/\D/gi,c=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),u=/&/g,h=/=/,p=/[ ]+/g,f={},m=void 0,g=void 0;f.guid=1,f.getGuid=function(){return f.guid++},f.info=m=function(){function t(t,n){return t={href:e.location.href,param:e.location.search,referrer:i.referrer,pathname:e.location.pathname,hostname:e.location.hostname,port:e.location.port},n=t.href.split(/[\?#]/),t.param=t.param.replace("?",""),t.url=n[0],t.href.search("#")>-1&&(t.hashdata=g.last(n)),n=null,t.baseUrl=g.left(t.href,"?").replace(t.pathname,""),t}function n(t,e,i){return m.errorMsg&&m.errorMsg[t]?{className:t,errorCode:e,methodName:i,msg:m.errorMsg[t][e]}:{className:t,errorCode:e,methodName:i}}var a=arguments,o="1.3.82",l="",s=function(){console.error(g.toArray(a).join(":"))},r={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},d=[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],c=function(t,i,n,a,o,l){return e&&e.navigator?(t=navigator.userAgent.toLowerCase(),i=t.search(/mobile/g)!=-1,l,t.search(/iphone/g)!=-1?{name:"iphone",version:0,mobile:!0}:t.search(/ipad/g)!=-1?{name:"ipad",version:0,mobile:!0}:t.search(/android/g)!=-1?(a=/(android)[ \/]([\w.]+)/.exec(t)||[],l=a[2]||"0",{name:"android",version:l,mobile:i}):(n="",a=/(opr)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],o=a[1]||"",l=a[2]||"0","msie"==o&&(o="ie"),{name:o,version:l,mobile:i})):{}}(),u=!("undefined"==typeof window||"undefined"==typeof navigator||!e.document),h=e&&/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",p={},f=!!e&&("ontouchstart"in e||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),v=!!e&&(e.FileReader&&e.File&&e.FileList&&e.Blob);return{errorMsg:p,version:o,baseUrl:l,onerror:s,eventKeys:r,weekNames:d,browser:c,isBrowser:u,supportTouch:f,supportFileApi:v,wheelEnm:h,urlUtil:t,getError:n}}(),f.util=g=function(){function v(t,e){if(R(t))return[];var i=void 0,n=0,a=t.length,o=void 0===a||"function"==typeof t;if(o){for(i in t)if("undefined"!=typeof t[i]&&e.call(t[i],i,t[i])===!1)break}else for(;n<a&&("undefined"==typeof t[n]||e.call(t[n],n,t[n++])!==!1););return t}function x(t,e){if(R(t))return[];var i=void 0,n=0,a=t.length,o=[],l=void 0;if(j(t)){for(i in t)if("undefined"!=typeof t[i]){if(l=void 0,(l=e.call(t[i],i,t[i]))===!1)break;o.push(l)}}else for(;n<a;)if("undefined"!=typeof t[n]){if(l=void 0,(l=e.call(t[n],n,t[n++]))===!1)break;o.push(l)}return o}function b(t,e){if(R(t))return-1;if(j(t))for(var i in t){if("undefined"!=typeof t[i]&&z(e)&&e.call(t[i],i,t[i]))return i;if(t[i]==e)return i}else for(var n=0,a=t.length;n<a;n++){if("undefined"!=typeof t[n]&&z(e)&&e.call(t[n],n,t[n]))return n;if(t[n]==e)return n}return-1}function y(t,e,i){var n=void 0,a=void 0,o=void 0;if(z(e)&&"undefined"==typeof i&&(i=e,e=0),"undefined"==typeof e&&(e=0),N(t)){for(n=0,a=t.length;n<a;n++)if("undefined"!=typeof t[n]){if((o=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof o&&(e+=o)}return e}if(j(t)){for(n in t)if("undefined"!=typeof t[n]){if((o=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof o&&(e+=o)}return e}return console.error("argument error : ax5.util.sum - use Array or Object"),e}function w(t,e,i){var n=void 0,a=void 0,o=void 0;if(z(e)&&"undefined"==typeof i&&(i=e,e=0),"undefined"==typeof e&&(e=0),N(t)){for(n=0,a=t.length;n<a;n++)if("undefined"!=typeof t[n]){if((o=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof o&&(e+=o)}return e/a}if(j(t)){for(n in t)if("undefined"!=typeof t[n]){if((o=i.call(t[n],t[n]))===!1)break;"undefined"!=typeof o&&(e+=o)}return e/a}return console.error("argument error : ax5.util.sum - use Array or Object"),e}function _(e,i){var n,a,o;if(N(e)){for(n=0,a=e.length,o=e[n];n<a-1&&("undefined"==typeof e[n]||(o=i.call(t,o,e[++n]))!==!1););return o}if(j(e)){for(n in e)if("undefined"!=typeof e[n]&&(o=i.call(t,o,e[n]))===!1)break;return o}return console.error("argument error : ax5.util.reduce - use Array or Object"),null}function I(e,i){for(var n=e.length-1,a=e[n];n>0&&("undefined"==typeof e[n]||(a=i.call(t,a,e[--n]))!==!1););return a}function k(t,e){if(R(t))return[];var i,n,a=0,o=t.length,l=[];if(j(t))for(i in t)"undefined"!=typeof t[i]&&(n=e.call(t[i],i,t[i]))&&l.push(t[i]);else for(;a<o;)"undefined"!=typeof t[a]&&((n=e.call(t[a],a,t[a]))&&l.push(t[a]),a++);return l}function C(t){var e="";if(f.util.isArray(t)){var i=0,n=t.length;for(e+="[";i<n;i++)i>0&&(e+=","),e+=C(t[i]);e+="]"}else if(f.util.isObject(t)){e+="{";var a=[];v(t,function(t,e){a.push('"'+t+'": '+C(e))}),e+=a.join(", "),e+="}"}else e=f.util.isString(t)?'"'+t+'"':f.util.isNumber(t)?t:f.util.isUndefined(t)?"undefined":f.util.isFunction(t)?'"{Function}"':t;return e}function $(t,e){if(!e&&!n.test(t))return{error:500,msg:"syntax error"};try{return new Function("","return "+t)()}catch(i){return{error:500,msg:"syntax error"}}}function S(t){var e;return null!=t&&t==t.window?e="window":t&&1==t.nodeType?e="element":t&&11==t.nodeType?e="fragment":null===t?e="null":"undefined"==typeof t?e="undefined":"[object Object]"==vt.call(t)?e="object":"[object Array]"==vt.call(t)?e="array":"[object String]"==vt.call(t)?e="string":"[object Number]"==vt.call(t)?e="number":"[object NodeList]"==vt.call(t)?e="nodelist":"function"==typeof t&&(e="function"),e}function T(t){return null!=t&&t==t.window}function E(t){return!(!t||1!=t.nodeType&&11!=t.nodeType)}function j(t){return"[object Object]"==vt.call(t)}function N(t){return"[object Array]"==vt.call(t)}function z(t){return"function"==typeof t}function D(t){return"[object String]"==vt.call(t)}function P(t){return"[object Number]"==vt.call(t)}function K(t){return!!("[object NodeList]"==vt.call(t)||"undefined"!=typeof t&&t&&t[0]&&1==t[0].nodeType)}function Q(t){return"undefined"==typeof t}function R(t){return"undefined"==typeof t||null===t||""===t}function A(t){return t instanceof Date&&!isNaN(t.valueOf())}function q(t){var e=!1;if(t)if(t instanceof Date&&!isNaN(t.valueOf()))e=!0;else{if(t.length>7&&nt(t)instanceof Date)return!0;if(t=t.replace(/\D/g,""),t.length>7){var i=t.substr(4,2),n=t.substr(6,2);t=nt(t),t.getMonth()==i-1&&t.getDate()==n&&(e=!0)}}else;return e}function M(t){if(j(t)){var e=Object.keys(t),i={};return i[e[0]]=t[e[0]],i}return N(t)?t[0]:void console.error("ax5.util.object.first","argument type error")}function O(t){if(j(t)){var e=Object.keys(t),i={};return i[e[e.length-1]]=t[e[e.length-1]],i}return N(t)?t[t.length-1]:void console.error("ax5.util.object.last","argument type error")}function F(t,e,n,a){var o;return"number"==typeof n&&(o=new Date,o.setDate(o.getDate()+n)),a=a||{},i.cookie=[escape(t),"=",escape(e),o?"; expires="+o.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}function H(t){for(var e=t+"=",n=i.cookie.split(";"),a=0,o=n.length;a<o;a++){for(var l=n[a];" "==l.charAt(0);)l=l.substring(1);if(l.indexOf(e)!=-1)return unescape(l.substring(e.length,l.length))}return""}function G(t){return e.alert(C(t)),t}function L(t,e){return"undefined"==typeof t||"undefined"==typeof e?"":D(e)?t.indexOf(e)>-1?t.substr(0,t.indexOf(e)):"":P(e)?t.substr(0,e):""}function B(t,e){return"undefined"==typeof t||"undefined"==typeof e?"":(t=""+t,D(e)?t.lastIndexOf(e)>-1?t.substr(t.lastIndexOf(e)+1):"":P(e)?t.substr(t.length-e):"")}function V(t){return t.replace(a,"ms-").replace(o,function(t,e){return e.toUpperCase()})}function W(t){return V(t).replace(l,function(t,e){return"-"+e.toLowerCase()})}function U(t,e){var i,n=(""+t).split(s),a=Number(n[0])<0||"-0"==n[0],o=0;return n[0]=n[0].replace(r,""),n[1]?(n[1]=n[1].replace(d,""),o=Number(n[0]+"."+n[1])||0):o=Number(n[0])||0,i=a?-o:o,v(e,function(t,e){"round"==t&&(i=P(e)?e<0?+(Math.round(i+"e-"+Math.abs(e))+"e+"+Math.abs(e)):+(Math.round(i+"e+"+e)+"e-"+e):Math.round(i)),"floor"==t&&(i=Math.floor(i)),"ceil"==t?i=Math.ceil(i):"money"==t?i=function(t){var e=""+t;if(isNaN(e)||""==e)return"";var i=e.split(".");i[0]+=".";do i[0]=i[0].replace(c,"$1,$2");while(c.test(i[0]));return i.length>1?i.join(""):i[0].split(".")[0]}(i):"abs"==t?i=Math.abs(Number(i)):"byte"==t&&(i=function(t){t=Number(i);var e="KB",n=t/1024;return n/1024>1&&(e="MB",n/=1024),n/1024>1&&(e="GB",n/=1024),U(n,{round:1})+e}(i))}),i}function Y(t){return"undefined"!=typeof t.length?Array.prototype.slice.call(t):[]}function X(t,e){var i=e.length,n=t.length,a=0;if("number"==typeof i)for(;a<i;a++)t[n++]=e[a];else for(;void 0!==e[a];)t[n++]=e[a++];return t.length=n,t}function Z(t,e){var i;return D(t)&&"undefined"!=typeof e&&"param"==e?t:D(t)&&"undefined"!=typeof e&&"object"==e||D(t)&&"undefined"==typeof e?(i={},v(t.split(u),function(){var t=this.split(h);i[t[0]]?(D(i[t[0]])&&(i[t[0]]=[i[t[0]]]),i[t[0]].push(t[1])):i[t[0]]=t[1]}),i):(i=[],v(t,function(t,e){i.push(t+"="+escape(e))}),i.join("&"))}function J(t){return encodeURIComponent(t)}function tt(t){return decodeURIComponent(t)}function et(){f.info.onerror.apply(this,arguments)}function it(t,e,i,n,a,o){var l,s;return s=new Date,e<0&&(e=0),"undefined"==typeof n&&(n=12),"undefined"==typeof a&&(a=0),l=new Date(Date.UTC(t,e,i||1,n,a,o||0)),0==e&&1==i&&l.getUTCHours()+l.getTimezoneOffset()/60<0?l.setUTCHours(0):l.setUTCHours(l.getUTCHours()+l.getTimezoneOffset()/60),l}function nt(t,e){var i=void 0,n=void 0,a=void 0,o=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,u=void 0,h=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,p=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if(D(t))if(0==t.length)t=new Date;else if(t.length>15)p.test(t)||h.test(t)?t=new Date(t):(s=t.split(/ /g),c=s[0].split(/\D/g),i=c[0],n=parseFloat(c[1]),a=parseFloat(c[2]),d=s[1]||"09:00",r=d.substring(0,5).split(":"),o=parseFloat(r[0]),l=parseFloat(r[1]),"AM"!==B(d,2)&&"PM"!==B(d,2)||(o+=12),t=it(i,n-1,a,o,l));else if(14==t.length)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,U(u.substr(6,2)),U(u.substr(8,2)),U(u.substr(10,2)),U(u.substr(12,2)));else if(t.length>7)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,U(u.substr(6,2)));else if(t.length>4)u=t.replace(/\D/g,""),t=it(u.substr(0,4),u.substr(4,2)-1,1);else{if(t.length>2)return u=t.replace(/\D/g,""),it(u.substr(0,4),u.substr(4,2)-1,1);t=new Date}return"undefined"==typeof e||"undefined"==typeof t?t:("add"in e&&(t=function(t,e){var i=void 0,n=void 0,a=void 0,o=void 0,l=864e5;return"undefined"!=typeof e.d?t.setTime(t.getTime()+e.d*l):"undefined"!=typeof e.m?(i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),i+=parseInt(e.m/12),n+=e.m%12,o=lt(i,n),o<a&&(a=o),t=new Date(i,n,a,12)):"undefined"!=typeof e.y&&t.setTime(t.getTime()+365*e.y*l),t}(new Date(t),e.add)),"set"in e&&(t=function(t,e){var i=void 0,n=void 0,a=void 0,o={firstDayOfMonth:function(t){return i=t.getFullYear(),n=t.getMonth(),a=1,new Date(i,n,a,12)},lastDayOfMonth:function(t){return i=t.getFullYear(),n=t.getMonth(),a=lt(i,n),new Date(i,n,a,12)}};return e in o?o[e](t):t}(new Date(t),e.set)),"return"in e?function(){var i=e["return"],n=void 0,a=void 0,o=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0,g=void 0,v=void 0,x=void 0,b=void 0,y=void 0,w=void 0,_=void 0,I=void 0,k=void 0;return n=t.getUTCFullYear(),a=st(t.getMonth()+1,2),o=st(t.getDate(),2),l=st(t.getHours(),2),s=st(t.getMinutes(),2),r=st(t.getSeconds(),2),d=t.getDay(),c=/[^y]*(yyyy)[^y]*/gi,c.exec(i),u=RegExp.$1,h=/[^m]*(MM)[^m]*/g,h.exec(i),p=RegExp.$1,f=/[^d]*(dd)[^d]*/gi,f.exec(i),g=RegExp.$1,v=/[^h]*(hh)[^h]*/gi,v.exec(i),x=RegExp.$1,b=/[^m]*(mm)[^i]*/g,b.exec(i),y=RegExp.$1,w=/[^s]*(ss)[^s]*/gi,w.exec(i),_=RegExp.$1,I=/[^d]*(dw)[^w]*/gi,I.exec(i),k=RegExp.$1,"yyyy"===u&&(i=i.replace(u,B(n,u.length))),"MM"===p&&(1==p.length&&(a=t.getMonth()+1),i=i.replace(p,a)),"dd"===g&&(1==g.length&&(o=t.getDate()),i=i.replace(g,o)),"hh"===x&&(i=i.replace(x,l)),"mm"===y&&(i=i.replace(y,s)),"ss"===_&&(i=i.replace(_,r)),"dw"==k&&(i=i.replace(k,m.weekNames[d].label)),i}():t)}function at(t,e){function i(t){return Math.floor(t.getTime()/l)*l}var n,a,o=nt(t),l=864e5,s=new Date;return"undefined"==typeof e?n=U((i(o)-i(s))/l,{floor:!0}):(n=U((i(o)-i(s))/l,{floor:!0}),e.today&&(s=nt(e.today),n=U((i(o)-i(s))/l,{floor:!0})),e.thisYear&&(a=new Date(s.getFullYear(),o.getMonth(),o.getDate()),n=U((i(a)-i(s))/l,{floor:!0}),n<0&&(a=new Date(s.getFullYear()+1,o.getMonth(),o.getDate()),n=U((i(a)-i(s))/l,{floor:!0}))),e.age&&(a=new Date(s.getFullYear(),o.getMonth(),o.getDate()),n=a.getFullYear()-o.getFullYear()),n)}function ot(t){var e=nt(t);return{year:e.getFullYear(),month:e.getMonth()+1,count:parseInt(e.getDate()/7+1)}}function lt(t,e){return 3==e||5==e||8==e||10==e?30:1==e?t%4==0&&t%100!=0||t%400==0?29:28:31}function st(t,e,i,n){var a=t.toString(n||10);return rt(i||"0",e-a.length)+a}function rt(t,e){return e<1?"":new Array(e+1).join(t)}function dt(t,e){if(t)for(;function(){var i=!0;if("undefined"==typeof e)t=!!t.parentNode&&t.parentNode;else if(z(e))i=e(t);else if(j(e))for(var n in e)if("tagname"===n){if(t.tagName.toLocaleLowerCase()!=e[n]){i=!1;break}}else if("clazz"===n||"class_name"===n){if(!("className"in t)){i=!1;break}for(var a=t.className.split(p),o=!1,l=0;l<a.length;l++)if(a[l]==e[n]){o=!0;break}i=o}else{if(!t.getAttribute){i=!1;break}if(t.getAttribute(n)!=e[n]){i=!1;break}}return!i}();){if(!t.parentNode||!t.parentNode.parentNode){t=!1;break}t=t.parentNode}return t}function ct(t){var e=/\D?(\d+)([a-zA-Z%]*)/i,i=(""+t).match(e),n=i[2]||"px";return i[1]+n}function ut(t){var e;if(j(t)){e="";for(var i in t)e+=i+":"+t[i]+";";return e}if(D(t)){e={};var n=t.split(/[ ]*;[ ]*/g);return n.forEach(function(t){if(""!==(t=t.trim())){var i=t.split(/[ ]*:[ ]*/g);e[i[0]]=i[1]}}),e}}function ht(t){if(!t)var t=window.event;return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1}function pt(t){var e,i;if("object"==("undefined"==typeof t?"undefined":_typeof(t))){if(g.isArray(t)){i=t.length,e=new Array(i);for(var n=0;n<i;n++)e[n]=pt(t[n]);return e}return jQuery.extend({},t)}return t}function ft(t){return"[object String]"!=vt.call(t)?t:t?t.replace(/[\<\>\&\"]/gm,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";default:return t}}):""}function mt(t){return"[object String]"!=vt.call(t)?t:t?t.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm,function(t){switch(t){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';default:return t}}):""}function gt(t){function e(t){this.value=t,this.toString=function(){return this.value},this.format=function(){for(var t=[],e=0,i=arguments.length;e<i;e++)t=t.concat(arguments[e]);return this.value.replace(/{(\d+)}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})},this.escape=function(){return ft(this.value)},this.unescape=function(){return mt(this.value)},this.encode=function(){return J(this.value)},this.decode=function(){return tt(this.value)},this.left=function(t){return L(this.value,t)},this.right=function(t){return B(this.value,t)},this.camelCase=function(){return V(this.value)},this.snakeCase=function(){return W(this.value)}}return new e(t)}var vt=Object.prototype.toString,xt=function(){var t={textRange:{selectAll:function(t,e,i){},arr:function(t,e,i){e.moveStart("character",i[0]),e.collapse(),e.moveEnd("character",i[1])},start:function(t,e,i){e.moveStart("character",0),e.collapse()},end:function(t,e,i){e.moveStart("character",e.text.length),e.collapse()}},range:{selectAll:function(t,e,i){e.selectNodeContents(t)},arr:function(t,e,i){j(i[0])?(e.setStart(i[0].node,i[0].offset),e.setEnd(i[1].node,i[1].offset)):(e.setStart(t.firstChild,i[0]),e.setEnd(t.firstChild,i[1]))},start:function(t,e,i){e.selectNodeContents(t),e.collapse(!0)},end:function(t,e,i){e.selectNodeContents(t),e.collapse(!1)}}};return function(e,n){var a,o,l;if(e instanceof jQuery&&(e=e.get(0)),e){if(i.body.createTextRange?(a=document.body.createTextRange(),a.moveToElementText(e),o="textRange"):window.getSelection&&(l=window.getSelection(),a=document.createRange(),o="range"),"undefined"==typeof n)t[o].selectAll.call(this,e,a,n);else if(N(n))t[o].arr.call(this,e,a,n);else for(var s in t[o])if(n==s){t[o][s].call(this,e,a,n);break}i.body.createTextRange?(a.select(),e.focus()):window.getSelection&&(e.focus(),l.removeAllRanges(),l.addRange(a))}}}(),bt=function(t,e,i){var n,a,o=function(){var o=Y(arguments);a&&clearTimeout(a),n?(n&&clearTimeout(n),n=setTimeout(function(e){t.apply(this,e)}.bind(this,o),e)):n=setTimeout(function(e){t.apply(this,e)}.bind(this,o),i?0:e),a=setTimeout(function(){clearTimeout(n),n=null},e)};return o.cancel=function(){clearTimeout(n),clearTimeout(a),n=null},o};return{alert:G,each:v,map:x,search:b,reduce:_,reduceRight:I,filter:k,sum:y,avg:w,toJson:C,parseJson:$,first:M,last:O,deepCopy:pt,left:L,right:B,getType:S,isWindow:T,isElement:E,isObject:j,isArray:N,isFunction:z,isString:D,isNumber:P,isNodelist:K,isUndefined:Q,isNothing:R,setCookie:F,getCookie:H,camelCase:V,snakeCase:W,number:U,toArray:Y,merge:X,param:Z,error:et,date:nt,dday:at,daysOfMonth:lt,weeksOfMonth:ot,setDigit:st,times:rt,findParentNode:dt,cssNumber:ct,css:ut,isDate:A,isDateFormat:q,stopEvent:ht,selectRange:xt,debounce:bt,escapeHtml:ft,unescapeHtml:mt,string:gt}}(),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=f:t.ax5=function(){return f}()}).call("undefined"!=typeof window?window:void 0),ax5.def={},ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"},ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"},ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."},ax5.info.errorMsg.ax5calendar={401:"Can not find target element"},ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"},ax5.info.errorMsg.ax5menu={501:"Can not find menu item"},ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},function(){var t=this,e=/^\s*|\s*$/g;if(Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(a){if("object"!==("undefined"==typeof a?"undefined":_typeof(a))&&("function"!=typeof a||null===a))throw new TypeError("type err");var o,l,s=[];for(o in a)t.call(a,o)&&s.push(o);if(e)for(l=0;l<n;l++)t.call(a,i[l])&&s.push(i[l]);return s}}()),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw TypeError();var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw TypeError();var n,a=arguments[1];for(n=0;n<i;n++)n in e&&t.call(a,e[n],n,e)}),Function.prototype.bind||(Function.prototype.bind=function(t){function e(){}if("function"!=typeof this)throw TypeError("function");var i=[].slice,n=i.call(arguments,1),a=this,o=function(){return a.apply(this instanceof e?this:t,n.concat(i.call(arguments)))};return e.prototype=a.prototype,o.prototype=new e,o}),function(){if(!document.querySelectorAll&&!document.querySelector&&document.createStyleSheet){var t=document.createStyleSheet(),e=function(e,i){var n,a=document.all,o=a.length,l=[];for(t.addRule(e,"foo:bar"),n=0;n<o&&!("bar"===a[n].currentStyle.foo&&(l.push(a[n]),l.length>i));n+=1);return t.removeRule(0),l};document.querySelectorAll=function(t){return e(t,1/0)},document.querySelector=function(t){return e(t,1)[0]||null}}}(),String.prototype.trim||!function(){String.prototype.trim=function(){return this.replace(e,"")}}(),window.JSON||(window.JSON={parse:function(t){return new Function("","return "+t)()},stringify:function(){var t,e=/["]/g;return t=function(i){var n,a,o;switch(n="undefined"==typeof i?"undefined":_typeof(i)){case"string":return'"'+i.replace(e,'\\"')+'"';case"number":case"boolean":return i.toString();case"undefined":return"undefined";case"function":return'""';case"object":if(!i)return"null";if(n="",i.splice){for(a=0,o=i.length;a<o;a++)n+=","+t(i[a]);return"["+n.substr(1)+"]"}for(a in i)i.hasOwnProperty(a)&&void 0!==i[a]&&"function"!=typeof i[a]&&(n+=',"'+a+'":'+t(i[a]));return"{"+n.substr(1)+"}"}}}()}),function(){if(!document.documentMode||document.documentMode>=9)return!1;var t=Array.prototype.splice;Array.prototype.splice=function(){var e=Array.prototype.slice.call(arguments);return"undefined"==typeof e[1]&&(e[1]=this.length-e[0]),t.apply(this,e)}}(),function(){var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(e){Array.prototype.slice=function(e,i){if(i="undefined"!=typeof i?i:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,e,i);var n,a,o=[],l=this.length,s=e||0;s=s>=0?s:Math.max(0,l+s);var r="number"==typeof i?Math.min(i,l):l;if(i<0&&(r=l+i),a=r-s,a>0)if(o=new Array(a),this.charAt)for(n=0;n<a;n++)o[n]=this.charAt(s+n);else for(n=0;n<a;n++)o[n]=this[s+n];return o}}}(),function(t){for(var e,i,n={},a=function(){},o="memory".split(","),l="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=o.pop();)t[e]=t[e]||n;for(;i=l.pop();)t[i]=t[i]||a}(window.console||{}),!(window.webkitMatchMedia||window.mozMatchMedia||window.oMatchMedia||window.msMatchMedia||window.matchMedia)){var t=document.getElementsByTagName("html")[0];t.className+=" no-matchmedia"}window.matchMedia||(window.matchMedia=function(){var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var t=window.matchMedia,e=t("only all").matches,i=!1,n=0,a=[],o=function(e){clearTimeout(n),n=setTimeout(function(){for(var e=0,i=a.length;e<i;e++){var n=a[e].mql,o=a[e].listeners||[],l=t(n.media).matches;if(l!==n.matches){n.matches=l;for(var s=0,r=o.length;s<r;s++)o[s].call(window,n)}}},30)};window.matchMedia=function(n){var l=t(n),s=[],r=0;return l.addListener=function(t){e&&(i||(i=!0,window.addEventListener("resize",o,!0)),0===r&&(r=a.push({mql:l,listeners:s})),s.push(t))},l.removeListener=function(t){for(var e=0,i=s.length;e<i;e++)s[e]===t&&s.splice(e,1)},l}}();document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0]}.call(window),ax5.ui=function(){function t(){this.config={},this.name="root",this.setConfig=function(t,e){return jQuery.extend(!0,this.config,t),"undefined"!=typeof e&&e!==!0||this.init(),this},this.init=function(){console.log(this.config)},this.bindWindowResize=function(t){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__),this.bindWindowResize__=setTimeout(function(){t.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)},this.stopEvent=function(t){return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,!1},this.toString=function(){return this.name+"@"+this.version},this.main=function(){}.apply(this,arguments)}function e(t,e){if(!t||!t.className)throw"invalid call";var i=t.classStore?t.classStore:ax5.ui;if(!i)throw"invalid classStore";ax5.def[t.className]={version:t.version};var n=function(t,e){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2])}},a=function(t,e,i){return i.name=t,i.version=e,i.instanceId=ax5.getGuid(),i},o=function(e){var i=t.superClass?t.superClass:ax5.ui.root;if(!ax5.util.isFunction(i))throw"invalid superClass";i.call(this),e.prototype=new i},l=function s(){if(!(this&&this instanceof s))throw"invalid call";var i=n(e,arguments);return a(t.className,t.version||"",i)};o.call(this,e),i[t.className]=l}return{root:t,addClass:e}}(),function(t,e){e(t.mustache={})}(window.ax5,function(t){function e(t){return"function"==typeof t}function i(t){return m(t)?"array":"undefined"==typeof t?"undefined":_typeof(t)}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(t,e){return null!=t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&e in t}function o(t,e){return g.call(t,e)}function l(t){return!o(v,t)}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return x[t]})}function r(e,i){function a(){if(v&&!x)for(;g.length;)delete f[g.pop()];else g=[];v=!1,x=!1}function o(t){if("string"==typeof t&&(t=t.split(y,2)),!m(t)||2!==t.length)throw new Error("Invalid tags: "+t);s=new RegExp(n(t[0])+"\\s*"),r=new RegExp("\\s*"+n(t[1])),h=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var s,r,h,p=[],f=[],g=[],v=!1,x=!1;o(i||t.tags);for(var k,C,$,S,T,E,j=new u(e);!j.eos();){if(k=j.pos,$=j.scanUntil(s))for(var N=0,z=$.length;N<z;++N)S=$.charAt(N),l(S)?g.push(f.length):x=!0,f.push(["text",S,k,k+1]),k+=1,"\n"===S&&a();if(!j.scan(s))break;if(v=!0,C=j.scan(I)||"name",j.scan(b),"="===C?($=j.scanUntil(w),j.scan(w),j.scanUntil(r)):"{"===C?($=j.scanUntil(h),j.scan(_),j.scanUntil(r),C="&"):$=j.scanUntil(r),!j.scan(r))throw new Error("Unclosed tag at "+j.pos);if(T=[C,$,k,j.pos],f.push(T),"#"===C||"^"===C)p.push(T);else if("/"===C){if(E=p.pop(),!E)throw new Error('Unopened section "'+$+'" at '+k);if(E[1]!==$)throw new Error('Unclosed section "'+E[1]+'" at '+k)}else"name"===C||"{"===C||"&"===C?x=!0:"="===C&&o($)}if(E=p.pop())throw new Error('Unclosed section "'+E[1]+'" at '+j.pos);return c(d(f))}function d(t){for(var e,i,n=[],a=0,o=t.length;a<o;++a)e=t[a],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],a=n,o=[],l=0,s=t.length;l<s;++l)switch(e=t[l],e[0]){case"#":case"^":a.push(e),o.push(e),a=e[4]=[];break;case"/":i=o.pop(),i[5]=e[2],a=o.length>0?o[o.length-1][4]:n;break;default:a.push(e)}return n}function u(t){this.string=t,this.tail=t,this.pos=0}function h(t,e){this.view=t,this.cache={".":this.view,"@each":function(){var t=[];for(var e in this)t.push({"@key":e,"@value":this[e]});return t}},this.parent=e}function p(){this.cache={}}var f=Object.prototype.toString,m=Array.isArray||function(t){return"[object Array]"===f.call(t)},g=RegExp.prototype.test,v=/\S/,x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,y=/\s+/,w=/\s*=/,_=/\s*\}/,I=/#|\^|\/|>|\{|&|=|!/;u.prototype.eos=function(){return""===this.tail},u.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},u.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},h.prototype.push=function(t){return new h(t,this)},h.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var o,l,s=this,r=!1;s;){if(t.indexOf(".")>0)for(i=s.view,o=t.split("."),l=0;null!=i&&l<o.length;)l===o.length-1&&(r=a(i,o[l])),i=i[o[l++]];else i=s.view[t],r=a(s.view,t);if(r)break;s=s.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=r(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),a=e instanceof h?e:new h(e);return this.renderTokens(n,a,i,t)},p.prototype.renderTokens=function(t,e,i,n){for(var a,o,l,s="",r=0,d=t.length;r<d;++r)l=void 0,a=t[r],o=a[0],"#"===o?l=this.renderSection(a,e,i,n):"^"===o?l=this.renderInverted(a,e,i,n):">"===o?l=this.renderPartial(a,e,i,n):"&"===o?l=this.unescapedValue(a,e):"name"===o?l=this.escapedValue(a,e):"text"===o&&(l=this.rawValue(a)),void 0!==l&&(s+=l);return s},p.prototype.renderSection=function(t,i,n,a){function o(t){return l.render(t,i,n)}var l=this,s="",r=i.lookup(t[1]);if(r){if(m(r))for(var d=0,c=r.length;d<c;++d)r[d]&&("object"===_typeof(r[d])&&(r[d]["@i"]=d,r[d]["@first"]=0===d),s+=this.renderTokens(t[4],i.push(r[d]),n,a));else if("object"===("undefined"==typeof r?"undefined":_typeof(r))||"string"==typeof r||"number"==typeof r)s+=this.renderTokens(t[4],i.push(r),n,a);else if(e(r)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");r=r.call(i.view,a.slice(t[3],t[5]),o),null!=r&&(s+=r)}else s+=this.renderTokens(t[4],i,n,a);return s}},p.prototype.renderInverted=function(t,e,i,n){var a=e.lookup(t[1]);if(!a||m(a)&&0===a.length)return this.renderTokens(t[4],e,i,n)},p.prototype.renderPartial=function(t,i,n){if(n){var a=e(n)?n(t[1]):n[t[1]];return null!=a?this.renderTokens(this.parse(a),i,n,a):void 0}},p.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},p.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.1.3",t.tags=["{{","}}"];var k=new p;t.clearCache=function(){return k.clearCache()},t.parse=function(t,e){return k.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return k.render(t,e,n)},t.to_html=function(i,n,a,o){var l=t.render(i,n,a);return e(o)?void o(l):l},t.escape=s,t.Scanner=u,t.Context=h,t.Writer=p}),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"dialog",version:"1.3.82"},function(){var n=function(){var n,a=this;this.instanceId=ax5.getGuid(),this.config={id:"ax5-dialog-"+this.instanceId,clickEventName:"click",theme:"default",width:300,title:"",msg:"",lang:{ok:"ok",cancel:"cancel"},animateTime:150},this.activeDialog=null,n=this.config;var o=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),e=null,!0},l=function(e,i){var a={dialogId:e,title:i.title||n.title||"",msg:(i.msg||n.msg||"").replace(/\n/g,"<br/>"),input:i.input,btns:i.btns,_crlf:function(){return this.replace(/\n/g,"<br/>")}};try{return t.tmpl.get.call(this,"dialogDisplay",a)}finally{a=null}},s=function(t,e){var i,a={};t.id=t.id||n.id,i={width:t.width},jQuery(document.body).append(l.call(this,t.id,t)),this.activeDialog=jQuery("#"+t.id),this.activeDialog.css({width:i.width}),t.height=i.height=this.activeDialog.height(),"undefined"==typeof t.position||"center"===t.position?(a.top=jQuery(window).height()/2-i.height/2,a.left=jQuery(window).width()/2-i.width/2):(a.left=t.position.left||0,a.top=t.position.top||0),n.zIndex&&(a["z-index"]=n.zIndex),this.activeDialog.css(a),"prompt"===t.dialogType?this.activeDialog.find("[data-dialog-prompt]").get(0).focus():this.activeDialog.find("[data-dialog-btn]").get(0).focus(),this.activeDialog.find("[data-dialog-btn]").on(n.clickEventName,function(i){
d.call(this,i||window.event,t,e)}.bind(this)),jQuery(window).bind("keydown.ax5dialog",function(i){c.call(this,i||window.event,t,e)}.bind(this)),jQuery(window).bind("resize.ax5dialog",function(t){r.call(this,t||window.event)}.bind(this)),o.call(this,t,{self:this,state:"open"}),a=null,i=null},r=function(t){if(!this.activeDialog)return this;var e=a.dialogConfig,i={width:e.width,height:e.height};return"undefined"==typeof e.position||"center"===e.position?(i.top=window.innerHeight/2-i.height/2,i.left=window.innerWidth/2-i.width/2):(i.left=e.position.left||0,i.top=e.position.top||0),i.left<0&&(i.left=0),i.top<0&&(i.top=0),this.activeDialog.css(i),e=null,i=null,this},d=function(t,e,n,a,o){var l;if(t.srcElement&&(t.target=t.srcElement),a=i.findParentNode(t.target,function(t){if(t.getAttribute("data-dialog-btn"))return!0})){if(o=a.getAttribute("data-dialog-btn"),l={self:this,key:o,value:e.btns[o],dialogId:e.id,btnTarget:a},"prompt"===e.dialogType){var s=null;for(var r in e.input)if(l[r]=this.activeDialog.find("[data-dialog-prompt="+r+"]").val(),""==l[r]||null==l[r]){s=r;break}}if(e.btns[o].onClick)e.btns[o].onClick.call(l,o);else if("alert"===e.dialogType)n&&n.call(l,o),this.close({doNotCallback:!0});else if("confirm"===e.dialogType)n&&n.call(l,o),this.close({doNotCallback:!0});else if("prompt"===e.dialogType){if("ok"===o&&s)return this.activeDialog.find('[data-dialog-prompt="'+s+'"]').get(0).focus(),!1;n&&n.call(l,o),this.close({doNotCallback:!0})}}l=null,e=null,n=null,a=null,o=null},c=function(t,e,i,n,a){var o,l=null;if(t.keyCode==ax5.info.eventKeys.ESC&&this.close(),"prompt"===e.dialogType&&t.keyCode==ax5.info.eventKeys.RETURN){o={self:this,key:a,value:e.btns[a],dialogId:e.id,btnTarget:n};for(var s in e.input)if(o[s]=this.activeDialog.find("[data-dialog-prompt="+s+"]").val(),""==o[s]||null==o[s]){l=s;break}if(l)return o=null,l=null,!1;i&&i.call(o,a),this.close({doNotCallback:!0})}o=null,l=null,e=null,i=null,n=null,a=null};this.init=function(){this.onStateChanged=n.onStateChanged},this.alert=function(t,e,o){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","alert")):setTimeout(function(){this.alert(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,n,t),t=a.dialogConfig,t.dialogType="alert",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme}}),s.call(this,t,e),this)},this.confirm=function(t,e,o){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","confirm")):setTimeout(function(){this.confirm(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,n,t),t=a.dialogConfig,t.dialogType="confirm",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme},cancel:{label:n.lang.cancel}}),s.call(this,t,e),this)},this.prompt=function(t,e,o){return i.isString(t)&&(t={title:n.title,msg:t}),this.activeDialog?(o?console.log(ax5.info.getError("ax5dialog","501","prompt")):setTimeout(function(){this.prompt(t,e,1)}.bind(this),Number(n.animateTime)+100),this):(a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,n,t),t=a.dialogConfig,t.dialogType="prompt",t.theme=t.theme||n.theme||"",t.callback=e,"undefined"==typeof t.input&&(t.input={value:{label:""}}),"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme},cancel:{label:n.lang.cancel}}),s.call(this,t,e),this)},this.close=function(t){var e,i;return this.activeDialog&&(e=a.dialogConfig,this.activeDialog.addClass("destroy"),jQuery(window).unbind("keydown.ax5dialog"),jQuery(window).unbind("resize.ax5dialog"),setTimeout(function(){this.activeDialog&&(this.activeDialog.remove(),this.activeDialog=null),i={self:this,state:"close",dialogId:e.id},!e.callback||t&&t.doNotCallback||e.callback.call(i),e&&e.onStateChanged?e.onStateChanged.call(i,i):this.onStateChanged&&this.onStateChanged.call(i,i),e=null,i=null}.bind(this),n.animateTime)),this},this.main=function(){e.dialog_instance=e.dialog_instance||[],e.dialog_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.dialog}(),function(){var t=ax5.ui.dialog,e=function(t){return' \n        <div id="{{dialogId}}" data-ax5-ui="dialog" class="ax5-ui-dialog {{theme}}">\n            <div class="ax-dialog-header">\n                {{{title}}}\n            </div>\n            <div class="ax-dialog-body">\n                <div class="ax-dialog-msg">{{{msg}}}</div>\n                \n                {{#input}}\n                <div class="ax-dialog-prompt">\n                    {{#@each}}\n                    <div class="form-group">\n                    {{#@value.label}}\n                    <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n                    {{/@value.label}}\n                    <input type="{{@value.type}}" placeholder="{{@value.placeholder}}" class="form-control {{@value.theme}}" data-dialog-prompt="{{@key}}" style="width:100%;" value="{{@value.value}}" />\n                    {{#@value.help}}\n                    <p class="help-block">{{#_crlf}}{{.}}{{/_crlf}}</p>\n                    {{/@value.help}}\n                    </div>\n                    {{/@each}}\n                </div>\n                {{/input}}\n                \n                <div class="ax-dialog-buttons">\n                    <div class="ax-button-wrap">\n                    {{#btns}}\n                        {{#@each}}\n                        <button type="button" data-dialog-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{@value.label}}</button>\n                        {{/@each}}\n                    {{/btns}}\n                    </div>\n                </div>\n            </div>\n        </div>  \n        '};t.tmpl={dialogDisplay:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"mask",version:"1.3.82"},function(){var n=function(){var n,a=this;this.instanceId=ax5.getGuid(),this.config={theme:"",target:jQuery(document.body).get(0),animateTime:250},this.maskContent="",this.status="off",n=this.config;var o=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),t=null,e=null,!0},l=function(e){return"undefined"==typeof e.templateName&&(e.templateName="defaultMask"),t.tmpl.get.call(this,e.templateName,e)},s=function(t){this.maskContent=t};this.init=function(){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.config.content&&s.call(this,this.config.content)},this.open=function(t){"on"===this.status&&this.close(),t&&t.content&&s.call(this,t.content),t&&"undefined"==typeof t.templateName&&(t.templateName="defaultMask"),a.maskConfig={},jQuery.extend(!0,a.maskConfig,this.config,t);var e,i=a.maskConfig,n=i.target,r=jQuery(n),d="ax-mask-"+ax5.getGuid(),c={},u={},h=i.templateName,p=l({theme:i.theme,maskId:d,body:this.maskContent,templateName:h});return jQuery(document.body).append(p),n&&n!==jQuery(document.body).get(0)&&(c={position:i.position||"absolute",left:r.offset().left,top:r.offset().top,width:r.outerWidth(),height:r.outerHeight()},"undefined"!=typeof a.maskConfig.zIndex&&(c["z-index"]=a.maskConfig.zIndex),r.addClass("ax-masking"),jQuery(window).bind("resize.ax5mask-"+this.instanceId,function(t){this.align()}.bind(this))),this.$mask=e=jQuery("#"+d),this.$target=r,this.status="on",e.css(c),i.onClick&&e.on("click",function(t){u={self:a,state:"open",type:"click"},a.maskConfig.onClick.call(u,u)}),o.call(this,null,{self:this,state:"open"}),t=null,i=null,n=null,r=null,d=null,e=null,c=null,u=null,h=null,p=null,this},this.close=function(t){var e=this;return this.$mask&&!function(){var i=function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),o.call(this,null,{self:this,state:"close"}),jQuery(window).unbind("resize.ax5mask-"+this.instanceId)};t?setTimeout(function(){i.call(this)}.bind(e),t):i.call(e)}(),this},this.fadeOut=function(){var t=this;return this.$mask&&!function(){var e=function(){this.status="off",this.$mask.remove(),this.$target.removeClass("ax-masking"),o.call(this,null,{self:this,state:"close"}),jQuery(window).unbind("resize.ax5mask-"+this.instanceId)};t.$mask.addClass("fade-out"),setTimeout(function(){e.call(this)}.bind(t),n.animateTime)}(),this},this.align=function(){if(this.maskConfig&&this.maskConfig.target&&this.maskConfig.target!==jQuery(document.body).get(0))try{var t={position:this.maskConfig.position||"absolute",left:this.$target.offset().left,top:this.$target.offset().top,width:this.$target.outerWidth(),height:this.$target.outerHeight()};this.$mask.css(t)}catch(e){}return this},this.pullRequest=function(){console.log("test pullRequest01"),console.log("test pullRequest02")},this.main=function(){e.mask_instance=e.mask_instance||[],e.mask_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.mask}(),function(){var t=ax5.ui.mask,e=function(t){return'\n            <div class="ax-mask {{theme}}" id="{{maskId}}">\n                <div class="ax-mask-bg"></div>\n                <div class="ax-mask-content">\n                    <div class="ax-mask-body">\n                    {{{body}}}\n                    </div>\n                </div>\n            </div>\n        '};t.tmpl={defaultMask:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"toast",version:"1.3.82"},function(){var n=function(){var n,a=this,o=0,l=null;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3e3,animateTime:250,containerPosition:"bottom-left"},this.toastContainer=null,this.queue=[],n=this.config;var s=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),t=null,e=null,!0},r=function(e,i){var n={toastId:e,theme:i.theme,icon:i.icon,msg:(i.msg||"").replace(/\n/g,"<br/>"),btns:i.btns,closeIcon:i.closeIcon};try{return t.tmpl.get.call(this,"toastDisplay",n)}finally{e=null,n=null}},d=function(t,e){l&&clearTimeout(l);var d,u={width:t.width};return t.id="ax5-toast-"+a.containerId+"-"+ ++o,jQuery("#"+t.id).get(0)?this:("bottom"==i.left(n.containerPosition,"-")?this.toastContainer.append(r(t.id,t)):this.toastContainer.prepend(r(t.id,t)),d=jQuery("#"+t.id),d.css({width:u.width}),t.toastBox=d,this.queue.push(t),s.call(this,t,{self:this,state:"open",toastId:t.id}),"push"===t.toastType?(setTimeout(function(){this.close(t,e)}.bind(this),n.displayTime),d.find("[data-ax-toast-btn]").on(n.clickEventName,function(i){c.call(this,i||window.event,t,d,e)}.bind(this))):"confirm"===t.toastType&&d.find("[data-ax-toast-btn]").on(n.clickEventName,function(i){c.call(this,i||window.event,t,d,e)}.bind(this)),void(u=null))},c=function(t,e,n,a,o,l){if(o=i.findParentNode(t.target,function(t){if(t.getAttribute("data-ax-toast-btn"))return!0})){l=o.getAttribute("data-ax-toast-btn");var s={key:l,value:e.btns?e.btns[l]:l,toastId:e.id,btn_target:o};e.btns&&e.btns[l].onClick?e.btns[l].onClick.call(s,l):"push"===e.toastType?(a&&a.call(s,l),this.close(e,a)):"confirm"===e.toastType&&(a&&a.call(s,l),this.close(e,a))}t=null,e=null,n=null,a=null,o=null,l=null};this.init=function(){this.onStateChanged=n.onStateChanged,a.containerId=ax5.getGuid();var t=[];n.zIndex&&t.push("z-index:"+n.zIndex),jQuery(document.body).append('<div class="ax5-ui-toast-container '+n.containerPosition+'" data-toast-container="'+a.containerId+'" style="'+t.join(";")+'"></div>'),this.toastContainer=jQuery('[data-toast-container="'+a.containerId+'"]')},this.push=function(t,e){return a.containerId||this.init(),i.isString(t)&&(t={title:n.title,msg:t}),t.toastType="push",a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,n,t),t=a.dialogConfig,d.call(this,t,e),t=null,e=null,this},this.confirm=function(t,e){return a.containerId||this.init(),i.isString(t)&&(t={title:n.title,msg:t}),t.toastType="confirm",a.dialogConfig={},jQuery.extend(!0,a.dialogConfig,n,t),t=a.dialogConfig,"undefined"==typeof t.btns&&(t.btns={ok:{label:n.lang.ok,theme:t.theme}}),d.call(this,t,e),t=null,e=null,this},this.close=function(t,e){"undefined"==typeof t&&(t=i.last(this.queue));var a=t.toastBox;return a.addClass("push"==t.toastType?"removed":"destroy"),this.queue=i.filter(this.queue,function(){return t.id!=this.id}),setTimeout(function(){var i={toastId:t.id};a.remove(),e&&e.call(i),i={self:this,state:"close",toastId:t.id},s.call(this,t,i),0===this.queue.length&&(l&&clearTimeout(l),l=setTimeout(function(){0===this.queue.length&&(o=0)}.bind(this),3e3)),i=null,t=null,e=null,a=null}.bind(this),n.animateTime),this},this.main=function(){e.toast_instance=e.toast_instance||[],e.toast_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.toast}(),function(){var t=ax5.ui.toast,e=function(t){return'\n        <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n            {{#icon}}\n            <div class="ax-toast-icon">{{{.}}}</div>\n            {{/icon}}\n            <div class="ax-toast-body">{{{msg}}}</div>\n            {{#btns}}\n            <div class="ax-toast-buttons">\n                <div class="ax-button-wrap">\n                    {{#@each}}\n                    <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                </div>\n            </div>\n            {{/btns}}\n            {{^btns}}\n                <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n            {{/btns}}\n            <div style="clear:both;"></div>\n        </div>'};t.tmpl={toastDisplay:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"modal",version:"1.3.82"},function(){var n=function(){var n=this,a=void 0,o={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},l=function(t){var e=t;return"changedTouches"in t&&(e=t.changedTouches[0]),{clientX:e.clientX,clientY:e.clientY}};this.instanceId=ax5.getGuid(),this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"click",theme:"default",width:300,height:400,closeToEsc:!0,disableDrag:!1,animateTime:250},this.activeModal=null,this.watingModal=!1,this.$={},a=this.config;var s=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),!0},r=function(e,i){var n={modalId:e,theme:i.theme,header:i.header,fullScreen:i.fullScreen?"fullscreen":"",styles:"",iframe:i.iframe,iframeLoadingMsg:i.iframeLoadingMsg};return i.zIndex&&(n.styles+="z-index:"+i.zIndex+";"),i.absolute&&(n.styles+="position:absolute;"),n.iframe&&"string"==typeof n.iframe.param&&(n.iframe.param=ax5.util.param(n.iframe.param)),t.tmpl.get.call(this,"content",n,{})},d=function(t,e){var d=void 0;jQuery(document.body).append(r.call(this,t.id,t)),this.activeModal=jQuery("#"+t.id),this.$={root:this.activeModal,header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')},t.iframe&&(this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]'),this.$.iframe=this.activeModal.find('[data-modal-els="iframe"]'),this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]'),this.$["iframe-loading"]=this.activeModal.find('[data-modal-els="iframe-loading"]')),this.align(),d={self:this,id:t.id,theme:t.theme,width:t.width,height:t.height,state:"open",$:this.$},t.iframe&&(this.$["iframe-wrap"].css({height:t.height}),this.$.iframe.css({height:t.height}),this.$["iframe-form"].attr({method:t.iframe.method}),this.$["iframe-form"].attr({target:t.id+"-frame"}),this.$["iframe-form"].attr({action:t.iframe.url}),this.$.iframe.on("load",function(){d.state="load",t.iframeLoadingMsg&&this.$["iframe-loading"].hide(),s.call(this,t,d)}.bind(this)),t.iframeLoadingMsg||this.$.iframe.show(),this.$["iframe-form"].submit()),e&&e.call(d),this.watingModal||s.call(this,t,d),t.closeToEsc&&jQuery(window).bind("keydown.ax-modal",function(t){u.call(this,t||window.event)}.bind(this)),jQuery(window).bind("resize.ax-modal",function(t){this.align(null,t||window.event)}.bind(this)),this.activeModal.find("[data-modal-header-btn]").on(a.clickEventName,function(e){c.call(this,e||window.event,t)}.bind(this)),this.$.header.bind(o.mousedown,function(e){if(t.isFullScreen)return!1;var a=i.findParentNode(e.target,function(t){if(t.getAttribute("data-modal-header-btn"))return!0});a||1==t.disableDrag||(n.mousePosition=l(e),p.on.call(n))}).bind("dragstart",function(t){return i.stopEvent(t),!1})},c=function(t,e,n,a,o){var l=void 0;t.srcElement&&(t.target=t.srcElement),a=i.findParentNode(t.target,function(t){if(t.getAttribute("data-modal-header-btn"))return!0}),a&&(o=a.getAttribute("data-modal-header-btn"),l={self:this,key:o,value:e.header.btns[o],dialogId:e.id,btnTarget:a},e.header.btns[o].onClick&&e.header.btns[o].onClick.call(l,o)),l=null,e=null,n=null,a=null,o=null},u=function(t){t.keyCode==ax5.info.eventKeys.ESC&&this.close()},h={"top-left":function(){this.align({left:"left",top:"top"})},"top-right":function(){this.align({left:"right",top:"top"})},"bottom-left":function(){this.align({left:"left",top:"bottom"})},"bottom-right":function(){this.align({left:"right",top:"bottom"})},"center-middle":function(){this.align({left:"center",top:"middle"})}},p={on:function(){var t=this.activeModal.css("z-index"),e=this.activeModal.position(),i={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},l={width:jQuery(window).width(),height:jQuery(window).height()},s=function(t){n.__dx=t.clientX-n.mousePosition.clientX,n.__dy=t.clientY-n.mousePosition.clientY;var a=0,o=l.width-i.width,s=0,r=l.height-i.height;return a>e.left+n.__dx?n.__dx=-e.left:o<e.left+n.__dx&&(n.__dx=o-e.left),s>e.top+n.__dy?n.__dy=-e.top:r<e.top+n.__dy&&(n.__dy=r-e.top),{left:e.left+n.__dx+$(document).scrollLeft(),top:e.top+n.__dy+$(document).scrollTop()}};n.__dx=0,n.__dy=0,n.resizer||(n.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>'),n.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>'),n.resizerBg.css({zIndex:t}),n.resizer.css({left:e.left,top:e.top,width:i.width,height:i.height,zIndex:t+1}),jQuery(document.body).append(n.resizerBg).append(n.resizer),n.activeModal.addClass("draged")),jQuery(document.body).bind(o.mousemove+".ax5modal-"+a.id,function(t){n.resizer.css(s(t))}).bind(o.mouseup+".ax5layout-"+this.instanceId,function(t){p.off.call(n)}).bind("mouseleave.ax5layout-"+this.instanceId,function(t){p.off.call(n)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){var t=function(){var t=this.activeModal.offset();t.left+=this.__dx-$(document).scrollLeft(),t.top+=this.__dy-$(document).scrollTop(),this.activeModal.css(t)};this.resizer&&(this.activeModal.removeClass("draged"),this.resizer.remove(),this.resizer=null,this.resizerBg.remove(),this.resizerBg=null,t.call(this)),jQuery(document.body).unbind(o.mousemove+".ax5modal-"+a.id).unbind(o.mouseup+".ax5modal-"+a.id).unbind("mouseleave.ax5modal-"+a.id),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};this.init=function(){this.onStateChanged=a.onStateChanged},this.open=function(t,e,i){return"undefined"==typeof i&&(i=0),this.activeModal?i<3&&(this.watingModal=!0,setTimeout(function(){this.open(t,e,i+1)}.bind(this),a.animateTime)):(t=n.modalConfig=jQuery.extend(!0,{},a,t),d.call(this,t,e),this.watingModal=!1),this},this.close=function(t){return this.activeModal&&(t=n.modalConfig,this.activeModal.addClass("destroy"),jQuery(window).unbind("keydown.ax-modal"),jQuery(window).unbind("resize.ax-modal"),setTimeout(function(){if(this.activeModal){if(t.iframe){var e=this.$.iframe;if(e){var i=e.get(0),n=i.contentDocument?i.contentDocument:i.contentWindow.document;try{$(n.body).children().each(function(){$(this).remove()})}catch(a){}n.innerHTML="",e.attr("src","about:blank").remove(),window.CollectGarbage&&window.CollectGarbage()}}this.activeModal.remove(),this.activeModal=null}this.watingModal||s.call(this,t,{self:this,state:"close"})}.bind(this),a.animateTime)),this.minimized=!1,this},this.minimize=function(){return function(t){if(this.minimized!==!0){var e=n.modalConfig;"undefined"==typeof t&&(t=a.minimizePosition),this.minimized=!0,this.$.body.hide(),n.modalConfig.originalHeight=e.height,n.modalConfig.height=0,h[t].call(this),s.call(this,e,{self:this,state:"minimize"})}return this}}(),this.maximize=function(){var t=n.modalConfig;return this.minimized&&(this.minimized=!1,this.$.body.show(),n.modalConfig.height=n.modalConfig.originalHeight,n.modalConfig.originalHeight=void 0,this.align({left:"center",top:"middle"}),s.call(this,t,{self:this,state:"restore"})),this},this.css=function(t){return this.activeModal&&!n.fullScreen&&(this.activeModal.css(t),t.width&&(n.modalConfig.width=this.activeModal.width()),t.height&&(n.modalConfig.height=this.activeModal.height(),this.$.iframe&&(this.$["iframe-wrap"].css({height:n.modalConfig.height}),this.$.iframe.css({height:n.modalConfig.height})))),this},this.setModalConfig=function(t){return n.modalConfig=jQuery.extend({},n.modalConfig,t),this.align(),this},this.align=function(){return function(t,e){if(!this.activeModal)return this;var a=n.modalConfig,o={width:a.width,height:a.height},l=a.isFullScreen=function(t){return"undefined"!=typeof t&&(i.isFunction(t)?t():void 0)}(a.fullScreen);return l?(a.header&&this.$.header.show(),o.width=jQuery(window).width(),o.height=a.height,o.left=0,o.top=0):(a.header&&this.$.header.show(),t&&jQuery.extend(!0,a.position,t),a.header?(a.headerHeight=this.$.header.outerHeight(),o.height+=a.headerHeight):a.headerHeight=0,"left"==a.position.left?o.left=a.position.margin||0:"right"==a.position.left?o.left=jQuery(window).width()-o.width-(a.position.margin||0):"center"==a.position.left?o.left=jQuery(window).width()/2-o.width/2:o.left=a.position.left||0,"top"==a.position.top?o.top=a.position.margin||0:"bottom"==a.position.top?o.top=jQuery(window).height()-o.height-(a.position.margin||0):"middle"==a.position.top?o.top=jQuery(window).height()/2-o.height/2:o.top=a.position.top||0,o.left<0&&(o.left=0),o.top<0&&(o.top=0)),this.activeModal.css(o),a.iframe&&(this.$["iframe-wrap"].css({height:o.height-a.headerHeight}),this.$.iframe.css({height:o.height-a.headerHeight})),this}}(),this.main=function(){e.modal_instance=e.modal_instance||[],e.modal_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.modal}(),function(){var t=ax5.ui.modal,e=function(){return' \n        <div id="{{modalId}}" data-modal-els="root" class="ax5modal {{theme}} {{fullscreen}}" style="{{styles}}">\n            {{#header}}\n            <div class="ax-modal-header" data-modal-els="header">\n                {{{title}}}\n                {{#btns}}\n                    <div class="ax-modal-header-addon">\n                    {{#@each}}\n                    <button tabindex="-1" data-modal-header-btn="{{@key}}" class="{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class="ax-modal-body" data-modal-els="body">\n            {{#iframe}}\n            \n                <div data-modal-els="iframe-wrap" style="-webkit-overflow-scrolling: touch; overflow: auto;position: relative;">\n                    <table data-modal-els="iframe-loading" style="width:100%;height:100%;"><tr><td style="text-align: center;vertical-align: middle">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name="{{modalId}}-frame" src="" width="100%" height="100%" frameborder="0" data-modal-els="iframe" style="position: absolute;left:0;top:0;"></iframe>\n                </div>\n                <form name="{{modalId}}-form" data-modal-els="iframe-form">\n                <input type="hidden" name="modalId" value="{{modalId}}" />\n                {{#param}}\n                {{#@each}}\n                <input type="hidden" name="{{@key}}" value="{{@value}}" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            </div>\n            <div class="ax-modal-body-mask"></div>\n        </div>\n        '};t.tmpl={content:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"calendar",version:"1.3.82"},function(){var n=function(){var n,a=this,o=1;this.instanceId=ax5.getGuid(),this.target=null,this.selection=[],this.selectionMap={},this.selectableMap={},this.markerMap={},this.printedDay={start:"",end:""},this.config={clickEventName:"click",theme:"default",startOfWeek:0,mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:100,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:ax5.info.months||["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"},n=this.config;var l=function(t,e){t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),e=null},s=function(){var e=jQuery.extend(!0,{},n,{controlCSS:{},controlButtonCSS:{}});e.controlButtonCSS.height=e.controlCSS.height=i.cssNumber(n.dimensions.controlHeight),e.controlButtonCSS["line-height"]=e.controlCSS["line-height"]=i.cssNumber(n.dimensions.controlHeight),e.controlButtonCSS.width=i.cssNumber(n.dimensions.controlHeight),e.controlCSS=i.css(e.controlCSS),e.controlButtonCSS=i.css(e.controlButtonCSS);try{return t.tmpl.get.call(this,"frameTmpl",e)}finally{e=null}},r=function(){var t,e,a=i.date(n.displayDate),o="",l="";return n.control&&("day"==n.mode||"d"==n.mode?(o=n.control.yearTmpl?n.control.yearTmpl.replace("%s",a.getFullYear()):a.getFullYear(),l=n.control.monthTmpl?n.control.monthTmpl.replace("%s",n.lang.months[a.getMonth()]):n.lang.months[a.getMonth()],this.$["control-display"].html(function(){return n.control.yearFirst?'<span data-calendar-display="year">'+o+'</span><span data-calendar-display="month">'+l+"</span>":'<span data-calendar-display="month">'+l+'</span><span data-calendar-display="year">'+o+"</span>"}())):"month"==n.mode||"m"==n.mode?(o=n.control.yearTmpl?n.control.yearTmpl.replace("%s",a.getFullYear()):a.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+o+"</span>")):"year"!=n.mode&&"y"!=n.mode||(t=n.control.yearTmpl?n.control.yearTmpl.replace("%s",a.getFullYear()-10):a.getFullYear()-10,e=n.control.yearTmpl?n.control.yearTmpl.replace("%s",Number(a.getFullYear())+9):Number(a.getFullYear())+9,this.$["control-display"].html(t+" ~ "+e)),this.$["control-display"].find("[data-calendar-display]").on(n.clickEventName,function(t){var e,n=i.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-display"))return!0});n&&(e=n.getAttribute("data-calendar-display"),this.changeMode(e)),n=null,e=null}.bind(this))),a=null,o=null,l=null,t=null,e=null,this},d=function(e){var o,s,d,c,u,p,f=i.date(e),m=new Date(f.getFullYear(),f.getMonth(),1,12),g=n.displayDate,v=function(){var t=m.getDay();0==t&&(t=7),t-=n.startOfWeek;try{return i.date(m,{add:{d:-t}})}finally{t=null}}(),x=f.getMonth(),b={},y=this.$.body.width(),w=Math.floor(y*(6/7));for(n.dimensions.height&&(w=i.number(n.dimensions.height)-i.number(n.dimensions.colHeadHeight)),b.height=Math.floor(w/6)-2*i.number(n.dimensions.itemPadding)+"px",b["line-height"]=b.height,b.padding=i.cssNumber(n.dimensions.itemPadding),u={weekNames:[].concat(ax5.info.weekNames),list:[]},n.startOfWeek&&(u.weekNames=u.weekNames.concat(u.weekNames.slice(0,n.startOfWeek)).splice(n.startOfWeek)),u.weekNames.forEach(function(t){t.colHeadHeight=i.cssNumber(n.dimensions.colHeadHeight)}),o=v,s=0;s<6;){for(d=0;d<7;){c=(7+(d-n.startOfWeek))%7;var _=""+i.date(o,{"return":n.dateFormat}),I={row:s,col:d,isStartOfWeek:0==d,thisDate:""+_,thisDataLabel:n.lang.dayTmpl.replace("%s",o.getDate()),itemStyles:i.css(b),addClass:function(){var t="";return n.selectable?t+=a.selectableMap[_]?o.getMonth()==x?" live":"":" disable":o.getMonth()==x&&(t+=_==i.date(g,{"return":"yyyyMMdd"})?" focus":" live",0==o.getDay()&&(t+=" sunday"),6==o.getDay()&&(t+=" saturday")),t}()+" "+function(){return a.markerMap[_]?a.markerMap[_].theme||n.defaultMarkerTheme:""}()+" "+function(){return a.selectionMap[_]?"selected-day":""}()};u.list.push(I),d++,o=i.date(o,{add:{d:1}}),_=null,I=null}s++}p=t.tmpl.get.call(this,"dayTmpl",u),this.$.body.html(p),this.$.body.find("[data-calendar-item-date]").on(n.clickEventName,function(t){t=t||window.event,h.call(a,t,"date"),i.stopEvent(t)}),this.printedDay={start:v,end:o},l.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay}),r.call(this),f=null,m=null,g=null,v=null,o=null,x=null,b=null,s=null,d=null,y=null,w=null,u=null,p=null},c=function(e){var o,s,d,c,u,p,f=i.date(e),m=f.getMonth(),g={},v=this.$.body.width(),x=Math.floor(v*(6/7));for(n.dimensions.height&&(x=i.number(n.dimensions.height)-i.number(n.dimensions.colHeadHeight)),g.height=Math.floor(x/4)-2*i.number(n.dimensions.itemPadding)+"px",g["line-height"]=g.height,g.padding=i.cssNumber(n.dimensions.itemPadding),u={colHeadHeight:i.cssNumber(n.dimensions.colHeadHeight),colHeadLabel:n.lang.monthHeading,list:[]},c=0,d=0,o=0;o<4;){for(s=0;s<3;){var b={row:o,col:s,isStartOfRow:0==s,thisMonth:f.getFullYear()+"-"+i.setDigit(d+1,2)+"-"+i.setDigit(f.getDate(),2),thisMonthLabel:n.lang.months[d],itemStyles:i.css(g),addClass:function(){return n.selectable?a.selectableMap[d]?"live":"disable":"live"}()+" "+function(){return d==m?"focus":""}()+" "+function(){return a.markerMap[d]?a.markerMap[d].theme||n.defaultMarkerTheme:""}()};u.list.push(b),d++,s++,b=null}o++}p=t.tmpl.get.call(this,"monthTmpl",u),this.$.body.html(p),this.$.body.find("[data-calendar-item-month]").on(n.clickEventName,function(t){t=t||window.event,h.call(a,t,"month"),i.stopEvent(t)}),this.printedDay={start:f.getFullYear()+"-"+i.setDigit(c+1,2),end:f.getFullYear()+"-"+i.setDigit(d,2)},l.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay}),r.call(this),f=null,m=null,g=null,o=null,s=null,d=null,c=null,v=null,x=null,u=null,p=null},u=function(e){var o,s,d,c,u,p,f=i.date(e),m=f.getFullYear(),g={},v=this.$.body.width(),x=Math.floor(v*(6/7));for(n.dimensions.height&&(x=i.number(n.dimensions.height)-i.number(n.dimensions.colHeadHeight)),g.height=Math.floor(x/5)-2*i.number(n.dimensions.itemPadding)+"px",g["line-height"]=g.height,g.padding=i.cssNumber(n.dimensions.itemPadding),u={colHeadHeight:i.cssNumber(n.dimensions.colHeadHeight),colHeadLabel:n.lang.yearHeading,list:[]},c=m-10,d=m-10,o=0;o<5;){for(s=0;s<4;){var b={row:o,col:s,isStartOfRow:0==s,thisYear:d+"-"+i.setDigit(f.getMonth()+1,2)+"-"+i.setDigit(f.getDate(),2),thisYearLabel:n.lang.yearTmpl.replace("%s",d),itemStyles:i.css(g),addClass:function(){return n.selectable?a.selectableMap[d]?"live":"disable":"live"}()+" "+function(){return d==m?"focus":""}()+" "+function(){return a.selectableMap[d]?a.selectableMap[d].theme||n.defaultMarkerTheme:""}()};u.list.push(b),d++,s++,b=null}o++}p=t.tmpl.get.call(this,"yearTmpl",u),
this.$.body.html(p),this.$.body.find("[data-calendar-item-year]").on(n.clickEventName,function(t){t=t||window.event,h.call(this,t,"year"),i.stopEvent(t)}),this.printedDay={start:c,end:d-1},l.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay}),r.call(this),f=null,m=null,g=null,o=null,s=null,d=null,c=null,v=null,x=null,u=null,p=null},h=function(t,e,l,s){var r,d,c;e=e||"date",l=i.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-item-"+e))return!0}),l&&(s=l.getAttribute("data-calendar-item-"+e),d=i.date(s,{"return":n.dateFormat}),c=!0,o=n.multipleSelect?i.isNumber(n.multipleSelect)?n.multipleSelect:2:1,n.selectable&&(a.selectableMap[d]||(c=!1)),"date"==e?c&&(a.selection.length>=o&&(r=a.selection.splice(0,a.selection.length-(o-1)),r.forEach(function(t){a.$.body.find('[data-calendar-item-date="'+i.date(t,{"return":n.dateFormat})+'"]').removeClass("selected-day")})),jQuery(l).addClass("selected-day"),a.selection.push(s),a.onClick&&a.onClick.call({self:this,date:s,target:this.target,dateElement:l})):"month"==e?"month"==n.selectMode?c&&(a.selection.length>=o&&(r=a.selection.splice(0,a.selection.length-(o-1)),r.forEach(function(t){a.$.body.find('[data-calendar-item-month="'+i.date(t,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-month")})),jQuery(l).addClass("selected-month"),a.selection.push(s),a.onClick&&a.onClick.call({self:this,date:s,target:this.target,dateElement:l})):a.changeMode("day",s):"year"==e&&("year"==n.selectMode?c&&(a.selection.length>=o&&(r=a.selection.splice(0,a.selection.length-(o-1)),r.forEach(function(t){a.$.body.find('[data-calendar-item-year="'+i.date(t,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-year")})),jQuery(l).addClass("selected-year"),a.selection.push(s),a.onClick&&a.onClick.call({self:this,date:s,target:this.target,dateElement:l})):a.changeMode("month",s))),e=null,l=null,s=null,r=null,d=null,c=null},p=function(t,e,a){e=i.findParentNode(t.target,function(t){if(t.getAttribute("data-calendar-move"))return!0}),e&&(a=e.getAttribute("data-calendar-move"),"day"==n.mode||"d"==n.mode?("left"==a?n.displayDate=i.date(n.displayDate,{add:{m:-1}}):n.displayDate=i.date(n.displayDate,{add:{m:1}}),d.call(this,n.displayDate)):"month"==n.mode||"m"==n.mode?("left"==a?n.displayDate=i.date(n.displayDate,{add:{y:-1}}):n.displayDate=i.date(n.displayDate,{add:{y:1}}),c.call(this,n.displayDate)):"year"!=n.mode&&"y"!=n.mode||("left"==a?n.displayDate=i.date(n.displayDate,{add:{y:-10}}):n.displayDate=i.date(n.displayDate,{add:{y:10}}),u.call(this,n.displayDate))),e=null,a=null},f=function(){setTimeout(function(){if("day"===n.mode||"d"===n.mode)for(var t in this.markerMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass(this.markerMap[t].theme||n.defaultMarkerTheme)}.bind(this))},m=function(){setTimeout(function(){for(var t in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass("selected-day")}.bind(this))},g=function(){setTimeout(function(){if("day"===n.mode||"d"===n.mode)for(var t in this.periodMap)this.periodMap[t].label&&this.$.body.find('[data-calendar-item-date="'+t+'"]').find(".addon-footer").html(this.periodMap[t].label),this.$.body.find('[data-calendar-item-date="'+t+'"]').addClass(this.periodMap[t].theme)}.bind(this))},v=function(){if("day"===n.mode||"d"===n.mode)for(var t in this.periodMap)this.$.body.find('[data-calendar-item-date="'+t+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+t+'"]').removeClass(this.periodMap[t].theme)};this.init=function(){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,n.target||console.log(ax5.info.getError("ax5calendar","401","setConfig")),this.target=jQuery(n.target),n.displayDate=i.date(n.displayDate),this.target.html(s.call(this)),this.$={root:this.target.find('[data-calendar-els="root"]'),control:this.target.find('[data-calendar-els="control"]'),"control-display":this.target.find('[data-calendar-els="control-display"]'),body:this.target.find('[data-calendar-els="body"]')},n.control&&this.$.root.on(n.clickEventName,"[data-calendar-move]",function(t){p.call(this,t||window.event)}.bind(this)),n.selection&&this.setSelection(n.selection,!1),n.selectable&&this.setSelectable(n.selectable,!1),n.marker&&this.setMarker(n.marker,!1),setTimeout(function(){"day"===n.mode||"d"===n.mode?d.call(this,n.displayDate):"month"===n.mode||"m"===n.mode?c.call(this,n.displayDate):"year"!==n.mode&&"y"!==n.mode||u.call(this,n.displayDate)}.bind(this))},this.changeMode=function(t,e){return"undefined"!=typeof e&&(n.displayDate=e),t&&(n.mode=t),this.$.body.removeClass("fadein").addClass("fadeout"),setTimeout(function(){"day"==n.mode||"d"==n.mode?d.call(this,n.displayDate):"month"==n.mode||"m"==n.mode?c.call(this,n.displayDate):"year"!=n.mode&&"y"!=n.mode||u.call(this,n.displayDate),this.$.body.removeClass("fadeout").addClass("fadein")}.bind(this),n.animateTime),this},this.setSelection=function(){a.selectionMap={};var t={arr:function(t,e,o){return e={},i.isArray(t)?(a.selection=t=t.splice(0,o),t.forEach(function(t){i.isDate(t)&&(t=i.date(t,{"return":n.dateFormat})),e[t]=!0}),e):e}};return function(e,a){var l={};if(o=n.multipleSelect?i.isNumber(n.multipleSelect)?n.multipleSelect:2:1,n.selection=e){if(!i.isArray(e))return this;l=t.arr(e,{},o)}return this.selectionMap=jQuery.extend({},l),a!==!1&&m.call(this),l=null,this}}(),this.getSelection=function(){return this.selection},this.setSelectable=function(){a.selectableMap={};var t={arr:function(t,e){return e={},i.isArray(t)?(t.forEach(function(t){i.isDate(t)&&(t=i.date(t,{"return":n.dateFormat})),e[t]=!0}),e):e},obj:function(t,e){if(e={},i.isArray(t))return e;if(t.range)return e;for(var n in t)e[n]=t[n];return e},range:function(t,e){return e={},i.isArray(t)?e:t.range?(t.range.forEach(function(t){if(i.isDateFormat(t.from)&&i.isDateFormat(t.to))for(var a=i.date(t.from);a<=i.date(t.to);a.setDate(a.getDate()+1))e[i.date(a,{"return":n.dateFormat})]=!0;else for(var o=t.from;o<=t.to;o++)e[o]=!0}),e):e}};return function(e,a){var o,l={};if(n.selectable=e)if(i.isArray(e))l=t.arr(e);else{for(o in t)if(e[o]){l=t[o](e);break}0===Object.keys(l).length&&(l=t.obj(e))}return this.selectableMap=l,a!==!1&&this.changeMode(),this}}(),this.setMarker=function(){a.markerMap={};var t={obj:function(t,e){if(e={},i.isArray(t))return e;if(t.range)return e;for(var n in t)e[n]=t[n];return t=null,e},range:function(t,e){return e={},i.isArray(t)?e:t.range?(t.range.forEach(function(t){if(i.isDateFormat(t.from)&&i.isDateFormat(t.to))for(var a=i.date(t.from);a<=i.date(t.to);a.setDate(a.getDate()+1))e[i.date(a,{"return":n.dateFormat})]={theme:t.theme,label:t.label};else for(var o=t.from;o<=t.to;o++)e[o]={theme:t.theme,label:t.label}}),t=null,e):e}};return function(e,i){var a,o={};if(n.marker=e){for(a in t)if(e[a]){o=t[a](e);break}0===Object.keys(o).length&&(o=t.obj(e))}return this.markerMap=o,i!==!1&&f.call(this),this}}(),this.setPeriod=function(){a.periodMap={};var t={range:function(t,e){return e={},i.isArray(t)?e:t.range?(t.range.forEach(function(t){if(i.isDateFormat(t.from)&&i.isDateFormat(t.to))for(var a=new Date(i.date(t.from));a<=i.date(t.to);a.setDate(a.getDate()+1))a.getTime()==i.date(t.from).getTime()?e[i.date(a,{"return":n.dateFormat})]={theme:t.theme||n.defaultPeriodTheme,label:t.fromLabel}:a.getTime()==i.date(t.to).getTime()?e[i.date(a,{"return":n.dateFormat})]={theme:t.theme||n.defaultPeriodTheme,label:t.toLabel}:e[i.date(a,{"return":n.dateFormat})]={theme:t.theme||n.defaultPeriodTheme}}),t=null,e):e}};return function(e,i){var a={};return i!==!1&&v.call(this),(n.period=e)&&(a=t.range(e)),this.periodMap=a,i!==!1&&g.call(this),this}}(),this.main=function(){e.calendar_instance=e.calendar_instance||[],e.calendar_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.calendar}(),function(){var t=ax5.ui.calendar,e=function(t){return'\n                <div class="ax5-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n                    {{#control}}\n                    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n                        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n                        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n                        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n                    </div>\n                    {{/control}}\n                    <div class="calendar-body" data-calendar-els="body"></div>\n                </div>\n                '},i=function(t){return'\n                <table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                        {{#weekNames}}\n                            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n                            {{label}}\n                            </td>\n                        {{/weekNames}}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfWeek}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfWeek}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                                    <span class="addon addon-header"></span>\n                                    {{thisDataLabel}}\n                                    <span class="addon addon-footer"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},n=function(t){return'\n                <table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                                    <span class="addon"></span>\n                                    {{thisMonthLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},a=function(t){return'\n                <table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                                    <span class="addon"></span>\n                                    {{thisYearLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '};t.tmpl={frameTmpl:e,dayTmpl:i,monthTmpl:n,yearTmpl:a,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"picker",version:"1.3.82"},function(){var e=function(){var e=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",title:"",lang:{ok:"ok",cancel:"cancel"},animateTime:100,calendar:{multipleSelect:!1,control:{left:ax5.def.picker.date_leftArrow||"&#x02190",yearTmpl:ax5.def.picker.date_yearTmpl||"%s",monthTmpl:ax5.def.picker.date_monthTmpl||"%s",right:ax5.def.picker.date_rightArrow||"&#x02192",yearFirst:!0}}},this.queue=[],this.activePicker=null,this.activePickerQueueIndex=-1,this.openTimer=null,this.closeTimer=null,n=this.config;var a=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),!0},o=function(){var t={focus:function(t,e){this.open(t)},click:function(t,e){this.open(t)}},e={"@fn":function(t,e){var i=this.queue[t],a=e.length,o={inputLength:a||1};a>1&&(o.btns={ok:{label:n.lang.ok,theme:n.theme}}),this.queue[t]=jQuery.extend(!0,o,i),o=null,a=null},date:function(t,e){var i=this.queue[t],a=i.content?i.content.width||270:270,o=i.content?i.content.margin||5:5,l=e.length,s={contentWidth:a*l+(l-1)*o,content:{width:a,margin:o},inputLength:l||1};l>1&&!i.btns&&(s.btns={ok:{label:n.lang.ok,theme:n.theme}}),this.queue[t]=jQuery.extend(!0,s,i),a=null,o=null,s=null,l=null},"secure-num":function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null},keyboard:function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null},numpad:function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null}};return function(n){var a,o=this.queue[n];if(!o.content)return console.log(ax5.info.getError("ax5picker","501","bind")),this;if(a="INPUT"==o.$target.get(0).tagName.toUpperCase()?o.$target:o.$target.find("input[type]"),i.isFunction(o.content))e["@fn"].call(this,n,a);else for(var l in e)if(o.content.type==l){e[l].call(this,n,a);break}return a.unbind("focus.ax5picker").unbind("click.ax5picker").bind("focus.ax5picker",t.focus.bind(this,n)).bind("click.ax5picker",t.click.bind(this,n)),o.$target.find(".input-group-addon").unbind("click.ax5picker").bind("click.ax5picker",t.click.bind(this,n)),o.content.formatter&&ax5.ui.formatter&&a.ax5formatter(o.content.formatter),a=null,o=null,n=null,this}}(),l=function(t){if(!this.activePicker)return this;var e=function(e){var i,n=jQuery(window),a=jQuery(document.body),o={},l=12,s={},r={};o=e.$target.offset(),s={width:e.$target.outerWidth(),height:e.$target.outerHeight()},r={winWidth:Math.max(n.width(),a.width()),winHeight:Math.max(n.height(),a.height()),width:this.activePicker.outerWidth(),height:this.activePicker.outerHeight()},e.direction&&""!==e.direction&&"auto"!==e.direction?i=e.direction:(i="top",o.top-r.height-l<0?i="top":o.top+s.height+r.height+l>r.winHeight&&(i="bottom")),t&&this.activePicker.addClass("direction-"+i);var d=function(){var t={left:0,top:0};switch(i){case"top":t.left=o.left+s.width/2-r.width/2,t.top=o.top+s.height+l;break;case"bottom":t.left=o.left+s.width/2-r.width/2,t.top=o.top-r.height-l;break;case"left":t.left=o.left+s.width+l,t.top=o.top-r.height/2+s.height/2;break;case"right":t.left=o.left-r.width-l,t.top=o.top-r.height/2+s.height/2}return t}();(function(){"top"!=i&&"bottom"!=i||(d.left<0?(d.left=l,this.activePickerArrow.css({left:o.left+s.width/2-d.left})):d.left+r.width>r.winWidth&&(d.left=r.winWidth-r.width-l,this.activePickerArrow.css({left:o.left+s.width/2-d.left})))}).call(this),this.activePicker.css(d)},i=this.queue[this.activePickerQueueIndex];t&&(this.activePicker.css({top:-999}),jQuery(document.body).append(this.activePicker)),setTimeout(function(){e.call(this,i)}.bind(this))},s=function(t,e){if(!this.activePicker)return this;var n=this.queue[this.activePickerQueueIndex];return e=i.findParentNode(t.target,function(t){return!!t.getAttribute("data-picker-els")||(n.$target.get(0)==t||void 0)}),e?this:(this.close(),this)},r=function(t,e){if(t.srcElement&&(t.target=t.srcElement),e=i.findParentNode(t.target,function(t){if(t.getAttribute("data-picker-btn"))return!0})){var n=this.queue[this.activePickerQueueIndex],a=e.getAttribute("data-picker-btn");if(n.btns&&n.btns[a].onClick){var o={key:a,value:n.btns[a],self:this,item:n};n.btns[a].onClick.call(o,a)}else this.close()}},d=function(t){t.keyCode==ax5.info.eventKeys.ESC&&this.close()},c=function(t){return i.isString(t)||(t=jQuery(t).data("data-axpicker-id")),i.isString(t)?i.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5picker","402","getQueIdx"))};this.init=function(){this.onStateChanged=n.onStateChanged},this.bind=function(t){var e={},a=void 0;return t=jQuery.extend(!0,e,n,t),t.target?(t.$target=jQuery(t.target),t.$target.get(0)?(t.id||(t.id=t.$target.data("data-axpicker-id")),t.id||(t.id="ax5-picker-"+ax5.getGuid(),t.$target.data("data-axpicker-id",t.id)),a=i.search(this.queue,function(){return this.id==t.id}),a===-1?(this.queue.push(t),o.call(this,this.queue.length-1)):(this.queue[a]=jQuery.extend(!0,{},this.queue[a],t),o.call(this,a)),e=null,a=null,this):(console.log(ax5.info.getError("ax5picker","401","bind")),this)):(console.log(ax5.info.getError("ax5picker","401","bind")),this)},this.setContentValue=function(){var t={date:function(t,e,i){var n,a,o,l=[];return"INPUT"!==t.$target.get(0).tagName.toUpperCase()&&t.$target.find("input[type]").each(function(){l.push(this.value)}),0==e?(l.length>1&&""!==l[1]?(n=ax5.util.dday(l[1],{today:l[0]}),n<0&&(o=i)):o=i,o&&(t.pickerCalendar[1].ax5uiInstance.setSelection([o],!1).changeMode("d",o),this.setContentValue(t.id,1,o)),i):1==e?(l.length>1&&(n=ax5.util.dday(l[1],{today:l[0]}),n<0&&(a=l[1])),a&&(t.pickerCalendar[0].ax5uiInstance.setSelection([a],!1).changeMode("d",a),this.setContentValue(t.id,0,a)),i):void 0}};return function(n,o,l){var s=i.isNumber(n)?n:c.call(this,n),r=this.queue[s],d=void 0;if(r){d="INPUT"==r.$target.get(0).tagName.toUpperCase()?r.$target:jQuery(r.$target.find("input[type]").get(o)),d.val(l),r.disableChangeTrigger||d.trigger("change"),r.inputLength>1&&t[r.content.type]&&(l=t[r.content.type].call(this,r,o,l));var u={self:e,state:"changeValue",item:r,inputIndex:o,value:l,values:[l]};"INPUT"!==r.$target.get(0).tagName.toUpperCase()&&(u.values=[],r.$target.find("input[type]").each(function(){u.values.push(this.value)})),a.call(this,r,u),1==r.inputLength&&this.close()}return r=null,n=null,o=null,l=null,this}}(),this.open=function(){var o={"@fn":function(t,e){var i=this.queue[t];return i.content.call(i,function(t){e(t)}),!0},date:function(t){for(var a=this.queue[t],o=[],l=jQuery.extend({},n.calendar,{displayDate:new Date}),s="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:a.$target.find("input[type]"),r=0;r<a.inputLength;r++)o.push('<div style="width:'+i.cssNumber(a.content.width)+';float:left;" class="ax-picker-content-box" data-calendar-target="'+r+'"></div>'),r<a.inputLength-1&&o.push('<div style="width:'+a.content.margin+'px;float:left;height: 5px;"></div>');o.push('<div style="clear:both;"></div>'),a.pickerContent.html(o.join("")),a.pickerCalendar=[],a.pickerContent.find("[data-calendar-target]").each(function(){var t=this.getAttribute("data-calendar-target"),i=s.get(t).value,n=ax5.util.date(i),o={year:function(t){return ax5.util.date(t,{"return":"yyyy"})},month:function(t){return ax5.util.date(t,{"return":"yyyy-MM"})},day:function(t){return t}};l.displayDate=n,i&&(l.selection=[n]),l=jQuery.extend(!0,l,a.content.config||{}),l.target=this,l.onClick=function(){e.setContentValue(a.id,t,o[l.selectMode||"day"](this.date))},a.pickerCalendar.push({itemId:a.id,inputIndex:t,ax5uiInstance:new ax5.ui.calendar(l)})})},"secure-num":function(t){for(var n=this.queue[t],o=[],l=0;l<n.inputLength;l++)o.push('<div style="width:'+i.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-secure-num-target="'+l+'"></div>'),l<n.inputLength-1&&o.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');o.push('<div style="clear:both;"></div>'),n.pickerContent.html(o.join("")),n.pickerContent.find("[data-secure-num-target]").each(function(){var t=this.getAttribute("data-secure-num-target"),i=[],o=function(t){var e,i,n;for(n=t.length;n;n-=1)e=Math.floor(Math.random()*n),i=t[n-1],t[n-1]=t[e],t[e]=i;return t}([0,1,2,3,4,5,6,7,8,9]),l=[{label:"&#x02190",fn:"back"},{label:"C",fn:"clear"}];o.forEach(function(t){i.push('<div style="float:left;'+n.content.config.btnWrapStyle+'">'),i.push('<button class="btn btn-default btn-'+n.content.config.btnTheme+'" style="'+n.content.config.btnStyle+'" data-secure-num-value="'+t+'">'+t+"</button>"),i.push("</div>")}),l.forEach(function(t){i.push('<div style="float:left;'+n.content.config.btnWrapStyle+'">'),i.push('<button class="btn btn-default btn-'+n.content.config.specialBtnTheme+'" style="'+n.content.config.btnStyle+'" data-secure-num-value="'+t.fn+'">'+t.label+"</button>"),i.push("</div>")}),i.push('<div style="clear:both;"></div>'),$(this).html(i.join("")).on("click","[data-secure-num-value]",function(){var i=this.getAttribute("data-secure-num-value"),o="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(t)),l=o.val();"back"==i?o.val(l.substring(0,l.length-1)):"clear"==i?o.val(""):o.val(l+i),a.call(this,n,{self:e,state:"changeValue",item:n,value:o.val()})})})},keyboard:function(t){for(var n=this.queue[t],o=[],l=0;l<n.inputLength;l++)o.push('<div style="width:'+i.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-keyboard-target="'+l+'"></div>'),l<n.inputLength-1&&o.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');o.push('<div style="clear:both;"></div>'),n.pickerContent.html(o.join(""));var s=[[{value:"`",shiftValue:"~"},{value:"1",shiftValue:"!"},{value:"2",shiftValue:"@"},{value:"3",shiftValue:"#"},{value:"4",shiftValue:"$"},{value:"5",shiftValue:"%"},{value:"6",shiftValue:"^"},{value:"7",shiftValue:"&"},{value:"8",shiftValue:"*"},{value:"9",shiftValue:"("},{value:"0",shiftValue:")"},{value:"-",shiftValue:"_"},{value:"=",shiftValue:"+"},{label:"&#x02190",fn:"back"}],[{value:"q",shiftValue:"Q"},{value:"w",shiftValue:"W"},{value:"e",shiftValue:"E"},{value:"r",shiftValue:"R"},{value:"t",shiftValue:"T"},{value:"y",shiftValue:"Y"},{value:"u",shiftValue:"U"},{value:"i",shiftValue:"I"},{value:"o",shiftValue:"O"},{value:"p",shiftValue:"P"},{value:"[",shiftValue:"{"},{value:"]",shiftValue:"}"},{value:"\\",shiftValue:"|"}],[{label:"Clear",fn:"clear"},{value:"a",shiftValue:"A"},{value:"s",shiftValue:"S"},{value:"d",shiftValue:"D"},{value:"f",shiftValue:"F"},{value:"g",shiftValue:"G"},{value:"h",shiftValue:"H"},{value:"j",shiftValue:"J"},{value:"k",shiftValue:"K"},{value:"l",shiftValue:"L"},{value:";",shiftValue:":"},{value:"'",shiftValue:'"'}],[{label:"Shift",fn:"shift"},{value:"z",shiftValue:"Z"},{value:"x",shiftValue:"X"},{value:"c",shiftValue:"C"},{value:"v",shiftValue:"V"},{value:"b",shiftValue:"B"},{value:"n",shiftValue:"N"},{value:"m",shiftValue:"M"},{value:",",shiftValue:"<"},{value:".",shiftValue:">"},{value:"/",shiftValue:"?"},{label:"Close",fn:"close"}]],r=function(t){var e=[];return s.forEach(function(i){e.push('<div style="display: table;margin:0 auto;">'),i.forEach(function(i){var a,o,l,s,r;i.fn?(a=i.fn,o=i.label,l=n.content.config.specialBtnWrapStyle,s=n.content.config.specialBtnTheme,r=n.content.config.specialBtnStyle):(o=a=t?i.shiftValue:i.value,l=n.content.config.btnWrapStyle,s=n.content.config.btnTheme,r=n.content.config.btnStyle),e.push('<div style="display: table-cell;'+l+'">'),e.push('<button class="btn btn-default btn-'+s+'" style="'+r+'" data-keyboard-value="'+a+'">'+o+"</button>"),e.push("</div>")}),e.push("</div>")}),e.join("")};n.pickerContent.find("[data-keyboard-target]").each(function(){var t=this.getAttribute("data-keyboard-target"),i=$(this),o=!1,l=function(){o=!o,i.html(r(o))};i.html(r(o)).on("mousedown","[data-keyboard-value]",function(){var i=this.getAttribute("data-keyboard-value"),o="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(t)),s=o.val();switch(i){case"back":o.val(s.substring(0,s.length-1));break;case"clear":o.val("");break;case"shift":return l(),!1;case"close":return e.close(),!1;default:o.val(s+i)}a.call(this,n,{self:e,state:"changeValue",item:n,value:o.val()})})})},numpad:function(t){for(var n=this.queue[t],o=[],l=0;l<n.inputLength;l++)o.push('<div style="width:'+i.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-numpad-target="'+l+'"></div>'),l<n.inputLength-1&&o.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');o.push('<div style="clear:both;"></div>'),n.pickerContent.html(o.join("")),n.pickerContent.find("[data-numpad-target]").each(function(){var t=this.getAttribute("data-numpad-target"),i=[],o=n.content.config.keyArray||[{value:"7"},{value:"8"},{value:"9"},{label:"BS",fn:"back"},{value:"4"},{value:"5"},{value:"6"},{label:"CLS",fn:"clear"},{value:"1"},{value:"2"},{value:"3"},{value:""},{value:"."},{value:"0"},{value:""},{label:"OK",fn:"enter"}];o.forEach(function(t){var e=void 0,a=void 0,o=void 0,l=void 0,s=void 0;t.fn?(e=t.fn,a=t.label,l=n.content.config.specialBtnTheme,o=n.content.config.specialBtnWrapStyle,s=n.content.config.specialBtnStyle):(a=e=t.value,l=e?n.content.config.btnTheme:"",o=n.content.config.btnWrapStyle,s=n.content.config.btnStyle),i.push('<div style="float:left;'+o+'">'),i.push('<button class="btn btn-default btn-'+l+'" style="'+s+'" data-numpad-value="'+e+'">'+(a||"&nbsp;")+"</button>"),i.push("</div>")}),i.push('<div style="clear:both;"></div>'),$(this).html(i.join("")).on("mousedown","[data-numpad-value]",function(){var i=this.getAttribute("data-numpad-value"),o="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(t)),l=o.val(),s="";switch(i){case"back":s="changeValue",o.val(l.substring(0,l.length-1));break;case"clear":s="changeValue",o.val("");break;case"enter":return e.close(n,"enter"),!1;case"close":return e.close(),!1;default:s="changeValue",o.val(l+i)}a.call(this,n,{self:e,state:s,item:n,value:o.val()})})})}};return function(e,u){var h=i.isNumber(e)?e:c.call(this,e),p=this.queue[h];return this.openTimer&&clearTimeout(this.openTimer),this.activePicker?this.activePickerQueueIndex==h?this:u>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(h,(u||0)+1)}.bind(this),n.animateTime),this):(this.activePicker=jQuery(t.tmpl.get.call(this,"pickerTmpl",p)),this.activePickerArrow=this.activePicker.find(".ax-picker-arrow"),this.activePickerQueueIndex=h,p.pickerContent=this.activePicker.find('[data-picker-els="content"]'),i.isFunction(p.content)?(p.pickerContent.html("Loading.."),o["@fn"].call(this,h,function(t){p.pickerContent.html(t)})):p.content.type in o&&o[p.content.type].call(this,h),this.activePicker.find("[data-picker-btn]").on(n.clickEventName,function(t){r.call(this,t||window.event,h)}.bind(this)),l.call(this,"append"),jQuery(window).bind("resize.ax5picker",function(){l.call(this)}.bind(this)),jQuery(window).bind("keyup.ax5picker",function(t){t=t||window.event,d.call(this,t),i.stopEvent(t)}.bind(this)),jQuery(window).bind("click.ax5picker",function(t){t=t||window.event,s.call(this,t),i.stopEvent(t)}.bind(this)),a.call(this,p,{self:this,state:"open",item:p}),this)}}(),this.close=function(t,e){return this.closeTimer&&clearTimeout(this.closeTimer),this.activePicker?(t=this.queue[this.activePickerQueueIndex],this.activePicker.addClass("destroy"),jQuery(window).unbind("resize.ax5picker"),jQuery(window).unbind("click.ax5picker"),jQuery(window).unbind("keyup.ax5picker"),this.closeTimer=setTimeout(function(){this.activePicker&&this.activePicker.remove(),this.activePicker=null,this.activePickerQueueIndex=-1,a.call(this,t,{self:this,state:e||"close"})}.bind(this),n.animateTime),this):this},this.main=function(){arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return e}()),t=ax5.ui.picker}(),ax5.ui.picker_instance=new ax5.ui.picker,jQuery.fn.ax5picker=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.picker_instance.open(this);case"close":return ax5.ui.picker_instance.close(this);case"setValue":return ax5.ui.picker_instance.setContentValue(this,arguments[1],arguments[2]);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend(!0,t,e),ax5.ui.picker_instance.bind(t)});return this}}(),function(){var t=ax5.ui.picker,e=(ax5.util,function(){return'\n<div class="ax5-ui-picker {{theme}}" id="{{id}}" data-picker-els="root" {{#zIndex}}style="z-index:{{zIndex}};"{{/zIndex}}>\n    {{#title}}\n        <div class="ax-picker-heading">{{title}}</div>\n    {{/title}}\n    <div class="ax-picker-body">\n        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>\n        {{#btns}}\n            <div class="ax-picker-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-picker-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-picker-arrow"></div>\n</div>\n'});t.tmpl={pickerTmpl:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"formatter",version:"1.3.82"},function(){var e=(new Date,function(t,e){if("undefined"==typeof e&&(e=t.value.length),t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}else t.selectionStart&&(t.focus(),t.selectionStart=e,t.selectionEnd=e)}),n=function(){var n,a=this;this.instanceId=ax5.getGuid(),this.config={animateTime:250},this.queue=[],this.openTimer=null,this.closeTimer=null,n=this.config;var o={focus:function(t,e,i){t.$input.data("__originValue__")||t.$input.data("__originValue__",t.$input.val())},keydown:function(t,e,i){var n=!1;t.enterableKeyCodes&&(i.which&&t.enterableKeyCodes[i.which]||i.metaKey||i.ctrlKey||i.shiftKey||(n=!0)),n&&ax5.util.stopEvent(i)},keyup:function(i,n,a){var o,l,s,r,d,c=i.$input.get(0);"selectionStart"in c?o=c.selectionStart:document.selection&&(r=document.selection.createRange(),d=document.selection.createRange().text.length,r.moveStart("character",-c.value.length),o=r.text.length-d),l=c.value,s=i.pattern in t.formatter?t.formatter[i.pattern].getPatternValue.call(this,i,n,a,c.value):l,s!=l&&(i.$input.val(s).trigger("change"),e(c,o+s.length-l.length))},blur:function(e,i,n,a){var o,l,s=e.$input.get(0);e.$input.removeData("__originValue__"),
o=s.value,l=e.pattern in t.formatter?t.formatter[e.pattern].getPatternValue.call(this,e,i,n,s.value,"blur"):o,a?e.$input.val(l):l!=o&&e.$input.val(l).trigger("change")}},l=function(e,i){if(!e.pattern&&("INPUT"==e.$target.get(0).tagName?e.pattern=e.$target.attr("data-ax5formatter"):e.pattern=e.$target.find('input[type="text"]').attr("data-ax5formatter"),!e.pattern))return console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(e.target),this;var n=/[^\(^\))]+/gi,a=e.pattern.match(n);return e.pattern=a[0],e.patternArgument=a[1]||"",e.pattern in t.formatter&&(e.enterableKeyCodes=t.formatter[e.pattern].getEnterableKeyCodes.call(this,e,i)),e.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",o.focus.bind(this,this.queue[i],i)),e.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",o.keydown.bind(this,this.queue[i],i)),e.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",o.keyup.bind(this,this.queue[i],i)),e.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",o.blur.bind(this,this.queue[i],i)),o.blur.call(this,this.queue[i],i),this},s=function(t){return i.isString(t)||(t=jQuery(t).data("data-formatter")),i.search(this.queue,function(){return this.id==t})};this.init=function(){},this.bind=function(t){var e,o={};if(jQuery.extend(!0,o,n),t&&jQuery.extend(!0,o,t),t=o,!t.target)return console.log(ax5.info.getError("ax5formatter","401","bind")),this;if(t.$target=jQuery(t.target),"INPUT"==t.$target.get(0).tagName)t.$input=t.$target;else if(t.$input=t.$target.find('input[type="text"]'),t.$input.length>1)return t.$input.each(function(){t.target=this,a.bind(t)}),this;return t.$input="INPUT"==t.$target.get(0).tagName?t.$target:t.$target.find('input[type="text"]'),t.id||(t.id=t.$input.data("ax5-formatter")),t.id||(t.id="ax5-formatter-"+ax5.getGuid(),t.$input.data("ax5-formatter",t.id)),e=i.search(this.queue,function(){return this.id==t.id}),e===-1?(this.queue.push(t),l.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[e]=t,l.call(this,this.queue[e],e)),this},this.formatting=function(t){var e=i.isNumber(t)?t:s.call(this,t);if(e===-1)for(var n=this.queue.length;n--;)o.blur.call(this,this.queue[n],n,null,!0);else o.blur.call(this,this.queue[e],e,null,!0);return this},this.unbind=function(){},this.main=function(){arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.formatter}(),ax5.ui.formatter_instance=new ax5.ui.formatter,jQuery.fn.ax5formatter=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"formatting":return ax5.ui.formatter_instance.formatting(this);case"unbind":return ax5.ui.formatter_instance.unbind(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.formatter_instance.bind(t)});return this}}(),function(){var t=ax5.ui.formatter,e=ax5.util,i=new Date,n={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},a={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},o={getEnterableKeyCodes:function(e){var i={188:","};return"int"==e.patternArgument||(i[190]="."),jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,a,o){a=a.replace(/[^0-9^\.^\-]/g,"");var l,s=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),r=a.split(".");r[0]+=".";do r[0]=r[0].replace(s,"$1,$2");while(s.test(r[0]));return l=r.length>1?e.isNumber(t.maxRound)?r[0]+e.left(r[1],t.maxRound):r.join(""):r[0].split(".")[0]}},l={getEnterableKeyCodes:function(e){var i={190:"."};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,a,o){a=a.replace(/[^0-9^\.^\-]/g,"");var l,s=a.split(".");return l=s.length>1?e.isNumber(t.maxRound)?s[0]+e.left(s[1],t.maxRound):s.join(""):s[0].split(".")[0]}},s={getEnterableKeyCodes:function(e){var i={189:"-",191:"/"};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,n,a,o,l){if(o=o.replace(/\D/g,""),""==o)return o;var s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==t.patternArgument?s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==t.patternArgument?s=/^([0-9]{0,4})?.*$/:"month"==t.patternArgument&&(s=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);var r=o.match(s),d="",c=function(t,n,a,o){var l={Y:function(t){return"undefined"==typeof t&&(t=i.getFullYear()),""!=t&&"0000"!=t||(t=i.getFullYear()),t.length<4?e.setDigit(t,4):t},M:function(t){return"undefined"==typeof t&&(t=i.getMonth()+1),t>12?12:0==t?"01":e.setDigit(t,2)},D:function(t){"undefined"==typeof t&&(t=i.getDate()+1);var n=e.daysOfMonth(o[1],o[2]-1);return t>n?n:0==t?"01":e.setDigit(t,2)},h:function(t){return t||(t=0),t>23?23:e.setDigit(t,2)},m:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)},s:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)}};return a?l[n](t):t};return d=o.replace(s,function(e,i){var n=[];return"year"==t.patternArgument?n.push(c(arguments[1],"Y",l)):"month"==t.patternArgument?(n.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&n.push("-"+c(arguments[2],"M",l))):"time"==t.patternArgument?(n.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&n.push("-"+c(arguments[2],"M",l)),(arguments[3]||l)&&n.push("-"+c(arguments[3],"D",l,arguments)),(arguments[4]||l)&&n.push(" "+c(arguments[4],"h",l)),(arguments[5]||l)&&n.push(":"+c(arguments[5],"m",l)),(arguments[6]||l)&&n.push(":"+c(arguments[6],"s",l))):(n.push(c(arguments[1],"Y",l)),(arguments[2]||l)&&n.push("-"+c(arguments[2],"M",l)),(arguments[3]||l)&&n.push("-"+c(arguments[3],"D",l,arguments))),n.join("")}),"blur"!=l||r?r||(d=d.length>4?e.left(d,4):d):d=function(){var e=[];return"year"==t.patternArgument?e.push(c(0,"Y",l)):"month"==t.patternArgument?(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l))):"time"==t.patternArgument?(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l)),e.push("-"+c(0,"D",l,arguments)),e.push(" "+c(0,"h",l)),e.push(":"+c(0,"m",l)),e.push(":"+c(0,"s",l))):(e.push(c(0,"Y",l)),e.push("-"+c(0,"M",l)),e.push("-"+c(0,"D",l,arguments))),e.join("")}(),d}},r={getEnterableKeyCodes:function(e){var i={186:":"};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,i,n,a,o){a=a.replace(/\D/g,"");var l=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,s=a.match(l),r=a.replace(l,function(t,e){var i=[arguments[1]];return arguments[2]&&i.push(":"+arguments[2]),arguments[3]&&i.push(":"+arguments[3]),i.join("")});return s||(r=r.length>2?e.left(r,2):r),r}},d={getEnterableKeyCodes:function(e){var i={189:"-"};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n,a){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,l=n.replace(o,function(t,e){var i=[arguments[1]];return arguments[2]&&i.push(arguments[2]),arguments[3]&&i.push(arguments[3]),i.join("-")});return l}},c={getEnterableKeyCodes:function(e){var i={189:"-",188:","};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n,a){n=n.replace(/\D/g,"");var o=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;"02"==n.substr(0,2)&&(o=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/);var l=n.replace(o,function(t,e){var i=[arguments[1]];return arguments[2]&&i.push(arguments[2]),arguments[3]&&i.push(arguments[3]),arguments[4]&&i.push(arguments[4]),arguments[5]&&i.push(arguments[5]),i.join("-")});return l}},u={getEnterableKeyCodes:function(e){var i={189:"-"};return jQuery.extend(i,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,i,n,a){n=n.replace(/\D/g,"").substring(0,16);var o=/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,l=n.replace(o,function(t,e){var i=[arguments[1]];return arguments[2]&&i.push(arguments[2]),arguments[3]&&i.push(arguments[3]),arguments[4]&&i.push(arguments[4]),i.join("-")});return l}},h={getEnterableKeyCodes:function(t){return t.getEnterableKeyCodes?t.getEnterableKeyCodes.call(t,{$input:t.$input}):null},getPatternValue:function(t,e,i,n,a){if(t.getPatternValue)return t.getPatternValue.call(t,{event:i,$input:t.$input,value:n})}};t.formatter={ctrlKeys:n,numKeys:a,money:o,number:l,date:s,time:r,bizno:d,phone:c,credit:u,custom:h}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"menu",version:"1.3.82"},function(){var n=function(){var n=this,a=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0,columnKeys:{label:"label",items:"items"}},this.openTimer=null,this.closeTimer=null,this.queue=[],this.menuBar={},this.state=void 0,a=this.config;var o=function(t){t?(jQuery(document).unbind("click.ax5menu-"+this.menuId).bind("click.ax5menu-"+this.menuId,d.bind(this)),jQuery(window).unbind("keydown.ax5menu-"+this.menuId).bind("keydown.ax5menu-"+this.menuId,function(t){t.which==ax5.info.eventKeys.ESC&&n.close()}),jQuery(window).unbind("resize.ax5menu-"+this.menuId).bind("resize.ax5menu-"+this.menuId,function(t){n.close()})):(jQuery(document).unbind("click.ax5menu-"+this.menuId),jQuery(window).unbind("keydown.ax5menu-"+this.menuId),jQuery(window).unbind("resize.ax5menu-"+this.menuId))},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),n.state=e.state,t=null,e=null,!0},s=function(t){return this.onLoad&&this.onLoad.call(t,t),t=null,!0},r=function u(e,i,o,r){var d=e,h=void 0,p=void 0;return d.theme=e.theme||a.theme,d.cfg={icons:jQuery.extend({},a.icons),iconWidth:e.iconWidth||a.iconWidth,acceleratorWidth:e.acceleratorWidth||a.acceleratorWidth},i.forEach(function(t){t.html||t.divide?(t["@isMenu"]=!1,t.html&&(t["@html"]=t.html.call({item:t,config:a,opt:e}))):t["@isMenu"]=!0}),d[a.columnKeys.items]=i,d["@depth"]=o,d["@path"]=r||"root",d["@hasChild"]=function(){return this[a.columnKeys.items]&&this[a.columnKeys.items].length>0},h=jQuery(t.tmpl.get.call(this,"tmpl",d,a.columnKeys)),jQuery(document.body).append(h),p=this.queue.splice(o),p.forEach(function(t){t.$target.remove()}),this.queue.push({$target:h,data:jQuery.extend({},d)}),h.find("[data-menu-item-index]").bind("mouseover",function(){var t=this.getAttribute("data-menu-item-depth"),i=this.getAttribute("data-menu-item-index"),o=this.getAttribute("data-menu-item-path"),l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,h=void 0;null!=t&&"undefined"!=typeof t&&(c=n.queue[t].data[a.columnKeys.items][i][a.columnKeys.items],h=n.queue[t].$target,h.find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),h.attr("data-selected-menu-item-index")!=i&&(h.attr("data-selected-menu-item-index",i),c&&c.length>0?(l=jQuery(this),s=l.offset(),r="fixed"==a.position?jQuery(document).scrollTop():0,d={"@parent":{left:s.left,top:s.top,width:l.outerWidth(),height:l.outerHeight()},left:s.left+l.outerWidth()-a.menuBodyPadding,top:s.top-a.menuBodyPadding-1-r},d=jQuery.extend(!0,e,d),u.call(n,d,c,Number(t)+1,o)):n.queue.splice(Number(t)+1).forEach(function(t){t.$target.remove()}))),t=null,i=null,o=null,l=null,s=null,r=null,d=null,c=null,h=null}),h.find("[data-menu-item-index]").bind("mouseout",function(){var t=this.getAttribute("data-menu-item-depth"),e=this.getAttribute("data-menu-item-index"),i=(this.getAttribute("data-menu-item-path"),void 0);i=n.queue[t].data[a.columnKeys.items][e][a.columnKeys.items],i&&i.length>0||jQuery(this).removeClass("hover")}),0==o&&(d.direction&&h.addClass("direction-"+d.direction),l.call(this,null,{self:this,items:i,parent:function(t){if(!t)return!1;var e=null;try{e=Function("","return this.config.items["+t.substring(5).replace(/\./g,"].items[")+"];").call(n)}catch(i){}return e}(d["@path"]),state:"popup"})),c.call(this,h,d),s.call(this,{self:this,items:i,element:h.get(0)}),d=null,h=null,p=null,e=null,i=null,o=null,r=null,this},d=function(t,e,o){if(e=i.findParentNode(t.target,function(t){if(t.getAttribute("data-menu-item-index"))return!0})){if(o=function(t){if(!t)return!1;var e=void 0;try{e=Function("","return this.config.items["+t.substring(5).replace(/\./g,"]."+a.columnKeys.items+"[")+"];").call(n)}catch(i){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}try{return e}finally{e=null}}(e.getAttribute("data-menu-item-path")),!o)return this;o.check&&(function(t){var e={checkbox:function(t){this.checked=!t},radio:function(e){var i=this.name;t.forEach(function(t){t.check&&"radio"===t.check.type&&t.check.name==i&&(t.check.checked=!1)}),this.checked=!e}};e[this.type]&&e[this.type].call(this,this.checked),e=null}.call(o.check,a.items),a.itemClickAndClose||n.queue.forEach(function(t){t.$target.find("[data-menu-item-index]").each(function(){var e=t.data[a.columnKeys.items][this.getAttribute("data-menu-item-index")];e.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",e.check.checked)})})),n.onClick&&n.onClick.call(o,o),o[a.columnKeys.items]&&0!=o[a.columnKeys.items].length||!a.itemClickAndClose||n.close()}else n.close();return e=null,o=null,this},c=function(t,e){var i=jQuery(window),n=jQuery(document),o="fixed"==a.position?i.height():n.height(),l=i.width(),s=t.outerHeight(),r=t.outerWidth(),d=e.left,c=e.top,u=a.position||"fixed";return d+r>l&&(d=e["@parent"]?e["@parent"].left-r+a.menuBodyPadding:l-r),c+s>o&&(c=o-s),t.css({left:d,top:c,position:u}),t=null,e=null,i=null,n=null,o=null,l=null,s=null,r=null,d=null,c=null,u=null,this};this.init=function(){n.menuId=ax5.getGuid(),this.onStateChanged=a.onStateChanged,this.onClick=a.onClick,this.onLoad=a.onLoad,l.call(this,null,{self:this,state:"init"})},this.popup=function(){var t={event:function(t,e){t={left:t.clientX,top:"fixed"==a.position?t.clientY:t.pageY,width:a.width,theme:a.theme},t.left-=5,t.top-=5,a.offset&&(a.offset.left&&(t.left+=a.offset.left),a.offset.top&&(t.top+=a.offset.top)),e=jQuery.extend(!0,t,e);try{return e}finally{t=null}},object:function(t,e){t={left:t.left,top:t.top,width:t.width||a.width,theme:t.theme||a.theme},a.offset&&(a.offset.left&&(t.left+=a.offset.left),a.offset.top&&(t.top+=a.offset.top)),e=jQuery.extend(!0,t,e);try{return e}finally{t=null}}},e=function(t){t&&(a.theme=t)};return function(i,n){if(!i)return this;n=t["undefined"==typeof i.clientX?"object":"event"].call(this,i,n),e(n.theme);var l=[].concat(a.items),s=void 0;return n.filter&&(s=function(t){var e=[];return t.forEach(function(t){t.items&&t.items.length>0&&(t.items=s(t.items)),n.filter.call(t)&&e.push(t)}),e},l=s(l)),l.length&&(r.call(this,n,l,0),this.popupEventAttachTimer&&clearTimeout(this.popupEventAttachTimer),this.popupEventAttachTimer=setTimeout(function(){o.call(this,!0)}.bind(this),500)),i=null,this}}(),this.attach=function(){var e={object:function(t,e){t={left:t.left,top:t.top,width:t.width||a.width,theme:t.theme||a.theme,direction:t.direction||a.direction},e=jQuery.extend(!0,e,t);try{return e}finally{t=null,e=null}}},l=function(t,i,l){var s=jQuery(t),d=s.offset(),c=s.outerHeight(),u=Number(t.getAttribute("data-menu-item-index")),h="fixed"==a.position?jQuery(document).scrollTop():0;if(a.items&&a.items[u][a.columnKeys.items]&&a.items[u][a.columnKeys.items].length){if(n.menuBar.openedIndex==u)return"click"==l&&n.close(),!1;n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!0,n.menuBar.openedIndex=u,s.attr("data-menu-item-opened","true"),s.addClass("hover"),a.offset&&(a.offset.left&&(d.left+=a.offset.left),a.offset.top&&(d.top+=a.offset.top)),i=e.object.call(this,{left:d.left,top:d.top+c-h},i),r.call(n,i,a.items[u][a.columnKeys.items],0,"root."+t.getAttribute("data-menu-item-index")),o.call(n,!0)}t=null,i=null,s=null,d=null,c=null,u=null,h=null},s=function(t,e,i){var o=jQuery(t),l=(o.offset(),o.outerHeight(),Number(t.getAttribute("data-menu-item-index")));"fixed"==a.position?jQuery(document).scrollTop():0;!a.items||a.items[l][a.columnKeys.items]&&0!=a.items[l][a.columnKeys.items].length||n.onClick&&n.onClick.call(a.items[l],a.items[l])};return function(e,o){var r,d={},c=a.items;return"undefined"==typeof o&&(o={}),d.theme=o.theme||a.theme,d.cfg={icons:jQuery.extend({},a.icons),iconWidth:o.iconWidth||a.iconWidth,acceleratorWidth:o.acceleratorWidth||a.acceleratorWidth},c.forEach(function(t){t.html||t.divide?(t["@isMenu"]=!1,t.html&&(t["@html"]=t.html.call({item:t,config:a,opt:o}))):t["@isMenu"]=!0}),d[a.columnKeys.items]=c,r=jQuery(t.tmpl.get.call(this,"tmplMenubar",d,a.columnKeys)),n.menuBar={target:jQuery(e),opened:!1},n.menuBar.target.html(r),n.menuBar.target.bind("click",function(t){if(!t)return this;var e=i.findParentNode(t.target,function(t){if(t.getAttribute("data-menu-item-index"))return!0});e&&(s(e,o,"click"),l(e,o,"click")),e=null}),n.menuBar.target.bind("mouseover",function(t){if(!n.menuBar.opened)return!1;var e=i.findParentNode(t.target,function(t){if(t.getAttribute("data-menu-item-index"))return!0});e&&l(e,o,"mouseover"),e=null}),e=null,o=null,d=null,c=null,r=null,this}}(),this.close=function(){return n.menuBar&&n.menuBar.target&&(n.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),n.menuBar.opened=!1,n.menuBar.openedIndex=null),o.call(this,!1),this.queue.forEach(function(t){t.$target.remove()}),this.queue=[],l.call(this,null,{self:this,state:"close"}),this},this.getCheckValue=function(){var t={},e=function(n){for(var a=n.length;a--;)n[a].check&&n[a].check.checked&&(t[n[a].check.name]?(i.isString(t[n[a].check.name])&&(t[n[a].check.name]=[t[n[a].check.name]]),t[n[a].check.name].push(n[a].check.value)):t[n[a].check.name]=n[a].check.value),n[a].items&&n[a].items.length>0&&e(n[a].items)};e(a.items);try{return t}finally{t=null,e=null}},this.main=function(){e.menu_instance=e.menu_instance||[],e.menu_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),t=ax5.ui.menu}(),function(){var t=ax5.ui.menu,e=function(t){return'\n        <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n            <div class="ax-menu-body">\n                {{#'+t.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                            {{#check}}\n                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class="item-checkbox-wrap"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+t.label+'}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/'+t.items+'}}\n            </div>\n            <div class="ax-menu-arrow"></div>\n        </div>\n        '},i=function(t){return'\n        <div class="ax5-ui-menubar {{theme}}">\n            <div class="ax-menu-body">\n                {{#'+t.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+t.label+"}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/"+t.items+"}}\n            </div>\n        </div>\n        "};t.tmpl={tmpl:e,tmplMenubar:i,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"select",version:"1.3.82"},function(){var t=function(){var t=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:100,lang:{noSelected:"",noOptions:"no options",loading:"now loading..",multipleLabel:'"{{label}}"외 {{length}}건'},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,this.xvar={},n=this.config;var a=jQuery(window),o={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},s=function(){for(var t=this.queue.length,i=void 0;t--;)this.queue[t].$display&&(i=Math.max(this.queue[t].$select.outerWidth(),e.number(this.queue[t].minWidth)),this.queue[t].$display.css({"min-width":i}),this.queue[t].reset&&this.queue[t].$display.find(".addon-icon-reset").css({"line-height":this.queue[t].$display.height()+"px"}));return t=null,i=null,this},r=function(t){if(!this.activeSelectOptionGroup)return this;var e=this.queue[this.activeSelectQueueIndex],i={},n=0,o={},l={},s=void 0;t&&jQuery(document.body).append(this.activeSelectOptionGroup),i=e.$target.offset(),o={width:e.$target.outerWidth(),height:e.$target.outerHeight()},l={winWidth:Math.max(a.width(),jQuery(document.body).width()),winHeight:Math.max(a.height(),jQuery(document.body).height()),width:this.activeSelectOptionGroup.outerWidth(),height:this.activeSelectOptionGroup.outerHeight()},e.direction&&""!==e.direction&&"auto"!==e.direction?s=e.direction:(s="top",i.top-l.height-n<0?s="top":i.top+o.height+l.height+n>l.winHeight&&(s="bottom")),t&&this.activeSelectOptionGroup.addClass("direction-"+s),this.activeSelectOptionGroup.css(function(){if("top"==s){if(i.top+o.height+l.height+n>l.winHeight){var t=i.top+o.height/2-l.height/2;return t+l.height+n>l.winHeight&&(t=0),t<0&&(t=0),{left:i.left,top:t,width:o.width}}return{left:i.left,top:i.top+o.height+1,width:o.width}}if("bottom"==s)return{left:i.left,top:i.top-l.height-1,width:o.width}}.call(this))},d=function(t,i){if(!this.activeSelectOptionGroup)return this;var n=this.queue[this.activeSelectQueueIndex],a="display";return(i=e.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")||""==t.getAttribute("data-option-value")?(a="optionItem",!0):n.$target.get(0)==t?(a="display",!0):void 0}))?("optionItem"===a&&(this.val(n.id,{index:{gindex:i.getAttribute("data-option-group-index"),index:i.getAttribute("data-option-index")}},void 0,"internal"),n.$select.trigger("change"),n.$display.focus(),n.multiple||this.close()),this):(this.close(),this)},c=function(t){if(t.keyCode==ax5.info.eventKeys.ESC)this.close();else if(t.which==ax5.info.eventKeys.RETURN)if(this.queue[this.activeSelectQueueIndex].optionFocusIndex>-1){var e=this.activeSelectOptionGroup.find('[data-option-focus-index="'+this.queue[this.activeSelectQueueIndex].optionFocusIndex+'"]');this.val(this.queue[this.activeSelectQueueIndex].id,{index:{gindex:e.attr("data-option-group-index"),index:e.attr("data-option-index")}},void 0,"internal"),this.queue[this.activeSelectQueueIndex].$select.trigger("change"),this.queue[this.activeSelectQueueIndex].multiple||this.close()}else this.close()},u=function(t){var i=this.queue[t],n=[];return e.isArray(i.selected)&&i.selected.length>0?i.selected.forEach(function(t){t.selected&&n.push(t[i.columnKeys.optionText])}):!i.multiple&&i.options&&i.options[0]?i.options[0].optgroup?n[0]=i.options[0].options[0][i.columnKeys.optionText]:n[0]=i.options[0][i.columnKeys.optionText]:n[0]=i.lang.noSelected,function(){if(i.multiple&&n.length>1){var t={label:n[0],length:n.length-1};return ax5.mustache.render(i.lang.multipleLabel,t)}return n[0]}()},h=function(t){this.queue[t].$displayLabel.html(u.call(this,t))},p=function(t,e){var i=[],n=-1,a=this.queue[t].indexedOptions.length-1,o=void 0;if(e){for(;a-n++;){if(o=this.queue[t].indexedOptions[n],(""+o.value).toLowerCase()==e.toLowerCase()){i=[{"@findex":o["@findex"],optionsSort:0}];break}var l=(""+o.value).toLowerCase().search(e.toLowerCase());if(l>-1&&(i.push({"@findex":o["@findex"],optionsSort:l}),i.length>2))break;l=null}i.sort(function(t,e){return t.optionsSort-e.optionsSort})}i&&i.length>0&&f.call(this,t,void 0,i[0]["@findex"]);try{return i}finally{i=null,n=null,a=null,o=null}},f=function(t,e,i){var n=void 0,a=void 0,o=void 0,l=void 0;if(this.activeSelectOptionGroup&&this.queue[t].options&&this.queue[t].options.length>0){"undefined"!=typeof i?n=i:(a=this.queue[t].optionFocusIndex==-1?this.queue[t].optionSelectedIndex||-1:this.queue[t].optionFocusIndex,a==-1?n=e>0?0:this.queue[t].optionItemLength-1:(n=a+e,n<0?n=0:n>this.queue[t].optionItemLength-1&&(n=this.queue[t].optionItemLength-1))),this.queue[t].optionFocusIndex=n,this.activeSelectOptionGroup.find("[data-option-focus-index]").removeClass("hover"),o=this.activeSelectOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activeSelectOptionGroup.find('[data-els="content"]');var s=o.outerHeight(),r=l.innerHeight(),d=l.scrollTop(),c=o.position().top+l.scrollTop();r+d<c+s?l.scrollTop(c+s-r):d>c&&l.scrollTop(c)}},m=function(){var n=e.debounce(function(e,i){p.call(t,i,e),t.queue[i].$displayInput.val("")},300),a={click:function(i,n){var a=e.findParentNode(n.target,function(t){if(t.getAttribute("data-selected-clear"))return!0});a?this.val(i,{clear:!0}):t.activeSelectQueueIndex==i?this.queue[i].optionFocusIndex==-1&&t.close():(t.open(i),e.stopEvent(n))},keyUp:function(t,e){e.which==ax5.info.eventKeys.SPACE?a.click.call(this,t,e):o[e.which]||n(this.queue[t].$displayInput.val(),t)},keyDown:function(t,i){i.which==ax5.info.eventKeys.DOWN?(f.call(this,t,1),e.stopEvent(i)):i.which==ax5.info.eventKeys.UP&&(f.call(this,t,-1),e.stopEvent(i))},blur:function(t,e){},selectChange:function(t,e){this.val(t,this.queue[t].$select.val(),!0)}};return function(t){var e=this.queue[t],n={};return e.selected=[],e.$display?(e.$displayLabel.html(u.call(this,t)),e.options=g.call(this,t,e.options),s.call(this)):(n.instanceId=this.instanceId,n.id=e.id,n.name=e.name,n.theme=e.theme,n.tabIndex=e.tabIndex,n.multiple=e.multiple,n.reset=e.reset,n.label=u.call(this,t),n.formSize=function(){return e.size?"input-"+e.size:""}(),e.$display=i.tmpl.get.call(this,"tmpl",n),e.$displayLabel=e.$display.find('[data-ax5select-display="label"]'),e.$target.find("select").get(0)?(e.$select=e.$target.find("select"),e.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&e.$select.attr("name","name"),n.multiple&&e.$select.attr("multiple","multiple")):(e.$select=i.tmpl.get.call(this,"selectTmpl",n),e.$target.append(e.$select)),e.$target.append(e.$display),e.$displayInput=e.$display.find('[data-ax5select-display="input"]'),e.options=g.call(this,t,e.options),s.call(this),e.$displayInput.unbind("blur.ax5select").bind("blur.ax5select",a.blur.bind(this,t)).unbind("keyup.ax5select").bind("keyup.ax5select",a.keyUp.bind(this,t)).unbind("keydown.ax5select").bind("keydown.ax5select",a.keyDown.bind(this,t))),e.$display.unbind("click.ax5select").bind("click.ax5select",a.click.bind(this,t)).unbind("keyup.ax5select").bind("keyup.ax5select",a.keyUp.bind(this,t)),e.$select.unbind("change.ax5select").bind("change.ax5select",a.selectChange.bind(this,t)),n=null,e=null,t=null,this}}(),g=function(){var i=function(t,e){e?this.queue[t].multiple?this.queue[t].selected.push(jQuery.extend({},e)):this.queue[t].selected[0]=jQuery.extend({},e):this.queue[t].selected=[]};return function(n,a){var o=this.queue[n],l=void 0,s=void 0,r=void 0,d=0;return i.call(this,n,!1),a?(o.options=a,o.indexedOptions=[],l=[],o.options.forEach(function(e,a){e.optgroup?(e["@gindex"]=a,e.options.forEach(function(e,a){e["@index"]=a,e["@findex"]=d,l.push('<option value="'+e[o.columnKeys.optionValue]+'" '+(e[o.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[o.columnKeys.optionText]+"</option>"),e[o.columnKeys.optionSelected]&&i.call(t,n,e),o.indexedOptions.push({"@findex":d,value:e[o.columnKeys.optionValue],text:e[o.columnKeys.optionText]}),d++})):(e["@index"]=a,e["@findex"]=d,l.push('<option value="'+e[o.columnKeys.optionValue]+'" '+(e[o.columnKeys.optionSelected]?' selected="selected"':"")+">"+e[o.columnKeys.optionText]+"</option>"),e[o.columnKeys.optionSelected]&&i.call(t,n,e),o.indexedOptions.push({"@findex":d,value:e[o.columnKeys.optionValue],text:e[o.columnKeys.optionText]}),d++)}),o.optionItemLength=d,o.$select.html(l.join(""))):(s=e.toArray(o.$select.get(0).options),r=[],s.forEach(function(e,a){var l={};l[o.columnKeys.optionValue]=e.value,l[o.columnKeys.optionText]=e.text,l[o.columnKeys.optionSelected]=e.selected,l["@index"]=a,l["@findex"]=a,e.selected&&i.call(t,n,l),r.push(l),l=null}),o.options=r,o.indexedOptions=r),!o.multiple&&0==o.selected.length&&o.options&&o.options[0]&&(o.options[0].optgroup?(o.options[0].options[0][o.columnKeys.optionSelected]=!0,o.selected.push(jQuery.extend({},o.options[0].options[0]))):(o.options[0][o.columnKeys.optionSelected]=!0,o.selected.push(jQuery.extend({},o.options[0])))),l=null,s=null,r=null,o.options}}(),v=function(t){return e.isString(t)||(t=jQuery(t).data("data-ax5select-id")),e.isString(t)?e.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5select","402","getQueIdx"))};this.init=function(){this.onStateChanged=n.onStateChanged,this.onChange=n.onChange,jQuery(window).bind("resize.ax5select-display-"+this.instanceId,function(){s.call(this)}.bind(this))},this.bind=function(t){var i={},a=void 0;return t=jQuery.extend(!0,i,n,t),t.target?(t.$target=jQuery(t.target),t.id||(t.id=t.$target.data("data-ax5select-id")),t.id||(t.id="ax5select-"+ax5.getGuid(),t.$target.data("data-ax5select-id",t.id)),t.name=t.$target.attr("data-ax5select"),t.options&&(t.options=JSON.parse(JSON.stringify(t.options))),function(i){e.isObject(i)&&!i.error&&(t=jQuery.extend(!0,t,i));
}(e.parseJson(t.$target.attr("data-ax5select-config"),!0)),a=e.search(this.queue,function(){return this.id==t.id}),a===-1?(this.queue.push(t),m.call(this,this.queue.length-1)):(this.queue[a].selected=[],this.queue[a].options=t.options,this.queue[a]=jQuery.extend(!0,{},this.queue[a],t),m.call(this,a)),i=null,a=null,this):(console.log(ax5.info.getError("ax5select","401","bind")),this)},this.open=function(){var t=function(t){t.onExpand.call({self:this,item:t},function(t){if(this.waitOptionsCallback){var n={},a=this.queue[this.activeSelectQueueIndex];!function(t,i){var n={};i.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),e.isArray(t.selected)&&t.selected.forEach(function(e){n[e[t.columnKeys.optionValue]]&&(i.options[n[e[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(a,t),a.$displayLabel.html(u.call(this,this.activeSelectQueueIndex)),a.options=g.call(this,this.activeSelectQueueIndex,t.options),s.call(this),n.id=a.id,n.theme=a.theme,n.size="ax5select-option-group-"+a.size,n.multiple=a.multiple,n.lang=a.lang,n.options=a.options,this.activeSelectOptionGroup.find('[data-els="content"]').html(i.tmpl.get.call(this,"optionsTmpl",n,a.columnKeys))}}.bind(this))};return function(a,o){this.waitOptionsCallback=null;var s=e.isNumber(a)?a:v.call(this,a),u=this.queue[s],h={},p=void 0,f=void 0;return u.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeSelectOptionGroup?this.activeSelectQueueIndex==s?this:o>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(s,(o||0)+1)}.bind(this),n.animateTime),this):(u.optionFocusIndex=-1,u.selected&&u.selected.length>0&&(u.optionSelectedIndex=u.selected[0]["@findex"]),h.id=u.id,h.theme=u.theme,h.size="ax5select-option-group-"+u.size,h.multiple=u.multiple,h.lang=u.lang,u.$display.attr("data-select-option-group-opened","true"),u.onExpand&&(h.waitOptions=!0),h.options=u.options,this.activeSelectOptionGroup=i.tmpl.get.call(this,"optionGroupTmpl",h),this.activeSelectOptionGroup.find('[data-els="content"]').html(i.tmpl.get.call(this,"optionsTmpl",h,u.columnKeys)),this.activeSelectQueueIndex=s,r.call(this,"append"),jQuery(window).bind("resize.ax5select-"+this.instanceId,function(){r.call(this)}.bind(this)),u.selected&&u.selected.length>0&&(f=this.activeSelectOptionGroup.find('[data-option-index="'+u.selected[0]["@index"]+'"]'),f.get(0)&&(p=f.position().top-this.activeSelectOptionGroup.height()/3,this.activeSelectOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:p},u.animateTime,"swing",function(){}))),u.$displayInput.val(""),setTimeout(function(){u.$displayInput.trigger("focus"),jQuery(window).bind("keyup.ax5select-"+this.instanceId,function(t){t=t||window.event,c.call(this,t),e.stopEvent(t)}.bind(this)),jQuery(window).bind("click.ax5select-"+this.instanceId,function(t){t=t||window.event,d.call(this,t),e.stopEvent(t)}.bind(this))}.bind(this),300),l.call(this,u,{self:this,state:"open",item:u}),u.onExpand&&(this.waitOptionsCallback=!0,t.call(this,u)),h=null,p=null,f=null,this))}}(),this.update=function(t){return this.bind(t),this},this.val=function(){var i=function(t,e,i){return"undefined"==typeof i?!t.multiple||!e:i},n=function(t){this.queue[t].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1})},a={index:function(n,a,o){var l=this.queue[n];e.isString(a.index.gindex)?(l.options[a.index.gindex].options[a.index.index][l.columnKeys.optionSelected]=i(l,l.options[a.index.gindex].options[a.index.index][l.columnKeys.optionSelected],o),t.activeSelectOptionGroup.find('[data-option-group-index="'+a.index.gindex+'"][data-option-index="'+a.index.index+'"]').attr("data-option-selected",l.options[a.index.gindex].options[a.index.index][l.columnKeys.optionSelected].toString())):(l.options[a.index.index][l.columnKeys.optionSelected]=i(l,l.options[a.index.index][l.columnKeys.optionSelected],o),t.activeSelectOptionGroup.find('[data-option-index="'+a.index.index+'"]').attr("data-option-selected",l.options[a.index.index][l.columnKeys.optionSelected].toString())),g.call(this,n,l.options),h.call(this,n),r.call(this)},arr:function(i,n,o){n.forEach(function(n){if(e.isString(n)||e.isNumber(n))a.value.call(t,i,n,o);else for(var l in a)if(n[l]){a[l].call(t,i,n,o);break}})},value:function(t,n,a){var o=this.queue[t],l=e.search(o.options,function(){return this[o.columnKeys.optionValue]==n});return l>-1?(o.options[l][o.columnKeys.optionSelected]=i(o,o.options[l][o.columnKeys.optionSelected],a),g.call(this,t,o.options),void h.call(this,t)):void console.log(ax5.info.getError("ax5select","501","val"))},text:function(t,n,a){var o=this.queue[t],l=e.search(o.options,function(){return this[o.columnKeys.optionText]==n});return l>-1?(o.options[l][o.columnKeys.optionSelected]=i(o,o.options[l][o.columnKeys.optionSelected],a),g.call(this,t,o.options),void h.call(this,t)):void console.log(ax5.info.getError("ax5select","501","val"))},clear:function(t){n.call(this,t),g.call(this,t,this.queue[t].options),h.call(this,t),this.activeSelectOptionGroup&&this.activeSelectOptionGroup.find("[data-option-index]").attr("data-option-selected","false")}};return function(t,i,o,s){var r=e.isNumber(t)?t:v.call(this,t);if(r===-1)return void console.log(ax5.info.getError("ax5select","402","val"));if("undefined"==typeof i||this.queue[r].multiple||n.call(this,r),"undefined"==typeof i)return this.queue[r].selected;if(e.isArray(i))a.arr.call(this,r,i,o);else if(e.isString(i)||e.isNumber(i))a.value.call(this,r,i,o);else if(null===i)a.clear.call(this,r);else for(var d in a)if(i[d]){a[d].call(this,r,i,o);break}return"undefined"!=typeof i&&l.call(this,this.queue[r],{self:this,item:this.queue[r],state:s?"changeValue":"setValue",value:this.queue[r].selected,internal:s}),t=null,this}}(),this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeSelectOptionGroup?(t=this.queue[this.activeSelectQueueIndex],t.optionFocusIndex=-1,t.$displayInput.val("").trigger("blur"),t.$display.removeAttr("data-select-option-group-opened").trigger("focus"),this.activeSelectOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5select-"+this.instanceId).unbind("click.ax5select-"+this.instanceId).unbind("keyup.ax5select-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeSelectOptionGroup&&this.activeSelectOptionGroup.remove(),this.activeSelectOptionGroup=null,this.activeSelectQueueIndex=-1;var e={self:this,item:t,value:t.selected,state:"close"};l.call(this,t,e),t.onClose&&t.onClose.call(e)}.bind(this),n.animateTime),this.waitOptionsCallback=null,this):this},this.enable=function(t){var e=v.call(this,t);return this.queue[e].$display.removeAttr("disabled"),this.queue[e].$select.removeAttr("disabled"),l.call(this,this.queue[e],{self:this,state:"enable"}),this},this.disable=function(t){var e=v.call(this,t);return this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$select.attr("disabled","disabled"),l.call(this,this.queue[e],{self:this,state:"disable"}),this},this.main=function(){arguments&&e.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return t}()),i=ax5.ui.select}(),ax5.ui.select_instance=new ax5.ui.select,jQuery.fn.ax5select=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.select_instance.open(this);case"close":return ax5.ui.select_instance.close(this);case"setValue":return ax5.ui.select_instance.val(this,arguments[1],arguments[2]);case"getValue":return ax5.ui.select_instance.val(this);case"enable":return ax5.ui.select_instance.enable(this);case"disable":return ax5.ui.select_instance.disable(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.select_instance.bind(t)});return this}}(),function(){var t=ax5.ui.select,e=function(t){return'\n<div class="ax5select-option-group {{theme}} {{size}}" data-ax5select-option-group="{{id}}">\n    <div class="ax-select-body">\n        <div class="ax-select-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-select-arrow"></div> \n</div>\n'},i=function(t){return'\n<a {{^tabIndex}}href="#ax5select-{{id}}" {{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}class="form-control {{formSize}} ax5select-display {{theme}}" \ndata-ax5select-display="{{id}}" data-ax5select-instance="{{instanceId}}">\n    <div class="ax5select-display-table" data-els="display-table">\n        <div data-ax5select-display="label">{{label}}</div>\n        <div data-ax5select-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n    <input type="text" tabindex="-1" data-ax5select-display="input" \n    style="position:absolute;z-index:0;left:0px;top:0px;font-size:1px;opacity: 0;width:1px;border: 0px none;color : transparent;text-indent: -9999em;" />\n</a>\n'},n=function(t){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n'},a=function(t){return'\n{{#waitOptions}}\n    <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{#optgroup}}\n            <div class="ax-select-option-group">\n                <div class="ax-select-option-item-holder">\n                    <span class="ax-select-option-group-label">\n                        {{{.}}}\n                    </span>\n                </div>\n                {{#options}}\n                <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                data-option-value="{{'+t.optionValue+'}}" \n                {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                    <div class="ax-select-option-item-holder">\n                        {{#multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                            <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                        </span>\n                        {{/multiple}}\n                        <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+t.optionText+'}}</span>\n                    </div>\n                </div>\n                {{/options}}\n            </div>                            \n        {{/optgroup}}\n        {{^optgroup}}\n        <div class="ax-select-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n            <div class="ax-select-option-item-holder">\n                {{#multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-checkbox">\n                    <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                </span>\n                {{/multiple}}\n                <span class="ax-select-option-item-cell ax-select-option-item-label">{{'+t.optionText+'}}</span>\n            </div>\n        </div>\n        {{/optgroup}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-select-option-item">\n            <div class="ax-select-option-item-holder">\n                <span class="ax-select-option-item-cell ax-select-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n'};t.tmpl={optionGroupTmpl:e,tmpl:i,selectTmpl:n,optionsTmpl:a,get:function(e,i,n){return jQuery(ax5.mustache.render(t.tmpl[e].call(this,n),i))}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"grid",version:"1.3.82"},function(){var n=function(){var n=this,a=void 0,o={33:"KEY_PAGEUP",34:"KEY_PAGEDOWN",35:"KEY_END",36:"KEY_HOME",37:"KEY_LEFT",38:"KEY_UP",39:"KEY_RIGHT",40:"KEY_DOWN"};this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,debounceTime:250,appendDebouncer:null,appendDebounceTimes:0,appendProgressIcon:"...",appendProgress:!1,frozenColumnIndex:0,frozenRowIndex:0,showLineNumber:!1,showRowSelector:!1,multipleSelect:!0,height:0,columnMinWidth:100,lineNumberColumnWidth:30,rowSelectorColumnWidth:26,sortable:void 0,remoteSort:!1,header:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1},body:{align:!1,columnHeight:26,columnPadding:3,columnBorderWidth:1,grouping:!1,mergeCells:!1},rightSum:!1,footSum:!1,page:{height:25,display:!0,navigationItemCount:5},scroller:{size:15,barMinSize:15,trackPadding:4},columnKeys:{selected:"__selected__",modified:"__modified__",deleted:"__deleted__",disableSelection:"__disable_selection__"}},this.xvar={bodyTrHeight:0,scrollContentWidth:0,scrollContentHeight:0},this.columns=[],this.colGroup=[],this.footSumColumns=[],this.bodyGrouping={},this.list=[],this.page={},this.selectedDataIndexs=[],this.deletedList=[],this.sortInfo={},this.focusedColumn={},this.selectedColumn={},this.isInlineEditing=!1,this.inlineEditing={},this.headerTable={},this.leftHeaderData={},this.headerData={},this.rightHeaderData={},this.bodyRowTable={},this.leftBodyRowData={},this.bodyRowData={},this.rightBodyRowData={},this.bodyRowMap={},this.bodyGroupingTable={},this.leftBodyGroupingData={},this.bodyGroupingData={},this.rightBodyGroupingData={},this.footSumTable={},this.leftFootSumData={},this.footSumData={},this.needToPaintSum=!0,a=this.config;var l=function(){var t={instanceId:this.id};return this.$target.html(i.tmpl.get("main",t)),this.$={container:{hidden:this.$target.find('[data-ax5grid-container="hidden"]'),root:this.$target.find('[data-ax5grid-container="root"]'),header:this.$target.find('[data-ax5grid-container="header"]'),body:this.$target.find('[data-ax5grid-container="body"]'),page:this.$target.find('[data-ax5grid-container="page"]'),scroller:this.$target.find('[data-ax5grid-container="scroller"]')},panel:{"aside-header":this.$target.find('[data-ax5grid-panel="aside-header"]'),"left-header":this.$target.find('[data-ax5grid-panel="left-header"]'),header:this.$target.find('[data-ax5grid-panel="header"]'),"header-scroll":this.$target.find('[data-ax5grid-panel-scroll="header"]'),"right-header":this.$target.find('[data-ax5grid-panel="right-header"]'),"top-aside-body":this.$target.find('[data-ax5grid-panel="top-aside-body"]'),"top-left-body":this.$target.find('[data-ax5grid-panel="top-left-body"]'),"top-body":this.$target.find('[data-ax5grid-panel="top-body"]'),"top-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="top-body"]'),"top-right-body":this.$target.find('[data-ax5grid-panel="top-right-body"]'),"aside-body":this.$target.find('[data-ax5grid-panel="aside-body"]'),"aside-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="aside-body"]'),"left-body":this.$target.find('[data-ax5grid-panel="left-body"]'),"left-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="left-body"]'),body:this.$target.find('[data-ax5grid-panel="body"]'),"body-scroll":this.$target.find('[data-ax5grid-panel-scroll="body"]'),"right-body":this.$target.find('[data-ax5grid-panel="right-body"]'),"right-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="right-body"]'),"bottom-aside-body":this.$target.find('[data-ax5grid-panel="bottom-aside-body"]'),"bottom-left-body":this.$target.find('[data-ax5grid-panel="bottom-left-body"]'),"bottom-body":this.$target.find('[data-ax5grid-panel="bottom-body"]'),"bottom-body-scroll":this.$target.find('[data-ax5grid-panel-scroll="bottom-body"]'),"bottom-right-body":this.$target.find('[data-ax5grid-panel="bottom-right-body"]')},livePanelKeys:[],scroller:{vertical:this.$target.find('[data-ax5grid-scroller="vertical"]'),"vertical-bar":this.$target.find('[data-ax5grid-scroller="vertical-bar"]'),horizontal:this.$target.find('[data-ax5grid-scroller="horizontal"]'),"horizontal-bar":this.$target.find('[data-ax5grid-scroller="horizontal-bar"]'),corner:this.$target.find('[data-ax5grid-scroller="corner"]')},page:{navigation:this.$target.find('[data-ax5grid-page="navigation"]'),status:this.$target.find('[data-ax5grid-page="status"]')},form:{clipboard:this.$target.find('[data-ax5grid-form="clipboard"]')},resizer:{vertical:this.$target.find('[data-ax5grid-resizer="vertical"]'),horizontal:this.$target.find('[data-ax5grid-resizer="horizontal"]')}},this.$.container.root.css({height:this.config.height||this.config._height}),this},s=function(t){this.columns=e.deepCopy(t),this.headerTable=i.util.makeHeaderTable.call(this,this.columns),this.xvar.frozenColumnIndex=a.frozenColumnIndex>this.columns.length?this.columns.length:a.frozenColumnIndex,this.bodyRowTable=i.util.makeBodyRowTable.call(this,this.columns),this.bodyRowMap=i.util.makeBodyRowMap.call(this,this.bodyRowTable),this.xvar.bodyTrHeight=this.bodyRowTable.rows.length*this.config.body.columnHeight;for(var n={},o=0,l=this.headerTable.rows.length;o<l;o++)for(var s=this.headerTable.rows[o],r=0,d=s.cols.length;r<d;r++)n[s.cols[r].colIndex]=jQuery.extend({},s.cols[r]);this.colGroup=[];for(var c in n)this.colGroup.push(n[c]);return this},r=function(){s.call(this,this.config.columns),d.call(this),this.config.footSum&&(c.call(this,this.config.footSum),this.needToPaintSum=!0),this.config.body.grouping&&u.call(this,this.config.body.grouping),h.call(this,!0),i.header.repaint.call(this,!0),i.body.repaint.call(this,!0),i.scroller.resize.call(this)},d=function(){var t=this.$.container.root.width()-function(){var t=0;return a.showLineNumber&&(t+=a.lineNumberColumnWidth),a.showRowSelector&&(t+=a.rowSelectorColumnWidth),t}(),i=0,n=void 0,o=[],l=this.colGroup,s=void 0,r=void 0;for(s=0,r=l.length;s<r;s++)e.isNumber(l[s].width)?i+=l[s]._width=l[s].width:"*"===l[s].width?o.push(s):"%"===e.right(l[s].width,1)&&(i+=l[s]._width=t*e.left(l[s].width,"%")/100);if(o.length>0)for(n=(t-i)/o.length,s=0,r=o.length;s<r;s++)l[o[s]]._width=n},c=function(t){e.isArray(t)?this.footSumTable=i.util.makeFootSumTable.call(this,this.footSumColumns=t):(this.footSumColumns=[],this.footSumTable={})},u=function(t){var e=jQuery.extend({},t);"by"in e&&"columns"in e?(this.bodyGrouping={by:e.by,columns:e.columns},this.bodyGroupingTable=i.util.makeBodyGroupingTable.call(this,this.bodyGrouping.columns),this.sortInfo=function(){for(var t={},e=0,i=this.bodyGrouping.by.length;e<i;e++){t[this.bodyGrouping.by[e]]={orderBy:"asc",seq:e,fixed:!0};for(var n=0,a=this.colGroup.length;n<a;n++)this.colGroup[n].key===this.bodyGrouping.by[e]&&(this.colGroup[n].sort="asc",this.colGroup[n].sortFixed=!0)}return t}.call(this)):a.body.grouping=!1},h=function(t){this.config.height||this.$.container.root.css({height:this.config._height=this.$target.height()});var e=this.$.container.root.width(),i=this.$.container.root.height(),n=e,o=i,l=a.asidePanelWidth=function(){var t=0;return a.showLineNumber&&(t+=a.lineNumberColumnWidth),a.showRowSelector&&(t+=a.rowSelectorColumnWidth),t}(),s=a.frozenPanelWidth=function(t,e){for(var i=0,n=0,a=e;n<a;n++)i+=t[n]._width;return i}(this.colGroup,a.frozenColumnIndex),r=void 0,d=void 0,c=void 0,u=0,h=function(t){return a.frozenRowIndex*t}(this.xvar.bodyTrHeight),p=function(t){return this.footSumColumns.length*t}.call(this,this.xvar.bodyTrHeight),f=this.headerTable.rows.length*a.header.columnHeight,m=a.page.display?a.page.height:0;(function(){r=i-f-m-p<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0,d=function(){for(var t=0,i=e-l-r,n=0,a=this.colGroup.length;n<a;n++)t+=this.colGroup[n]._width;return t>i?this.config.scroller.size:0}.call(this),d>0&&(r=i-f-m-p-d<this.list.length*this.xvar.bodyTrHeight?this.config.scroller.size:0)}).call(this),n=e-r,o=i-m-d,c=o-f;var g=function(t,e,i,o){var r={},d=!1;switch(i){case"aside":0===l?d=!0:(r.left=0,r.width=l);break;case"left":0===a.frozenColumnIndex?d=!0:(r.left=l,r.width=s);break;case"right":a.rightSum||(d=!0);break;default:"page"!==o&&(0===a.frozenColumnIndex?r.left=l:r.left=s+l,r.width=n-l-s-u)}if(d)return t.hide(),this;if("body"===o)switch(e){case"top":0==a.frozenRowIndex?d=!0:(r.top=0,r.height=h);break;case"bottom":a.footSum?(r.top=c-p,r.height=p):d=!0;break;default:r.top=h,r.height=c-h-p}else"header"===o?r.height=f:"page"===o&&(0==m?d=!0:r.height=m);return d?(t.hide(),this):(t.css(r),this)},v=function(t,e,i,a){var l={},s=!1;switch(a){case"vertical":e>0?(l.width=e,l.height=o,l.bottom=i+m):s=!0;break;case"horizontal":i>0?(l.width=n,l.height=i,l.right=e,l.bottom=m):s=!0;break;case"corner":e>0&&i>0?(l.width=e,l.height=i,l.bottom=m):s=!0}return s?(t.hide(),this):void t.show().css(l)};this.$.container.header.css({height:f}),this.$.container.body.css({height:c}),g.call(this,this.$.panel["aside-header"],"","aside","header"),g.call(this,this.$.panel["left-header"],"","left","header"),g.call(this,this.$.panel.header,"","","header"),g.call(this,this.$.panel["right-header"],"","right","header"),g.call(this,this.$.panel["top-aside-body"],"top","aside","body"),g.call(this,this.$.panel["top-left-body"],"top","left","body"),g.call(this,this.$.panel["top-body"],"top","","body"),g.call(this,this.$.panel["top-right-body"],"top","right","body"),g.call(this,this.$.panel["aside-body"],"","aside","body"),g.call(this,this.$.panel["left-body"],"","left","body"),g.call(this,this.$.panel.body,"","","body"),g.call(this,this.$.panel["right-body"],"","right","body"),g.call(this,this.$.panel["bottom-aside-body"],"bottom","aside","body"),g.call(this,this.$.panel["bottom-left-body"],"bottom","left","body"),g.call(this,this.$.panel["bottom-body"],"bottom","","body"),g.call(this,this.$.panel["bottom-right-body"],"bottom","right","body"),v.call(this,this.$.scroller.vertical,r,d,"vertical"),v.call(this,this.$.scroller.horizontal,r,d,"horizontal"),v.call(this,this.$.scroller.corner,r,d,"corner"),g.call(this,this.$.container.page,"","","page")},p=function(t){if(i.header.repaint.call(this),e.isFunction(this.config.remoteSort)){var n={sortInfo:[]};for(var a in t)n.sortInfo.push({key:a,orderBy:t[a].orderBy,seq:t[a].seq});n.sortInfo.sort(function(t,e){return t.seq>e.seq}),this.config.remoteSort.call(n,n)}else this.config.body.grouping?this.list=i.data.initData.call(this,i.data.sort.call(this,t,i.data.clearGroupingData.call(this,this.list))):this.list=i.data.sort.call(this,t,i.data.clearGroupingData.call(this,this.list)),i.body.repaint.call(this,!0),i.scroller.resize.call(this)};this.init=function(t){if(a=jQuery.extend(!0,{},a,t),!a.target)return console.log(ax5.info.getError("ax5grid","401","init")),this;this.onStateChanged=a.onStateChanged,this.onClick=a.onClick,this.onLoad=a.onLoad,this.onDataChanged=a.body.onDataChanged,this.$target=jQuery(a.target),function(t){e.isObject(t)&&!t.error&&(a=jQuery.extend(!0,a,t))}.call(this,e.parseJson(this.$target.attr("data-ax5grid-config"),!0));var r=this.config=a;return this.config.height||(this.config._height=this.$target.height()),this.id||(this.id=this.$target.data("data-ax5grid-id")),this.id||(this.id="ax5grid-"+this.instanceId,this.$target.data("data-ax5grid-id",r.id)),l.call(this),s.call(this,r.columns),d.call(this),r.footSum&&c.call(this,r.footSum),r.body.grouping&&u.call(this,r.body.grouping),h.call(this,!0),i.header.init.call(this),i.header.repaint.call(this),i.body.init.call(this),i.body.repaint.call(this),i.scroller.init.call(this),i.scroller.resize.call(this),jQuery(window).bind("resize.ax5grid-"+this.id,function(){h.call(this),i.scroller.resize.call(this)}.bind(this)),jQuery(document.body).on("click.ax5grid-"+this.id,function(t){var a=!1,o=e.findParentNode(t.target,function(t){return!!(a=t.getAttribute("data-ax5grid-inline-edit-picker"))||"root"===t.getAttribute("data-ax5grid-container")});o&&o.getAttribute("data-ax5grid-instance")===this.id?n.focused=!0:(n.focused=!1,i.body.blur.call(this))}.bind(this)),jQuery(window).on("keydown.ax5grid-"+this.instanceId,function(t){n.focused&&(n.isInlineEditing?t.which==ax5.info.eventKeys.ESC?n.keyDown("ESC",t.originalEvent):t.which==ax5.info.eventKeys.RETURN?n.keyDown("RETURN",t.originalEvent):t.which==ax5.info.eventKeys.TAB?(n.keyDown("TAB",t.originalEvent),e.stopEvent(t)):t.which==ax5.info.eventKeys.UP?n.keyDown("RETURN",{shiftKey:!0}):t.which==ax5.info.eventKeys.DOWN&&n.keyDown("RETURN",{}):t.metaKey||t.ctrlKey?67==t.which&&n.copySelect():o[t.which]?(n.keyDown(o[t.which],t.originalEvent),e.stopEvent(t)):t.which==ax5.info.eventKeys.ESC?n.focused&&i.body.blur.call(n):t.which==ax5.info.eventKeys.RETURN?n.keyDown("RETURN",t.originalEvent):t.which==ax5.info.eventKeys.TAB?e.stopEvent(t):t.which!=ax5.info.eventKeys.SPACE&&Object.keys(n.focusedColumn).length&&n.keyDown("INLINE_EDIT",t.originalEvent))}),setTimeout(function(){this.onLoad&&this.onLoad.call({self:this})}.bind(this)),this},this.align=function(){return h.call(this),i.scroller.resize.call(this),this},this.keyDown=function(){var t={KEY_UP:function(){i.body.moveFocus.call(this,"UP")},KEY_DOWN:function(){i.body.moveFocus.call(this,"DOWN")},KEY_LEFT:function(){i.body.moveFocus.call(this,"LEFT")},KEY_RIGHT:function(){i.body.moveFocus.call(this,"RIGHT")},KEY_HOME:function(){i.body.moveFocus.call(this,"HOME")},KEY_END:function(){i.body.moveFocus.call(this,"END")},INLINE_EDIT:function(t){i.body.inlineEdit.active.call(this,this.focusedColumn,t),/[0-9a-zA-Z]/.test(t.key)||e.stopEvent(t)},ESC:function(t){i.body.inlineEdit.keydown.call(this,"ESC")},RETURN:function(t){var e=0;for(var n in this.inlineEditing)e++,i.body.inlineEdit.keydown.call(this,"RETURN",n),1==e&&i.body.moveFocus.call(this,t.shiftKey?"UP":"DOWN")&&i.body.inlineEdit.keydown.call(this,"RETURN");0==e&&i.body.inlineEdit.keydown.call(this,"RETURN")},TAB:function(t){var e=0;for(var n in this.inlineEditing)e++,i.body.inlineEdit.keydown.call(this,"RETURN",n,{moveFocus:!0}),1==e&&i.body.moveFocus.call(this,t.shiftKey?"LEFT":"RIGHT")&&i.body.inlineEdit.keydown.call(this,"RETURN",void 0,{moveFocus:!0})}};return function(e,i){return e in t&&t[e].call(this,i),this}}(),this.copySelect=function(){var t=void 0,e=this.$.form.clipboard,i=[],n="",a=void 0,o=void 0,l=void 0,s=0;for(var r in this.selectedColumn){var d=this.selectedColumn[r];if(d){"undefined"==typeof l&&(l=d.dindex,a=d.rowIndex,o=d.rowIndex),l==d.dindex&&a==d.rowIndex||s++,i[s]||(i[s]=[]);var c=this.bodyRowMap[d.rowIndex+"_"+d.colIndex];c?this.list[d.dindex].__isGrouping?i[s].push(this.list[d.dindex][d.colIndex]):i[s].push(this.list[d.dindex][c.key]):i[s].push(""),l=d.dindex,a=d.rowIndex}}i.forEach(function(t){n+=t.join("\t")+"\n"}),e.get(0).innerText=n,e.select();try{t=document.execCommand("copy")}catch(u){t=!1}return t},this.setData=function(t){return i.data.set.call(this,t),h.call(this),i.body.repaint.call(this),i.scroller.resize.call(this),i.page.navigationUpdate.call(this),i.body.scrollTo.call(this,{top:0}),this},this.getList=function(t){return i.data.getList.call(this,t)},this.setHeight=function(t){return"100%"==t&&(t=this.$target.offsetParent().innerHeight()),this.$target.css({height:t}),this.$.container.root.css({height:t}),h.call(this),i.body.repaint.call(this,"reset"),i.scroller.resize.call(this),this},this.addRow=function(t,e,n){return i.data.add.call(this,t,e,n),h.call(this),i.body.repaint.call(this,"reset"),i.body.moveFocus.call(this,this.config.body.grouping?"START":"END"),i.scroller.resize.call(this),this},this.appendToList=function(t){return i.data.append.call(this,t,function(){h.call(this),i.body.repaint.call(this),i.scroller.resize.call(this)}.bind(this)),this},this.removeRow=function(t){return i.data.remove.call(this,t),h.call(this),i.body.repaint.call(this,"reset"),i.body.moveFocus.call(this,this.config.body.grouping?"START":"END"),i.scroller.resize.call(this),this},this.updateRow=function(t,e){return i.data.update.call(this,t,e),i.body.repaintRow.call(this,e),this},this.deleteRow=function(t){return i.data.deleteRow.call(this,t),h.call(this),i.body.repaint.call(this,"reset"),i.scroller.resize.call(this),this},this.setValue=function(t,e,n){if(i.data.setValue.call(this,t,e,n)){var a=function(t,e,n,a,o){for(var l=0,s=e.length;l<s;l++)for(var r=0,d=e[l].cols.length;r<d;r++)e[l].cols[r].key==a&&(this.xvar.frozenRowIndex>n?i.body.repaintCell.call(this,"top-"+t,n,l,r,o):i.body.repaintCell.call(this,t+"-scroll",n,l,r,o))};a.call(this,"left-body",this.leftBodyRowData.rows,t,e,n),a.call(this,"body",this.bodyRowData.rows,t,e,n)}return this},this.addColumn=function(){var t={first:function(t){this.config.columns=[].concat(t).concat(this.config.columns)},last:function(t){this.config.columns=this.config.columns.concat([].concat(t))}};return function(i,n){if("undefined"==typeof i)throw"_column must not be null";if("undefined"==typeof n&&(n="last"),n in t)t[n].call(this,i);else{if(!e.isNumber(n))throw"invalid argument _cindex";this.config.columns.splice(n,[].concat(i))}return r.call(this),this}}(),this.removeColumn=function(){var t={first:function(t){this.config.columns.splice(t,1)},last:function(){this.config.columns.splice(this.config.columns.length-1,1)}};return function(i){if("undefined"==typeof i&&(i="last"),i in t)t[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _cindex";this.config.columns.splice(i,1)}return r.call(this),this}}(),this.updateColumn=function(t,i){if(!e.isNumber(i))throw"invalid argument _cindex";return this.config.columns.splice(i,1,t),r.call(this),this},this.setColumnWidth=function(t,e){return this.colGroup[this.xvar.columnResizerIndex]._width=t,this.needToPaintSum=!0,i.header.repaint.call(this),i.body.repaint.call(this,!0),i.scroller.resize.call(this),h.call(this),this},this.getColumnSortInfo=function(){var t={sortInfo:[]};for(var e in this.sortInfo)t.sortInfo.push({key:e,orderBy:this.sortInfo[e].orderBy,seq:this.sortInfo[e].seq});return t.sortInfo.sort(function(t,e){return t.seq>e.seq}),t.sortInfo},this.setColumnSort=function(t){return"undefined"!=typeof t&&(this.sortInfo=t,i.header.applySortStatus.call(this,t)),p.call(this,t||this.sortInfo),this},this.select=function(t,n){if(e.isNumber(t)){var a=t;this.config.multipleSelect?n&&n.selectedClear&&this.clearSelect():this.clearSelect(),i.data.select.call(this,a,n&&n.selected),i.body.updateRowState.call(this,["selected"],a)}return this},this.clearSelect=function(){return i.body.updateRowState.call(this,["selectedClear"]),i.data.clearSelect.call(this),this},this.selectAll=function(t){return i.data.selectAll.call(this,t&&t.selected,t),i.body.updateRowStateAll.call(this,["selected"]),this},this.exportExcel=function(t){var e=[];return e.push('<table border="1">'),e.push(i.header.getExcelString.call(this)),e.push(i.body.getExcelString.call(this)),e.push("</table>"),"undefined"==typeof t?e.join(""):(i.excel["export"].call(this,[e.join("")],t),this)},this.focus=function(t){var e=this;if(i.body.moveFocus.call(this,t)){var n=void 0;for(var a in this.focusedColumn){n=jQuery.extend({},this.focusedColumn[a],!0);break}n&&this.select(n.dindex,{selectedClear:!0})}else"undefined"==typeof this.selectedDataIndexs[0]?this.select(0):!function(){var n=e.selectedDataIndexs[0],a={UP:function(){n>0&&(this.select(n-1,{selectedClear:!0}),i.body.moveFocus.call(this,n-1))},DOWN:function(){n<this.list.length-1&&(this.select(n+1,{selectedClear:!0}),i.body.moveFocus.call(this,n+1));
},HOME:function(){this.select(0,{selectedClear:!0}),i.body.moveFocus.call(this,0)},END:function(){this.select(this.list.length-1,{selectedClear:!0}),i.body.moveFocus.call(this,this.list.length-1)}};t in a&&a[t].call(e)}();return this},this.main=function(){t.grid_instance=t.grid_instance||[],t.grid_instance.push(this),arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),i=ax5.ui.grid}(),function(){var t=ax5.ui.grid,e=ax5.util,i={focusClear:function(){var t=this,e=void 0;for(var i in t.focusedColumn)e=t.focusedColumn[i],e&&t.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-focused");t.focusedColumn={}},clear:function(){var t=this,e=void 0;for(var i in t.selectedColumn)e=t.selectedColumn[i],e&&t.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').removeAttr("data-ax5grid-column-selected");t.selectedColumn={}},init:function(e){var n=this;if(this.isInlineEditing)for(var a in this.inlineEditing)if(a==e.dindex+"_"+e.colIndex+"_"+e.rowIndex)return this;i.focusClear.call(n),n.focusedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]={panelName:e.panelName,dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan},i.clear.call(n),n.xvar.selectedRange={start:[e.dindex,e.rowIndex,e.colIndex,e.colspan-1],end:null},n.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]=function(t){return!t&&{panelName:e.panelName,dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,colspan:e.colspan}}(n.selectedColumn[e.dindex+"_"+e.colIndex+"_"+e.rowIndex]),this.$.panel[e.panelName].find('[data-ax5grid-tr-data-index="'+e.dindex+'"]').find('[data-ax5grid-column-rowindex="'+e.rowIndex+'"][data-ax5grid-column-colindex="'+e.colIndex+'"]').attr("data-ax5grid-column-focused","true").attr("data-ax5grid-column-selected","true"),this.isInlineEditing&&t.body.inlineEdit.deActive.call(this,"RETURN")},update:function(t){var e,n,a,o,l=this;l.xvar.selectedRange.end=[t.dindex,t.rowIndex,t.colIndex,t.colspan-1],i.clear.call(l);var s={r:{s:Math.min(l.xvar.selectedRange.start[0],l.xvar.selectedRange.end[0]),e:Math.max(l.xvar.selectedRange.start[0],l.xvar.selectedRange.end[0])},c:{s:Math.min(l.xvar.selectedRange.start[2],l.xvar.selectedRange.end[2]),e:Math.max(l.xvar.selectedRange.start[2]+l.xvar.selectedRange.start[3],l.xvar.selectedRange.end[2]+l.xvar.selectedRange.end[3])}};for(e=s.r.s;e<=s.r.e;e++)for(o=this.bodyRowTable.rows.length,a=0;a<o;a++)for(n=s.c.s;n<=s.c.e;n++){var r=[],d="";l.xvar.frozenRowIndex>e&&r.push("top"),l.xvar.frozenColumnIndex>n&&r.push("left"),r.push("body"),"top"!==r[0]&&r.push("scroll"),d=r.join("-"),l.selectedColumn[e+"_"+n+"_"+a]={panelName:d,dindex:e,rowIndex:a,colIndex:n,colspan:t.colspan},r=null,d=null}e=null,n=null,a=null;for(var c in l.selectedColumn){var u=l.selectedColumn[c];u&&l.$.panel[u.panelName].find('[data-ax5grid-tr-data-index="'+u.dindex+'"]').find('[data-ax5grid-column-rowindex="'+u.rowIndex+'"][data-ax5grid-column-colindex="'+u.colIndex+'"]').attr("data-ax5grid-column-selected","true")}}},n={on:function(t){var a=this;this.inlineEditing[t.dindex+"_"+t.colIndex+"_"+t.rowIndex]||(i.init.call(a,t),this.$.container.body.on("mousemove.ax5grid-"+this.instanceId,'[data-ax5grid-column-attr="default"]',function(t){this.getAttribute("data-ax5grid-column-rowIndex")&&(i.update.call(a,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}),e.stopEvent(t))}).on("mouseup.ax5grid-"+this.instanceId,function(){n.off.call(a)}).on("mouseleave.ax5grid-"+this.instanceId,function(){n.off.call(a)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1))},off:function(){this.$.container.body.off("mousemove.ax5grid-"+this.instanceId).off("mouseup.ax5grid-"+this.instanceId).off("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},a=function(t,e,i){var n=this,a=this.config,o={selected:function(t){for(var e=this.$.livePanelKeys.length;e--;)this.$.panel[this.$.livePanelKeys[e]].find('[data-ax5grid-tr-data-index="'+t+'"]').attr("data-ax5grid-selected",this.list[t][a.columnKeys.selected])},selectedClear:function(){for(var t=this.selectedDataIndexs.length;t--;)for(var e=this.selectedDataIndexs[t],i=this.$.livePanelKeys.length;i--;)this.$.panel[this.$.livePanelKeys[i]].find('[data-ax5grid-tr-data-index="'+e+'"]').attr("data-ax5grid-selected",!1),this.list[e][a.columnKeys.selected]=!1},cellChecked:function(t,e){var i=(e.key,e.rowIndex),n=e.colIndex,a=function(){var e=[];return this.xvar.frozenRowIndex>t&&e.push("top"),this.xvar.frozenColumnIndex>n&&e.push("left"),e.push("body"),"top"!==e[0]&&e.push("scroll"),e.join("-")}.call(this);this.$.panel[a].find('[data-ax5grid-tr-data-index="'+t+'"]').find('[data-ax5grid-column-rowIndex="'+i+'"][data-ax5grid-column-colIndex="'+n+'"]').find('[data-ax5grid-editor="checkbox"]').attr("data-ax5grid-checked",""+e.checked)}};t.forEach(function(t){if(!o[t])throw"invaild state name";o[t].call(n,e,i)})},o=function(e,i){var n=this,a=(this.config,{selected:function(e){t.body.repaint.call(this,!0)}});e.forEach(function(t){if(!a[t])throw"invaild state name";a[t].call(n,i)})},l=function(){var i=this;this.$.container.body.on("click","[data-ax5grid-column-attr]",function(e){var n=void 0,o=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c=void 0,u={"default":function(e){var n=i.bodyRowMap[e.rowIndex+"_"+e.colIndex],o={self:i,page:i.page,list:i.list,item:i.list[e.dindex],dindex:e.dindex,rowIndex:e.rowIndex,colIndex:e.colIndex,column:n,value:i.list[e.dindex][n.key]};if(n.editor&&"checkbox"==n.editor.type){var l=t.data.getValue.call(i,e.dindex,n.key),s=void 0,r=void 0;r=n.editor.config&&n.editor.config.trueValue?(s=!(l==n.editor.config.trueValue))?n.editor.config.trueValue:n.editor.config.falseValue:s=0==l||"false"==l||l<"1"?"true":"false",t.data.setValue.call(i,e.dindex,n.key,r),a.call(i,["cellChecked"],e.dindex,{key:n.key,rowIndex:e.rowIndex,colIndex:e.colIndex,editorConfig:n.editor.config,checked:s})}else i.config.body.onClick&&i.config.body.onClick.call(o)},rowSelector:function(e){return!i.list[e.dindex][i.config.columnKeys.disableSelection]&&(i.config.multipleSelect||i.selectedDataIndexs[0]===e.dindex||(t.body.updateRowState.call(i,["selectedClear"]),t.data.clearSelect.call(i)),t.data.select.call(i,e.dindex,void 0,{internalCall:!0}),void a.call(i,["selected"],e.dindex))},lineNumber:function(t){}};n=this.getAttribute("data-ax5grid-panel-name"),o=this.getAttribute("data-ax5grid-column-attr"),l=Number(this.getAttribute("data-ax5grid-column-row")),s=Number(this.getAttribute("data-ax5grid-column-col")),d=Number(this.getAttribute("data-ax5grid-column-rowIndex")),c=Number(this.getAttribute("data-ax5grid-column-colIndex")),r=Number(this.getAttribute("data-ax5grid-data-index")),o in u&&u[o]({panelName:n,attr:o,row:l,col:s,dindex:r,rowIndex:d,colIndex:c})}),this.$.container.body.on("dblclick","[data-ax5grid-column-attr]",function(e){var n=void 0,a=void 0,o=void 0,l=void 0,s=void 0,r=void 0,d=void 0,c={"default":function(n){if(this.isInlineEditing)for(var a in this.inlineEditing)if(a==n.dindex+"_"+n.colIndex+"_"+n.rowIndex)return this;var o=i.bodyRowMap[n.rowIndex+"_"+n.colIndex],l="";o&&(i.list[s].__isGrouping||(l=t.data.getValue.call(i,s,o.key))),t.body.inlineEdit.active.call(i,i.focusedColumn,e,l)},rowSelector:function(t){},lineNumber:function(t){}};n=this.getAttribute("data-ax5grid-panel-name"),a=this.getAttribute("data-ax5grid-column-attr"),o=Number(this.getAttribute("data-ax5grid-column-row")),l=Number(this.getAttribute("data-ax5grid-column-col")),r=Number(this.getAttribute("data-ax5grid-column-rowIndex")),d=Number(this.getAttribute("data-ax5grid-column-colIndex")),s=Number(this.getAttribute("data-ax5grid-data-index")),a in c&&c[a]({panelName:n,attr:a,row:o,col:l,dindex:s,rowIndex:r,colIndex:d})}),this.$.container.body.on("mousedown",'[data-ax5grid-column-attr="default"]',function(t){return!i.xvar.touchmoved&&void(this.getAttribute("data-ax5grid-column-rowIndex")&&n.on.call(i,{panelName:this.getAttribute("data-ax5grid-panel-name"),dindex:Number(this.getAttribute("data-ax5grid-data-index")),rowIndex:Number(this.getAttribute("data-ax5grid-column-rowIndex")),colIndex:Number(this.getAttribute("data-ax5grid-column-colIndex")),colspan:Number(this.getAttribute("colspan"))}))}).on("dragstart",function(t){return e.stopEvent(t),!1}),s.call(this)},s=function(){var e=this.config,i=t.util.divideTableByFrozenColumnIndex(this.bodyRowTable,this.xvar.frozenColumnIndex);if(this.asideBodyRowData=function(t){for(var i={rows:[]},n=0,a=t.rows.length;n<a;n++)if(i.rows[n]={cols:[]},0===n){var o={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},l={};e.showLineNumber&&(l=jQuery.extend({},o,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),i.rows[n].cols.push(l)),e.showRowSelector&&(l=jQuery.extend({},o,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),i.rows[n].cols.push(l))}return i}.call(this,this.bodyRowTable),this.leftBodyRowData=i.leftData,this.bodyRowData=i.rightData,e.body.grouping){var n=t.util.divideTableByFrozenColumnIndex(this.bodyGroupingTable,this.xvar.frozenColumnIndex);this.asideBodyGroupingData=function(t){for(var i={rows:[]},n=0,a=t.rows.length;n<a;n++)if(i.rows[n]={cols:[]},0===n){var o={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},l={};e.showLineNumber&&(l=jQuery.extend({},o,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",label:"&nbsp;",key:"__d-index__"}),i.rows[n].cols.push(l)),e.showRowSelector&&(l=jQuery.extend({},o,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",label:"",key:"__d-checkbox__"}),i.rows[n].cols.push(l))}return i}.call(this,this.bodyGroupingTable),this.leftBodyGroupingData=n.leftData,this.bodyGroupingData=n.rightData}if(this.leftFootSumData={},this.footSumData={},this.config.footSum){var a=t.util.divideTableByFrozenColumnIndex(this.footSumTable,this.xvar.frozenColumnIndex);this.leftFootSumData=a.leftData,this.footSumData=a.rightData}},r=function(i,n,a,o,l,s){var r=o.key,d={"<":"&lt;",">":"&gt;"};if("__d-index__"===r)return"undefined"!=typeof n.__index?n.__index+1:"";if("__d-checkbox__"===r)return'<div class="checkBox"></div>';if(o.editor&&function(e){return e.type in t.inlineEditor&&"inline"==t.inlineEditor[e.type].editMode}(o.editor))return l=l||t.data.getValue.call(this,a,r),e.isFunction(o.editor.disabled)&&o.editor.disabled.call({list:i,dindex:a,item:i[a],key:r,value:l})?l:s?l:t.inlineEditor[o.editor.type].getHtml(this,o.editor,l);if(o.formatter){var c={key:r,value:l||t.data.getValue.call(this,a,r),dindex:a,item:n,list:i};return e.isFunction(o.formatter)?o.formatter.call(c):t.formatter[o.formatter].call(c)}var u="";return"undefined"!=typeof l?u=l:(l=t.data.getValue.call(this,a,r),null!==l&&"undefined"!=typeof l&&(u=l)),"number"==typeof u?u:u.replace(/[<>]/g,function(t){return d[t]||t})},d=function(i,n,a){var o=void 0,l=void 0,s=a.key,r=a.label;return"undefined"==typeof s?(l={key:s,list:i.__groupingList,groupBy:i.__groupingBy},o=e.isFunction(r)?r.call(l):r,i[a.colIndex]=o,o):"__d-index__"===s?"":"__d-checkbox__"===s?"":a.collector?(l={key:s,list:i.__groupingList},o=e.isFunction(a.collector)?a.collector.call(l):t.collector[a.collector].call(l),i[a.colIndex]=o,a.formatter?(l.value=o,e.isFunction(a.formatter)?a.formatter.call(l):t.formatter[a.formatter].call(l)):o):"&nbsp;"},c=function(i,n){var a=n.key,o=n.label;if("undefined"==typeof a)return o;if("__d-index__"===a||"__d-checkbox__"===a)return"&nbsp;";if(n.collector){var l={key:a,list:i},s=void 0;return s=e.isFunction(n.collector)?n.collector.call(l):t.collector[n.collector].call(l),n.formatter?(l.value=s,e.isFunction(n.formatter)?n.formatter.call(l):t.formatter[n.formatter].call(l)):s}return"&nbsp;"},u=function(i){var n=this.config,a=this.list;i&&(s.call(this),this.xvar.paintStartRowIndex=void 0);var o=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex;if(this.xvar.dataRowCount===a.length&&this.xvar.paintStartRowIndex===o)return this;var l="undefined"==typeof this.xvar.paintStartRowIndex,u=this.asideBodyRowData,h=this.leftBodyRowData,p=this.bodyRowData,f=this.leftFootSumData,m=this.footSumData,g=this.asideBodyGroupingData,v=this.leftBodyGroupingData,x=this.bodyGroupingData,b=n.body.align,y=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1;document.addEventListener&&ax5.info.supportTouch&&(y=2*y),this.xvar.scrollContentHeight=this.xvar.bodyTrHeight*(this.list.length-this.xvar.frozenRowIndex),this.$.livePanelKeys=[];var w=function(t,i,a,o,s,c){var u=this.$.panel[t];if(!l&&!c)return this.$.livePanelKeys.push(t),!1;var h=[],p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,x=void 0,y=void 0,w=void 0,_=void 0,I=void 0,k=void 0,C=function(){return"undefined"!=typeof c&&"undefined"!=typeof c.paintStartRowIndex||(c={paintStartRowIndex:0,paintRowCount:s.length},!1)}();for(C&&h.push('<div style="font-size:0;line-height:0;height: '+(c.paintStartRowIndex-this.xvar.frozenRowIndex)*c.bodyTrHeight+'px;"></div>'),h.push('<table border="0" cellpadding="0" cellspacing="0">'),h.push("<colgroup>"),p=0,f=i.length;p<f;p++)h.push('<col style="width:'+i[p]._width+'px;"  />');for(h.push("<col  />"),h.push("</colgroup>"),m=c.paintStartRowIndex,g=function(){var t=void 0;return t=s.length,c.paintRowCount+c.paintStartRowIndex<t&&(t=c.paintRowCount+c.paintStartRowIndex),t}();m<g;m++){var $=!1,S=void 0;o&&"__isGrouping"in s[m]?(S=o,$=!0):S=a;for(v=0,x=S.rows.length;v<x;v++){for(h.push('<tr class="tr-'+m%4+'"',$?' data-ax5grid-grouping-tr="true"':"",' data-ax5grid-tr-data-index="'+m+'"',' data-ax5grid-selected="'+(s[m][n.columnKeys.selected]||"false")+'"',' data-ax5grid-disable-selection="'+(s[m][n.columnKeys.disableSelection]||"false")+'"',">"),y=0,w=S.rows[v].cols.length;y<w;y++)_=S.rows[v].cols[y],I=n.body.columnHeight*_.rowspan-n.body.columnBorderWidth,k=_.align||b,h.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+m+'" ','data-ax5grid-column-row="'+v+'" ','data-ax5grid-column-col="'+y+'" ','data-ax5grid-column-rowIndex="'+_.rowIndex+'" ','data-ax5grid-column-colIndex="'+_.colIndex+'" ','data-ax5grid-column-attr="'+(_.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[m+"_"+_.colIndex+"_"+_.rowIndex],this.selectedColumn[m+"_"+_.colIndex+"_"+_.rowIndex]),'colspan="'+_.colspan+'" ','rowspan="'+_.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:s[m],index:m})+" ":t.styleClass+" "),n.body.columnBorderWidth&&(i+="hasBorder "),y==w-1&&(i+="isLastColumn "),i}.call(this,_)+'" ','style="height: '+I+'px;min-height: 1px;">'),h.push(function(t){var e=n.body.columnHeight-2*n.body.columnPadding-n.body.columnBorderWidth;return _.multiLine||(t=n.body.columnHeight-n.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(_.multiLine?"multiLine":"")+'" '+(k?'data-ax5grid-text-align="'+k+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(I),$?d.call(this,s[m],m,_):r.call(this,s,s[m],m,_),"</span>"),h.push("</td>");h.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+m+'" ','data-ax5grid-column-attr="default" ','style="height: '+n.body.columnHeight+'px;min-height: 1px;" ',"></td>"),h.push("</tr>")}}return h.push("</table>"),C&&s.length&&h.push('<div style="font-size:0;line-height:0;height: '+(s.length-m)*c.bodyTrHeight+'px;"></div>'),u.empty().get(0).innerHTML=h.join(""),this.$.livePanelKeys.push(t),!0},_=function(t,i,a,o,s){var r=this.$.panel[t];if(!l&&!s)return this.$.livePanelKeys.push(t),!1;var d=[],u=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,x=void 0,y=void 0;for(d.push('<table border="0" cellpadding="0" cellspacing="0">'),d.push("<colgroup>"),u=0,h=i.length;u<h;u++)d.push('<col style="width:'+i[u]._width+'px;"  />');for(d.push("<col  />"),d.push("</colgroup>"),p=0,f=a.rows.length;p<f;p++){for(d.push('<tr class="tr-sum">'),m=0,g=a.rows[p].cols.length;m<g;m++)v=a.rows[p].cols[m],x=n.body.columnHeight*v.rowspan-n.body.columnBorderWidth,y=v.align||b,d.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+p+'" ','data-ax5grid-column-col="'+m+'" ','data-ax5grid-column-rowIndex="'+p+'" ','data-ax5grid-column-colIndex="'+v.colIndex+'" ','data-ax5grid-column-attr="'+(v.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+v.colIndex+"_"+p],this.selectedColumn["sum_"+v.colIndex+"_"+p]),'colspan="'+v.colspan+'" ','rowspan="'+v.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),n.body.columnBorderWidth&&(i+="hasBorder "),m==g-1&&(i+="isLastColumn "),i}.call(this,v)+'" ','style="height: '+x+'px;min-height: 1px;">'),d.push(function(t){var e=n.body.columnHeight-2*n.body.columnPadding-n.body.columnBorderWidth;return v.multiLine||(t=n.body.columnHeight-n.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(v.multiLine?"multiLine":"")+'" '+(y?'data-ax5grid-text-align="'+y+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(x),c.call(this,o,v),"</span>"),d.push("</td>");d.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+n.body.columnHeight+'px;min-height: 1px;" ',"></td>"),d.push("</tr>")}return d.push("</table>"),r.empty().get(0).innerHTML=d.join(""),this.$.livePanelKeys.push(t),!0},I=function(t,i,a,o,l){for(var s=[],r=this.$.panel[t],d={},c=void 0,u=r.find("tr"),h=0,p=u.length;h<p;h++){var f=void 0,m=void 0;if(!u[h].getAttribute("data-ax5grid-grouping-tr")){f=u[h].childNodes,m=[];for(var g=0,v=f.length;g<v;g++){var x={$:jQuery(f[g])};"null"!=x.$.attr("data-ax5grid-column-col")&&(x.dindex=x.$.attr("data-ax5grid-data-index"),x.tri=x.$.attr("data-ax5grid-column-row"),x.ci=x.$.attr("data-ax5grid-column-col"),x.rowIndex=x.$.attr("data-ax5grid-column-rowIndex"),x.colIndex=x.$.attr("data-ax5grid-column-colIndex"),x.rowspan=x.$.attr("rowspan"),x.text=x.$.text(),m.push(x)),x=null}s.push(m)}}if(s.length>1){c=!1;for(var b=function(t,a){for(var o=[],l=function(a,l){!i[a].editor&&function(){return!e.isArray(n.body.mergeCells)||ax5.util.search(n.body.mergeCells,i[a].key)>-1}()&&(d[a]&&function(){if(o.length>0){var e=!0;return o.forEach(function(i){s[t-1][i].text!=s[t][i].text&&(e=!1)}),e}return!0}()&&d[a].text==s[t][a].text?(s[t][a].rowspan=0,s[d[a].ri][a].rowspan++,c=!0):d[a]={ri:t,ci:a,text:s[t][a].text},o.push(a))},r=0,u=s[t].length;r<u;r++)l(r,u)},y=0,w=s.length;y<w;y++)b(y,w);if(c)for(var _=0,I=s.length;_<I;_++)for(var k=0,C=s[_].length;k<C;k++)0==s[_][k].rowspan?s[_][k].$.remove():s[_][k].rowspan>1&&s[_][k].$.attr("rowspan",s[_][k].rowspan).addClass("merged")}},k={paintStartRowIndex:o,paintRowCount:y,bodyTrHeight:this.xvar.bodyTrHeight};n.asidePanelWidth>0&&(this.xvar.frozenRowIndex>0&&w.call(this,"top-aside-body",this.asideColGroup,u,g,a.slice(0,this.xvar.frozenRowIndex)),w.call(this,"aside-body-scroll",this.asideColGroup,u,g,a,k),n.footSum),this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&w.call(this,"top-left-body",this.leftHeaderColGroup,h,v,a.slice(0,this.xvar.frozenRowIndex)),w.call(this,"left-body-scroll",this.leftHeaderColGroup,h,v,a,k),n.footSum&&this.needToPaintSum&&_.call(this,"bottom-left-body",this.leftHeaderColGroup,f,a)),this.xvar.frozenRowIndex>0&&w.call(this,"top-body-scroll",this.headerColGroup,p,x,a.slice(0,this.xvar.frozenRowIndex)),w.call(this,"body-scroll",this.headerColGroup,p,x,a,k),n.footSum&&this.needToPaintSum&&_.call(this,"bottom-body-scroll",this.headerColGroup,m,a,k),n.rightSum,n.body.mergeCells&&this.list.length&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&I.call(this,"top-left-body",this.leftHeaderColGroup,h,a.slice(0,this.xvar.frozenRowIndex)),I.call(this,"left-body-scroll",this.leftHeaderColGroup,h,a,k)),this.xvar.frozenRowIndex>0&&I.call(this,"top-body-scroll",this.headerColGroup,p,a.slice(0,this.xvar.frozenRowIndex)),I.call(this,"body-scroll",this.headerColGroup,p,a,k)),this.xvar.paintStartRowIndex=o,this.xvar.paintRowCount=y,this.xvar.dataRowCount=a.length,this.needToPaintSum=!1,t.page.statusUpdate.call(this)},h=function(i,n,a,o,l){var s=this,u=this.config,h=this.list,p=this.$.panel[i].find('[data-ax5grid-tr-data-index="'+n+'"]').find('[data-ax5grid-column-rowindex="'+a+'"][data-ax5grid-column-colindex="'+o+'"]').find("[data-ax5grid-cellholder]"),f=this.colGroup,m=f[o];p.html(r.call(this,h,h[n],n,m)),m.editor&&m.editor.updateWith&&m.editor.updateWith.forEach(function(e){f.forEach(function(i){if(i.key==e){var a=i.rowIndex,o=i.colIndex,l=t.util.findPanelByColumnIndex.call(s,n,o,a).panelName,d=s.$.panel[l].find('[data-ax5grid-tr-data-index="'+n+'"]').find('[data-ax5grid-column-rowindex="'+a+'"][data-ax5grid-column-colindex="'+o+'"]').find("[data-ax5grid-cellholder]");d.html(r.call(s,h,h[n],n,i))}})});var g=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,v=this.leftFootSumData,x=this.footSumData,b=(this.asideBodyGroupingData,this.leftBodyGroupingData),y=this.bodyGroupingData,w=u.body.align,_=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,I={paintStartRowIndex:g,paintRowCount:_,bodyTrHeight:this.xvar.bodyTrHeight},k=function(t,i,n,a,o){var l=this.$.panel[t],s=[],r=void 0,d=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,x=void 0;for(s.push('<table border="0" cellpadding="0" cellspacing="0">'),s.push("<colgroup>"),r=0,d=i.length;r<d;r++)s.push('<col style="width:'+i[r]._width+'px;"  />');for(s.push("<col  />"),s.push("</colgroup>"),h=0,p=n.rows.length;h<p;h++){for(s.push('<tr class="tr-sum">'),f=0,m=n.rows[h].cols.length;f<m;f++)g=n.rows[h].cols[f],v=u.body.columnHeight*g.rowspan-u.body.columnBorderWidth,x=g.align||w,s.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+f+'" ','data-ax5grid-column-rowIndex="'+h+'" ','data-ax5grid-column-colIndex="'+g.colIndex+'" ','data-ax5grid-column-attr="'+(g.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+g.colIndex+"_"+h],this.selectedColumn["sum_"+g.colIndex+"_"+h]),'colspan="'+g.colspan+'" ','rowspan="'+g.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),u.body.columnBorderWidth&&(i+="hasBorder "),f==m-1&&(i+="isLastColumn "),i}.call(this,g)+'" ','style="height: '+v+'px;min-height: 1px;">'),s.push(function(t){var e=u.body.columnHeight-2*u.body.columnPadding-u.body.columnBorderWidth;return g.multiLine||(t=u.body.columnHeight-u.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(g.multiLine?"multiLine":"")+'" '+(x?'data-ax5grid-text-align="'+x+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(v),c.call(this,a,g),"</span>"),s.push("</td>");s.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+u.body.columnHeight+'px;min-height: 1px;" ',"></td>"),s.push("</tr>")}return s.push("</table>"),l.empty().get(0).innerHTML=s.join(""),!0},C=function(t,i,n,a,o){var l=this.$.panel[t],s=[],r=void 0,c=void 0,h=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0,x=void 0;for(r=o.paintStartRowIndex,c=function(){var t=void 0;return t=a.length,o.paintRowCount+o.paintStartRowIndex<t&&(t=o.paintRowCount+o.paintStartRowIndex),t}();r<c;r++)if(n&&"__isGrouping"in a[r]){var b=n;for(s=[],h=0,p=b.rows.length;h<p;h++){for(f=0,m=b.rows[h].cols.length;f<m;f++)g=b.rows[h].cols[f],v=u.body.columnHeight*g.rowspan-u.body.columnBorderWidth,x=g.align||w,s.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+r+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+f+'" ','data-ax5grid-column-rowIndex="'+g.rowIndex+'" ','data-ax5grid-column-colIndex="'+g.colIndex+'" ','data-ax5grid-column-attr="'+(g.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[r+"_"+g.colIndex+"_"+g.rowIndex],this.selectedColumn[r+"_"+g.colIndex+"_"+g.rowIndex]),'colspan="'+g.colspan+'" ','rowspan="'+g.rowspan+'" ','class="'+function(t){var i="";return t.styleClass&&(i+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:a[r],index:r})+" ":t.styleClass+" "),u.body.columnBorderWidth&&(i+="hasBorder "),f==m-1&&(i+="isLastColumn "),i}.call(this,g)+'" ','style="height: '+v+'px;min-height: 1px;">'),s.push(function(t){var e=u.body.columnHeight-2*u.body.columnPadding-u.body.columnBorderWidth;return g.multiLine||(t=u.body.columnHeight-u.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(g.multiLine?"multiLine":"")+'" '+(x?'data-ax5grid-text-align="'+x+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(v),d.call(this,a[r],r,g),"</span>"),s.push("</td>");s.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+r+'" ','data-ax5grid-column-attr="default" ','style="height: '+u.body.columnHeight+'px;min-height: 1px;" ',"></td>")}l.find('tr[data-ax5grid-tr-data-index="'+r+'"]').empty().get(0).innerHTML=s.join("")}};u.body.grouping&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>0&&C.call(this,"top-left-body",this.leftHeaderColGroup,b,h.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),C.call(this,"left-body-scroll",this.leftHeaderColGroup,b,h,I)),this.xvar.frozenRowIndex>0&&C.call(this,"top-body-scroll",this.headerColGroup,y,h.slice(0,this.xvar.frozenRowIndex),{paintStartRowIndex:0,paintRowCount:this.xvar.frozenRowIndex,bodyTrHeight:this.xvar.bodyTrHeight}),C.call(this,"body-scroll",this.headerColGroup,y,h,I)),this.xvar.frozenColumnIndex>0&&u.footSum&&this.needToPaintSum&&k.call(this,"bottom-left-body",this.leftHeaderColGroup,v,h),u.footSum&&this.needToPaintSum&&k.call(this,"bottom-body-scroll",this.headerColGroup,x,h,I)},p=function(t){var i=this.config,n=this.list,a=Math.floor(Math.abs(this.$.panel["body-scroll"].position().top)/this.xvar.bodyTrHeight)+this.xvar.frozenRowIndex,o=(this.asideBodyRowData,this.leftBodyRowData),l=this.bodyRowData,s=this.leftFootSumData,u=this.footSumData,h=(this.asideBodyGroupingData,this.leftBodyGroupingData),p=this.bodyGroupingData,f=i.body.align,m=Math.ceil(this.$.panel.body.height()/this.xvar.bodyTrHeight)+1,g={paintStartRowIndex:a,paintRowCount:m,bodyTrHeight:this.xvar.bodyTrHeight},v=function(t,n,a,o){var l=this.$.panel[t],s=[],r=void 0,d=void 0,u=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,x=void 0;for(s.push('<table border="0" cellpadding="0" cellspacing="0">'),s.push("<colgroup>"),r=0,d=n.length;r<d;r++)s.push('<col style="width:'+n[r]._width+'px;"  />');for(s.push("<col  />"),s.push("</colgroup>"),u=0,h=a.rows.length;u<h;u++){for(s.push('<tr class="tr-sum">'),p=0,m=a.rows[u].cols.length;p<m;p++)g=a.rows[u].cols[p],v=i.body.columnHeight*g.rowspan-i.body.columnBorderWidth,x=g.align||f,s.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-column-row="'+u+'" ','data-ax5grid-column-col="'+p+'" ','data-ax5grid-column-rowIndex="'+u+'" ','data-ax5grid-column-colIndex="'+g.colIndex+'" ','data-ax5grid-column-attr="'+(g.columnAttr||"sum")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn["sum_"+g.colIndex+"_"+u],this.selectedColumn["sum_"+g.colIndex+"_"+u]),'colspan="'+g.colspan+'" ','rowspan="'+g.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,isFootSum:!0})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),p==m-1&&(n+="isLastColumn "),n}.call(this,g)+'" ','style="height: '+v+'px;min-height: 1px;">'),s.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return g.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(g.multiLine?"multiLine":"")+'" '+(x?'data-ax5grid-text-align="'+x+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(v),c.call(this,o,g),"</span>"),s.push("</td>");s.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-column-attr="sum" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>"),s.push("</tr>")}return s.push("</table>"),l.empty().get(0).innerHTML=s.join(""),!0},x=function(t,n,a,o,l){var s=this.$.panel[t],r=[],c=void 0,u=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,x=void 0,b=void 0;for("undefined"!=typeof l&&"undefined"!=typeof l.paintStartRowIndex||(l={paintStartRowIndex:0,paintRowCount:o.length}),c=l.paintStartRowIndex,u=function(){var t=void 0;return t=o.length,l.paintRowCount+l.paintStartRowIndex<t&&(t=l.paintRowCount+l.paintStartRowIndex),t}();c<u;c++)if(a&&"__isGrouping"in o[c]){var y=a;for(r=[],h=0,p=y.rows.length;h<p;h++){for(m=0,g=y.rows[h].cols.length;m<g;m++)v=y.rows[h].cols[m],x=i.body.columnHeight*v.rowspan-i.body.columnBorderWidth,b=v.align||f,r.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+m+'" ','data-ax5grid-column-rowIndex="'+v.rowIndex+'" ','data-ax5grid-column-colIndex="'+v.colIndex+'" ','data-ax5grid-column-attr="'+(v.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[c+"_"+v.colIndex+"_"+v.rowIndex],this.selectedColumn[c+"_"+v.colIndex+"_"+v.rowIndex]),'colspan="'+v.colspan+'" ','rowspan="'+v.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:o[c],index:c})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),m==g-1&&(n+="isLastColumn "),n}.call(this,v)+'" ','style="height: '+x+'px;min-height: 1px;">'),r.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return v.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(v.multiLine?"multiLine":"")+'" '+(b?'data-ax5grid-text-align="'+b+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(x),d.call(this,o[c],c,v),"</span>"),r.push("</td>");r.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+c+'" ','data-ax5grid-column-attr="default" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>")}s.find('tr[data-ax5grid-tr-data-index="'+c+'"]').empty().get(0).innerHTML=r.join("")}},b=function(t,n,a,o,l){var s=this.$.panel[t],d=[],c=void 0,u=void 0,h=void 0,p=void 0,m=void 0,g=void 0,v=void 0,x=a;for(c=0,u=x.rows.length;c<u;c++){for(h=0,p=x.rows[c].cols.length;h<p;h++)m=x.rows[c].cols[h],
g=i.body.columnHeight*m.rowspan-i.body.columnBorderWidth,v=m.align||f,d.push("<td ",'data-ax5grid-panel-name="'+t+'" ','data-ax5grid-data-index="'+l+'" ','data-ax5grid-column-row="'+c+'" ','data-ax5grid-column-col="'+h+'" ','data-ax5grid-column-rowIndex="'+m.rowIndex+'" ','data-ax5grid-column-colIndex="'+m.colIndex+'" ','data-ax5grid-column-attr="'+(m.columnAttr||"default")+'" ',function(t,e){var i="";return t&&(i+='data-ax5grid-column-focused="true" '),e&&(i+='data-ax5grid-column-selected="true" '),i}(this.focusedColumn[l+"_"+m.colIndex+"_"+m.rowIndex],this.selectedColumn[l+"_"+m.colIndex+"_"+m.rowIndex]),'colspan="'+m.colspan+'" ','rowspan="'+m.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key,item:o[l],index:l})+" ":t.styleClass+" "),i.body.columnBorderWidth&&(n+="hasBorder "),h==p-1&&(n+="isLastColumn "),n}.call(this,m)+'" ','style="height: '+g+'px;min-height: 1px;">'),d.push(function(t){var e=i.body.columnHeight-2*i.body.columnPadding-i.body.columnBorderWidth;return m.multiLine||(t=i.body.columnHeight-i.body.columnBorderWidth),'<span data-ax5grid-cellHolder="'+(m.multiLine?"multiLine":"")+'" '+(v?'data-ax5grid-text-align="'+v+'"':"")+'" style="height:'+t+"px;line-height: "+e+'px;">'}(g),r.call(this,o,o[l],l,m),"</span>"),d.push("</td>");d.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','data-ax5grid-data-index="'+l+'" ','data-ax5grid-column-attr="default" ','style="height: '+i.body.columnHeight+'px;min-height: 1px;" ',"></td>")}s.find('tr[data-ax5grid-tr-data-index="'+l+'"]').empty().get(0).innerHTML=d.join("")};this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>t?b.call(this,"top-left-body",this.leftHeaderColGroup,o,n.slice(0,this.xvar.frozenRowIndex),t):b.call(this,"left-body-scroll",this.leftHeaderColGroup,o,n,t)),this.xvar.frozenRowIndex>t?b.call(this,"top-body-scroll",this.headerColGroup,l,n.slice(0,this.xvar.frozenRowIndex),t):b.call(this,"body-scroll",this.headerColGroup,l,n,t),i.body.grouping&&(this.xvar.frozenColumnIndex>0&&(this.xvar.frozenRowIndex>t?x.call(this,"top-left-body",this.leftHeaderColGroup,h,n.slice(0,this.xvar.frozenRowIndex)):x.call(this,"left-body-scroll",this.leftHeaderColGroup,h,n,g)),this.xvar.frozenRowIndex>t?x.call(this,"top-body-scroll",this.headerColGroup,p,n.slice(0,this.xvar.frozenRowIndex)):x.call(this,"body-scroll",this.headerColGroup,p,n,g)),this.xvar.frozenColumnIndex>0&&i.footSum&&this.needToPaintSum&&v.call(this,"bottom-left-body",this.leftHeaderColGroup,s,n),i.footSum&&this.needToPaintSum&&v.call(this,"bottom-body-scroll",this.headerColGroup,u,n,g)},f=function(e,i){var n=this.config;if(this.isInlineEditing)for(var a in this.inlineEditing)t.body.inlineEdit.deActive.call(this,"ESC",a);n.asidePanelWidth>0&&"top"in e&&this.$.panel["aside-body-scroll"].css({top:e.top}),this.xvar.frozenColumnIndex>0&&"top"in e&&this.$.panel["left-body-scroll"].css({top:e.top}),this.xvar.frozenRowIndex>0&&"left"in e&&this.$.panel["top-body-scroll"].css({left:e.left}),this.$.panel["body-scroll"].css(e),n.footSum&&"left"in e&&this.$.panel["bottom-body-scroll"].css({left:e.left}),!i&&"top"in e&&u.call(this)},m=function(){i.focusClear.call(this),i.clear.call(this),this.isInlineEditing&&v.deActive.call(this)},g=function(e){var n={UD:function(e){var n=!0,a=void 0,o=void 0,l=void 0;for(var s in this.focusedColumn){a=jQuery.extend({},this.focusedColumn[s],!0);break}if(!a)return!1;for(o=this.bodyRowMap[a.rowIndex+"_"+a.colIndex],i.focusClear.call(this),i.clear.call(this),e>0?a.rowIndex+(o.rowspan-1)+e>this.bodyRowTable.rows.length-1?(a.dindex=a.dindex+e,a.rowIndex=0,a.dindex>this.list.length-1&&(a.dindex=this.list.length-1,n=!1)):a.rowIndex=a.rowIndex+e:a.rowIndex+e<0?(a.dindex=a.dindex+e,a.rowIndex=this.bodyRowTable.rows.length-1,a.dindex<0&&(a.dindex=0,n=!1)):a.rowIndex=a.rowIndex+e,l=0;"undefined"==typeof this.bodyRowMap[a.rowIndex+"_"+a.colIndex];){if(0==a.rowIndex||l%2==(e>0?0:1)?a.colIndex--:a.rowIndex--,a.rowIndex<=0&&a.colIndex<=0){n=!1;break}l++}var r=t.util.findPanelByColumnIndex.call(this,a.dindex,a.colIndex);return a.panelName=r.panelName,function(){a.dindex+1>this.xvar.frozenRowIndex&&(a.dindex<=this.xvar.paintStartRowIndex?(f.call(this,{top:-(a.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)):a.dindex+1>this.xvar.paintStartRowIndex+(this.xvar.paintRowCount-2)&&(f.call(this,{top:-(a.dindex-this.xvar.frozenRowIndex-this.xvar.paintRowCount+3)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)))}.call(this),this.focusedColumn[a.dindex+"_"+a.colIndex+"_"+a.rowIndex]=a,this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+a.colIndex+'"]').attr("data-ax5grid-column-focused","true"),n},LR:function(e){var n,a,o=!0,l=0,s=!1,r="";for(var d in this.focusedColumn){n=jQuery.extend({},this.focusedColumn[d],!0);break}if(!n)return!1;for(a=this.bodyRowMap[n.rowIndex+"_"+n.colIndex],i.focusClear.call(this),i.clear.call(this),e<0?(n.colIndex=n.colIndex+e,n.colIndex<0&&(n.colIndex=0,o=!1)):(n.colIndex=n.colIndex+(a.colspan-1)+e,n.colIndex>this.colGroup.length-1&&(n.colIndex=this.colGroup.length-1,o=!1)),"undefined"==typeof this.bodyRowMap[n.rowIndex+"_"+n.colIndex]&&(n.rowIndex=0),l=0;"undefined"==typeof this.bodyRowMap[n.rowIndex+"_"+n.colIndex];){if(n.colIndex--,n.rowIndex<=0&&n.colIndex<=0){o=!1;break}l++}var c=t.util.findPanelByColumnIndex.call(this,n.dindex,n.colIndex);n.panelName=c.panelName,r=c.containerPanelName,s=c.isScrollPanel,this.focusedColumn[n.dindex+"_"+n.colIndex+"_"+n.rowIndex]=n;var u=this.$.panel[n.panelName].find('[data-ax5grid-tr-data-index="'+n.dindex+'"]').find('[data-ax5grid-column-rowindex="'+n.rowIndex+'"][data-ax5grid-column-colindex="'+n.colIndex+'"]').attr("data-ax5grid-column-focused","true");if(u&&s){var h=function(){return u.position().left+u.outerWidth()>Math.abs(this.$.panel[n.panelName].position().left)+this.$.panel[r].width()?u.position().left+u.outerWidth()-this.$.panel[r].width():Math.abs(this.$.panel[n.panelName].position().left)>u.position().left?u.position().left:void 0}.call(this);"undefined"!=typeof h&&(t.header.scrollTo.call(this,{left:-h}),f.call(this,{left:-h}),t.scroller.resize.call(this))}return o},INDEX:function(e){var n=!0,a=void 0,o=void 0,l=void 0;for(var s in this.focusedColumn){a=jQuery.extend({},this.focusedColumn[s],!0);break}for(a||(a={rowIndex:0,colIndex:0}),o=this.bodyRowMap[a.rowIndex+"_"+a.colIndex],i.focusClear.call(this),i.clear.call(this),"end"==e&&(e=this.list.length-1),a.dindex=e,a.rowIndex=0,l=0;"undefined"==typeof this.bodyRowMap[a.rowIndex+"_"+a.colIndex]&&(0==a.rowIndex||l%2==(_dy>0?0:1)?a.colIndex--:a.rowIndex--,!(a.rowIndex<=0&&a.colIndex<=0));)l++;var r=t.util.findPanelByColumnIndex.call(this,a.dindex,a.colIndex);return a.panelName=r.panelName,function(){a.dindex+1>this.xvar.frozenRowIndex&&(a.dindex<this.xvar.paintStartRowIndex?(f.call(this,{top:-(a.dindex-this.xvar.frozenRowIndex)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)):a.dindex+1>this.xvar.paintStartRowIndex+(this.xvar.paintRowCount-2)&&(f.call(this,{top:-(a.dindex-this.xvar.frozenRowIndex-this.xvar.paintRowCount+3)*this.xvar.bodyTrHeight}),t.scroller.resize.call(this)))}.call(this),this.focusedColumn[a.dindex+"_"+a.colIndex+"_"+a.rowIndex]=a,this.$.panel[a.panelName].find('[data-ax5grid-tr-data-index="'+a.dindex+'"]').find('[data-ax5grid-column-rowindex="'+a.rowIndex+'"][data-ax5grid-column-colindex="'+a.colIndex+'"]').attr("data-ax5grid-column-focused","true"),n}},a={UP:function(){return n.UD.call(this,-1)},DOWN:function(){return n.UD.call(this,1)},LEFT:function(){return n.LR.call(this,-1)},RIGHT:function(){return n.LR.call(this,1)},HOME:function(){return n.INDEX.call(this,0)},END:function(){return n.INDEX.call(this,"end")},position:function(t){return n.INDEX.call(this,t)}};return e in a?a[e].call(this):a.position.call(this,e)},v={active:function(i,n,o){var l,s,r,d,c,u,h,p=this,f=this;for(var m in i){if(d=i[m].panelName,l=i[m].dindex,s=i[m].colIndex,r=i[m].rowIndex,c=i[m].colspan,u=this.colGroup[s],!(h=u.editor))return this;if(e.isFunction(h.disabled)&&h.disabled.call({list:this.list,dindex:l,item:this.list[l],key:u.key,value:o}))return this;if(!function(e,i){if(e.type in t.inlineEditor)return"popup"==t.inlineEditor[e.type].editMode}(h)){if("checkbox"==h.type){var g,v;v=h.config&&h.config.trueValue?(g=!(o==h.config.trueValue))?h.config.trueValue:h.config.falseValue:g=0==o||"false"==o||o<"1"?"true":"false",t.data.setValue.call(f,l,u.key,v),a.call(f,["cellChecked"],l,{key:u.key,rowIndex:r,colIndex:s,editorConfig:u.editor.config,checked:g})}return this}if(this.list[l].__isGrouping)return!1;if(m in this.inlineEditing)return!1;this.inlineEditing[m]={editor:h,panelName:d,columnKey:m,column:i[m],useReturnToSave:t.inlineEditor[h.type].useReturnToSave},this.isInlineEditing=!0}if(this.isInlineEditing){var x=function(){var i=t.data.getValue.call(f,l,u.key),n=function(t,n){return e.isNothing(t)&&(t=e.isNothing(i)?"":i),"money"==n.type?e.number(t,{money:!0}):t}.call(p,o,h);return p.inlineEditing[m].$inlineEditorCell=p.$.panel[d].find('[data-ax5grid-tr-data-index="'+l+'"]').find('[data-ax5grid-column-rowindex="'+r+'"][data-ax5grid-column-colindex="'+s+'"]').find("[data-ax5grid-cellholder]"),p.inlineEditing[m].$inlineEditor=t.inlineEditor[h.type].init(p,m,h,p.inlineEditing[m].$inlineEditorCell,n),{v:!0}}();if("object"===("undefined"==typeof x?"undefined":_typeof(x)))return x.v}},deActive:function(i,n,a){if(!this.inlineEditing[n])return this;var o=this.inlineEditing[n].panelName,l=this.inlineEditing[n].column.dindex,s=this.inlineEditing[n].column.rowIndex,r=this.inlineEditing[n].column.colIndex,d=this.bodyRowMap[this.inlineEditing[n].column.rowIndex+"_"+this.inlineEditing[n].column.colIndex],c=function(t){return"undefined"==typeof a?"SELECT"==t.get(0).tagName||"INPUT"==t.get(0).tagName||"TEXTAREA"==t.get(0).tagName?t.val():(i="CANCEL",!1):a}(this.inlineEditing[n].$inlineEditor),u=function(t,i){return"money"==i.type?e.number(t):t}.call(this,c,d.editor),h={CANCEL:function(t,e,i){h.__clear.call(this)},RETURN:function(e,i,n){t.data.setValue.call(this,e,i.key,n)?(h.__clear.call(this),t.body.repaintCell.call(this,o,l,s,r,n)):h.__clear.call(this)},__clear:function(){this.isInlineEditing=!1;var t=this.inlineEditing[n].$inlineEditor.data("binded-ax5ui");"ax5picker"==t?this.inlineEditing[n].$inlineEditor.ax5picker("close"):"ax5select"==t&&this.inlineEditing[n].$inlineEditor.ax5select("close"),this.inlineEditing[n].$inlineEditor.remove(),this.inlineEditing[n].$inlineEditor=null,this.inlineEditing[n].$inlineEditorCell=null,this.inlineEditing[n]=void 0,delete this.inlineEditing[n]}};i in h?h[i||"RETURN"].call(this,l,d,u):h.__clear.call(this)},keydown:function(e,i,n){var o={ESC:function(){for(var t in this.inlineEditing)v.deActive.call(this,"CANCEL",t)},RETURN:function(){if(this.isInlineEditing)this.inlineEditing[i]&&this.inlineEditing[i].useReturnToSave&&v.deActive.call(this,"RETURN",i);else for(var e in this.focusedColumn){var o=this.focusedColumn[e],l=this.bodyRowMap[o.rowIndex+"_"+o.colIndex],s=o.dindex,r="",d=this.colGroup[o.colIndex];if(l&&(this.list[s].__isGrouping||(r=t.data.getValue.call(this,s,l.key))),d.editor&&"inline"===t.inlineEditor[d.editor.type].editMode){if(n&&n.moveFocus);else if(l.editor&&"checkbox"==l.editor.type){r=t.data.getValue.call(this,s,l.key);var c=void 0,u=void 0;u=l.editor.config&&l.editor.config.trueValue?(c=!(r==l.editor.config.trueValue))?l.editor.config.trueValue:l.editor.config.falseValue:c=0==r||"false"==r||r<"1"?"true":"false",t.data.setValue.call(this,o.dindex,l.key,u),a.call(this,["cellChecked"],s,{key:l.key,rowIndex:o.rowIndex,colIndex:o.colIndex,editorConfig:l.editor.config,checked:c})}}else t.body.inlineEdit.active.call(this,this.focusedColumn,null,r)}}};e in o&&o[e].call(this,e,i,n)}},x=function(){var t=this.config,e=this.list,i=this.bodyRowTable,n=this.footSumTable,a=this.bodyGroupingTable,o=function(t,e,i,n){var a=[],o=void 0,l=void 0,s=void 0,c=void 0,u=void 0,h=void 0,p=void 0;for(o=0,l=n.length;o<l;o++){var f=!1,m=void 0;i&&"__isGrouping"in n[o]?(m=i,f=!0):m=e;for(s=0,c=m.rows.length;s<c;s++){for(a.push("\n<tr>"),u=0,h=m.rows[s].cols.length;u<h;u++)p=m.rows[s].cols[u],a.push("<td ",'colspan="'+p.colspan+'" ','rowspan="'+p.rowspan+'" ',">",f?d.call(this,n[o],o,p):r.call(this,n,n[o],o,p,void 0,"text"),"&nbsp;</td>");a.push("\n</tr>")}}return a.join("")},l=function(t,e,i){var n=[],a=void 0,o=void 0,l=void 0,s=void 0,r=void 0;for(a=0,o=e.rows.length;a<o;a++){for(n.push("\n<tr>"),l=0,s=e.rows[a].cols.length;l<s;l++)r=e.rows[a].cols[l],n.push("<td ",'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ',">",c.call(this,i,r),"</td>");n.push("\n</tr>")}return n.join("")},s=[];return s.push(o.call(this,this.headerColGroup,i,a,e)),t.footSum&&s.push(l.call(this,this.headerColGroup,n,e)),t.rightSum,s.join("")};t.body={init:l,repaint:u,repaintCell:h,repaintRow:p,updateRowState:a,updateRowStateAll:o,scrollTo:f,blur:m,moveFocus:g,inlineEdit:v,getExcelString:x}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){for(var t=0,i=this.list.length;i--;)"__groupingList"in this.list[i]||(t+=e.number(this.list[i][this.key]));return t},n=function(){for(var t=0,i=this.list.length,n=0;i--;)"__groupingList"in this.list[i]||(t+=e.number(this.list[i][this.key]),n++);return e.number(t/(n||1),{round:2})};t.collector={sum:i,avg:n}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){},n=function(t){for(var e=0,i=t.length,n=[];e<i;e++)t[e]&&!t[e].__isGrouping&&(t[e][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(e),n.push(jQuery.extend({},t[e])));return n},a=function(t){this.selectedDataIndexs=[];var i=0,n=t.length,a=[],o=0,l=0;if(this.config.body.grouping)for(var s=e.map(this.bodyGrouping.by,function(){return{key:this,compareString:"",grouping:!1,list:[]}}),r=0,d=s.length,c=void 0,u=[],h=void 0;i<n+1;i++)if(r=0,t[i]&&t[i][this.config.columnKeys.deleted])this.deletedList.push(t[i]);else{for(c="",u=[];r<d;r++){if(t[i]&&(c+="$|$"+t[i][s[r].key]),o>0&&c!=s[r].compareString){for(var p={keys:[],labels:[],list:s[r].list},f=0;f<r+1;f++)p.keys.push(s[f].key),p.labels.push(t[i-1][s[f].key]);u.push(p),s[r].list=[]}s[r].list.push(t[i]),s[r].compareString=c}for(h=u.length;h--;)a.push({__isGrouping:!0,__groupingList:u[h].list,__groupingBy:{keys:u[h].keys,labels:u[h].labels}});t[i]&&(t[i][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(i),l=t[i].__index=i,a.push(t[i]),o++)}else for(;i<n;i++)t[i]&&t[i][this.config.columnKeys.deleted]?this.deletedList.push(t[i]):t[i]&&(t[i][this.config.columnKeys.selected]&&this.selectedDataIndexs.push(i),t[i].__index=i,l++,a.push(t[i]));return this.xvar.dataRealRowCount=l,a},o=function(i){return e.isArray(i)?(this.page=null,this.list=a.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?v.call(this,this.sortInfo,i):i),this.deletedList=[]):"page"in i&&(this.page=jQuery.extend({},i.page),this.list=a.call(this,!this.config.remoteSort&&Object.keys(this.sortInfo).length?v.call(this,this.sortInfo,i.list):i.list),this.deletedList=[]),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this.config.body.grouping,this},l=function(t){return{list:this.list,page:this.page}},s=function(e){var i=[],n=0,a=this.list.length;switch(e){case"modified":for(;n<a;n++)this.list[n]&&!this.list[n].__isGrouping&&this.list[n][this.config.columnKeys.modified]&&i.push(jQuery.extend({},this.list[n]));break;case"selected":for(;n<a;n++)this.list[n]&&!this.list[n].__isGrouping&&this.list[n][this.config.columnKeys.selected]&&i.push(jQuery.extend({},this.list[n]));break;case"deleted":i=[].concat(this.deletedList);break;default:i=t.data.clearGroupingData.call(this,this.list)}return i},r=function(i,o,l){var s=this.config.body.grouping?n.call(this,this.list):this.list,r={first:function(){s=[].concat(i).concat(s)},last:function(){s=s.concat([].concat(i))}};if("undefined"==typeof o&&(o="last"),o in r)i[this.config.columnKeys.modified]=!0,r[o].call(this,i);else{if(!e.isNumber(o))throw"invalid argument _dindex";s=s.splice(o,[].concat(i))}return s=this.config.body.grouping?a.call(this,v.call(this,this.sortInfo,s)):l&&l.sort&&Object.keys(this.sortInfo).length?a.call(this,v.call(this,this.sortInfo,s)):a.call(this,s),this.list=s,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},d=function(i){var o=this.config.body.grouping?n.call(this,this.list):this.list,l={first:function(){o.splice(i,1)},last:function(){var t=o.length-1;o.splice(t,1)}};if("undefined"==typeof i&&(i="last"),i in l)l[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _dindex";o.splice(i,1)}return o=this.config.body.grouping?a.call(this,v.call(this,this.sortInfo,o)):Object.keys(this.sortInfo).length?a.call(this,v.call(this,this.sortInfo,o)):a.call(this,o),this.list=o,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},c=function(i){var o=this.config.body.grouping?n.call(this,this.list):this.list,l={first:function(){o[0][this.config.columnKeys.deleted]=!0},last:function(){o[o.length-1][this.config.columnKeys.deleted]=!0},selected:function(){for(var t=o.length;t--;)o[t][this.config.columnKeys.selected]&&(o[t][this.config.columnKeys.deleted]=!0)}};if("undefined"==typeof i&&(i="last"),i in l)l[i].call(this,i);else{if(!e.isNumber(i))throw"invalid argument _dindex";o[i][this.config.columnKeys.deleted]=!0}return o=this.config.body.grouping?a.call(this,v.call(this,this.sortInfo,o)):Object.keys(this.sortInfo).length?a.call(this,v.call(this,this.sortInfo,o)):a.call(this,o),this.list=o,this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this},u=function(t,i){if(!e.isNumber(i))throw"invalid argument _dindex";this.needToPaintSum=!0,this.list.splice(i,1,t),this.config.body.grouping&&(this.list=a.call(this,n.call(this,this.list)))},h=function(e,i,n){var a=p.call(this,e,i);if(this.needToPaintSum=!0,a!==n){if(/[\.\[\]]/.test(i))try{this.list[e][this.config.columnKeys.modified]=!0,Function("val","this"+t.util.getRealPathForDataItem(i)+" = val;").call(this.list[e],n)}catch(o){}else this.list[e][this.config.columnKeys.modified]=!0,this.list[e][i]=n;this.onDataChanged&&this.onDataChanged.call({self:this,list:this.list,dindex:e,item:this.list[e],key:i,value:n})}return!0},p=function(e,i,n){if(/[\.\[\]]/.test(i))try{n=Function("","return this"+t.util.getRealPathForDataItem(i)+";").call(this.list[e])}catch(a){}else n=this.list[e][i];return n},f=function(){this.selectedDataIndexs=[]},m=function(t,e,i){var n=this.config;return!this.list[t].__isGrouping&&(!this.list[t][n.columnKeys.disableSelection]&&("undefined"==typeof e?(this.list[t][n.columnKeys.selected]=!this.list[t][n.columnKeys.selected])&&this.selectedDataIndexs.push(t):(this.list[t][n.columnKeys.selected]=e)&&this.selectedDataIndexs.push(t),this.onDataChanged&&i&&i.internalCall&&this.onDataChanged.call({self:this,list:this.list,dindex:t,item:this.list[t],key:n.columnKeys.selected,value:this.list[t][n.columnKeys.selected]}),this.list[t][n.columnKeys.selected]))},g=function(t,e){var i=this.config,n=this.list.length;if("undefined"==typeof t)for(;n--;)this.list[n].__isGrouping||e&&e.filter&&e.filter.call(this.list[n])!==!0||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=!this.list[n][i.columnKeys.selected])&&this.selectedDataIndexs.push(n);else for(;n--;)this.list[n].__isGrouping||e&&e.filter&&e.filter.call(this.list[n])!==!0||this.list[n][i.columnKeys.disableSelection]||(this.list[n][i.columnKeys.selected]=t)&&this.selectedDataIndexs.push(n);return this.onDataChanged&&e&&e.internalCall&&this.onDataChanged.call({self:this,list:this.list}),this.list},v=function(i,n){var a=n||this.list,o=[],l=function(e,i,n){if(/[\.\[\]]/.test(i))try{n=Function("","return this"+t.util.getRealPathForDataItem(i)+";").call(e)}catch(a){}else n=e[i];return n};for(var s in i)o[i[s].seq]={key:s,order:i[s].orderBy};o=e.filter(o,function(){return"undefined"!=typeof this});var r=0,d=o.length,c=void 0,u=void 0;return a.sort(function(t,e){for(r=0;r<d;r++){if(c=l(t,o[r].key),u=l(e,o[r].key),("undefined"==typeof c?"undefined":_typeof(c))!==("undefined"==typeof u?"undefined":_typeof(u))&&(c=""+c,u=""+u),c<u)return"asc"===o[r].order?-1:1;if(c>u)return"asc"===o[r].order?1:-1}}),n?a:(this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this),this)},x=function(e,i){var n=this;if(this.list=this.list.concat([].concat(e)),this.appendProgress=!0,t.page.statusUpdate.call(this),this.appendDebouncer){if(!(n.appendDebounceTimes<this.config.debounceTime/10))return n.appendDebounceTimes=0,b.call(n),i(),!1;clearTimeout(this.appendDebouncer),n.appendDebounceTimes++}this.appendDebouncer=setTimeout(function(){n.appendDebounceTimes=0,b.call(n),i()},this.config.debounceTime)},b=function(){this.appendProgress=!1,this.config.body.grouping?this.list=a.call(this,v.call(this,this.sortInfo,this.list)):this.list=a.call(this,this.list),this.needToPaintSum=!0,this.xvar.frozenRowIndex=this.config.frozenRowIndex>this.list.length?this.list.length:this.config.frozenRowIndex,this.xvar.paintStartRowIndex=void 0,t.page.navigationUpdate.call(this)};t.data={init:i,set:o,get:l,getList:s,setValue:h,getValue:p,clearSelect:f,select:m,selectAll:g,add:r,remove:d,deleteRow:c,update:u,sort:v,initData:a,clearGroupingData:n,append:x}}(),function(){var t=ax5.ui.grid,e=(ax5.util,function(t){return window.btoa(unescape(encodeURIComponent(t)))}),i="data:application/vnd.ms-excel;base64,",n=function(){return"\ufeff\n{{#tables}}{{{body}}}{{/tables}}\n"},a=function(t,a){var o=void 0,l=[].concat(t);o=ax5.mustache.render(n(),{worksheet:function(){var t=[];return l.forEach(function(e,i){t.push({name:"Sheet"+(i+1)})}),t}(),tables:function(){var t=[];return l.forEach(function(e,i){t.push({body:e})}),t}()});var s=navigator.userAgent.indexOf("Chrome")>-1,r=!s&&navigator.userAgent.indexOf("Safari")>-1,d=!!document.documentMode,c=void 0,u=void 0,h=void 0,p=void 0,f=void 0;return navigator.msSaveOrOpenBlob?(c=new Blob([o],{type:"text/html"}),window.navigator.msSaveOrOpenBlob(c,a)):r?(u=window.open("about:blank",this.id+"-excel-export","width=600,height=400"),u.document.write(o),u=null):d&&"undefined"==typeof Blob?(h=jQuery('<iframe id="'+this.id+'-excel-export" style="display:none"></iframe>'),jQuery(document.body).append(h),p=window[this.id+"-excel-export"],p.document.open("text/html","replace"),p.document.write(o),p.document.close(),p.focus(),p.document.execCommand("SaveAs",!0,a),h.remove()):(f=document.body.appendChild(document.createElement("a")),"download"in f&&(f.download=a,f.href=i+e(o),f.click(),document.body.removeChild(f))),!0};t.excel={"export":a}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(){return e.number(this.value,{money:!0})};t.formatter={money:i}}(),function(){var t=ax5.ui.grid,e=ax5.util,i={on:function(n,a){var o=this,l=$(n),s=l.offset().left,r=o.$.container.root.offset().left;o.xvar.columnResizerIndex=a;var d={min:-o.colGroup[a]._width+2,max:o.colGroup[a+1]?o.colGroup[a+1]._width:o.$.container.root.width()-2};jQuery(document.body).bind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){var i=t.util.getMousePosition(e);o.xvar.__da=i.clientX-o.xvar.mousePosition.clientX,d.min>o.xvar.__da?o.xvar.__da=d.min:d.max<o.xvar.__da&&(o.xvar.__da=d.max),o.xvar.columnResizerLived||o.$.resizer.horizontal.addClass("live"),o.xvar.columnResizerLived=!0,o.$.resizer.horizontal.css({left:s+o.xvar.__da-r})}).bind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(t){i.off.call(o),e.stopEvent(t)}).bind("mouseleave.ax5grid-"+this.instanceId,function(t){i.off.call(o),e.stopEvent(t)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){this.$.resizer.horizontal.removeClass("live"),this.xvar.columnResizerLived=!1,"undefined"==typeof this.xvar.__da||this.setColumnWidth(this.colGroup[this.xvar.columnResizerIndex]._width+this.xvar.__da,this.xvar.columnResizerIndex),jQuery(document.body).unbind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},n=function(){var n=this;this.$.container.header.on("click","[data-ax5grid-column-attr]",function(i){var a=this.getAttribute("data-ax5grid-column-key"),o=this.getAttribute("data-ax5grid-column-colindex"),l=(this.getAttribute("data-ax5grid-column-rowindex"),n.colGroup[o]);if("__checkbox_header__"===a){var s=this.getAttribute("data-ax5grid-selected");s=!!e.isNothing(s)||"true"!==s,$(this).attr("data-ax5grid-selected",s),n.selectAll({selected:s})}else a&&l&&(l.sortable!==!0&&n.config.sortable!==!0||l.sortable===!1||l.sortFixed||r.call(n,l.key));t.body.blur.call(n)}),this.$.container.header.on("mousedown","[data-ax5grid-column-resizer]",function(a){var o=this.getAttribute("data-ax5grid-column-resizer");n.xvar.mousePosition=t.util.getMousePosition(a),i.on.call(n,this,Number(o)),e.stopEvent(a)}).on("dragstart",function(t){return e.stopEvent(t),!1}),a.call(this)},a=function(){var e=this.config,i=t.util.divideTableByFrozenColumnIndex(this.headerTable,this.config.frozenColumnIndex);this.asideHeaderData=function(t){for(var i=[],n={rows:[]},a=0,o=t.rows.length;a<o;a++)if(n.rows[a]={cols:[]},0===a){var l={label:"",colspan:1,rowspan:t.rows.length,colIndex:null},s={};e.showLineNumber&&(s=jQuery.extend({},l,{width:e.lineNumberColumnWidth,_width:e.lineNumberColumnWidth,columnAttr:"lineNumber",key:"__index_header__",label:"&nbsp;"}),i.push(s),n.rows[a].cols.push(s)),e.showRowSelector&&(s=jQuery.extend({},l,{width:e.rowSelectorColumnWidth,_width:e.rowSelectorColumnWidth,columnAttr:"rowSelector",key:"__checkbox_header__",label:""}),i.push(s),n.rows[a].cols.push(s))}return this.asideColGroup=i,n}.call(this,this.headerTable),this.leftHeaderData=i.leftData,this.headerData=i.rightData},o=function(t){var e=(this.config,this.colGroup,t.key);return"__checkbox_header__"===e?'<div class="checkBox"></div>':t.label||"&nbsp;"},l=function(t){var i=this.config,n=this.colGroup;t&&(a.call(this),this.xvar.paintStartRowIndex=void 0);var l=this.asideHeaderData,s=this.leftHeaderData,r=this.headerData,d=i.header.align;this.leftHeaderColGroup=n.slice(0,this.config.frozenColumnIndex),this.headerColGroup=n.slice(this.config.frozenColumnIndex);var c=function(t,a,l){var s=0,r=[];r.push('<table border="0" cellpadding="0" cellspacing="0">'),r.push("<colgroup>");for(var c=0,u=a.length;c<u;c++)r.push('<col style="width:'+a[c]._width+'px;"  />'),s+=a[c]._width;r.push("<col  />"),r.push("</colgroup>");for(var h=0,p=l.rows.length;h<p;h++){var f="";r.push('<tr class="'+f+'">');for(var m=0,g=l.rows[h].cols.length;m<g;m++){var v=l.rows[h].cols[m],x=i.header.columnHeight*v.rowspan-i.header.columnBorderWidth,b=d||v.align;r.push("<td ",'data-ax5grid-column-attr="'+(v.columnAttr||"default")+'" ','data-ax5grid-column-row="'+h+'" ','data-ax5grid-column-col="'+m+'" ',function(){return"undefined"!=typeof v.key?'data-ax5grid-column-key="'+v.key+'" ':""}(),'data-ax5grid-column-colindex="'+v.colIndex+'" ','data-ax5grid-column-rowindex="'+v.rowIndex+'" ','colspan="'+v.colspan+'" ','rowspan="'+v.rowspan+'" ','class="'+function(t){var n="";return t.styleClass&&(n+=e.isFunction(t.styleClass)?t.styleClass.call({column:t,key:t.key})+" ":t.styleClass+" "),i.header.columnBorderWidth&&(n+="hasBorder "),m==g-1&&(n+="isLastColumn "),n}.call(this,v)+'" ','style="height: '+x+'px;min-height: 1px;">'),r.push(function(){var t=i.header.columnHeight-2*i.header.columnPadding-i.header.columnBorderWidth;return'<span data-ax5grid-cellHolder="" '+(b?'data-ax5grid-text-align="'+b+'"':"")+' style="height: '+(i.header.columnHeight-i.header.columnBorderWidth)+"px;line-height: "+t+'px;">'}(),function(){var t="";return e.isNothing(v.key)||e.isNothing(v.colIndex)||i.sortable!==!0&&v.sortable!==!0||v.sortable===!1||(t+='<span data-ax5grid-column-sort="'+v.colIndex+'" data-ax5grid-column-sort-order="'+(n[v.colIndex].sort||"")+'" />'),t}(),o.call(this,v),"</span>"),e.isNothing(v.colIndex)||i.enableFilter&&r.push('<span data-ax5grid-column-filter="'+v.colIndex+'" data-ax5grid-column-filter-value=""  />'),r.push("</td>")}r.push("<td ",'data-ax5grid-column-row="null" ','data-ax5grid-column-col="null" ','style="height: '+i.header.columnHeight+'px;min-height: 1px;" ',"></td>"),r.push("</tr>")}return r.push("</table>"),t.html(r.join("")),function(){for(var n=i.header.columnHeight*l.rows.length-i.header.columnBorderWidth,o=0,s=[],r=0,d=a.length;r<d;r++){var c=a[r];e.isNothing(c.colIndex)||(o+=c._width,s.push('<div data-ax5grid-column-resizer="'+c.colIndex+'" style="height:'+n+"px;left: "+(o-4)+'px;"  />'))}t.append(s)}.call(this),s};i.asidePanelWidth>0&&c.call(this,this.$.panel["aside-header"],this.asideColGroup,l),i.frozenColumnIndex>0&&c.call(this,this.$.panel["left-header"],this.leftHeaderColGroup,s),this.xvar.scrollContentWidth=c.call(this,this.$.panel["header-scroll"],this.headerColGroup,r),i.rightSum},s=function(t){return this.$.panel["header-scroll"].css(t),this},r=function(t){var e="",i={},n=0;for(var a in this.sortInfo)this.sortInfo[a].fixed&&(i[a]=this.sortInfo[a],n++);for(var o=0,l=this.colGroup.length;o<l;o++)this.colGroup[o].key==t?(""==e&&(e="undefined"==typeof this.colGroup[o].sort?"desc":"desc"===this.colGroup[o].sort?"asc":void 0),this.colGroup[o].sort=e):this.config.multiSort||(this.colGroup[o].sort=void 0),"undefined"!=typeof this.colGroup[o].sort&&(i[this.colGroup[o].key]||(i[this.colGroup[o].key]={seq:n++,orderBy:this.colGroup[o].sort}));return this.setColumnSort(i),this},d=function(t){for(var e=0,i=this.colGroup.length;e<i;e++)for(var n in t)this.colGroup[e].key==n&&(this.colGroup[e].sort=t[n].orderBy);return this},c=function(){var t=(this.config,this.colGroup),e=this.headerTable,i=function(t,e){for(var i=[],n=0,a=e.rows.length;n<a;n++){i.push("<tr>");for(var l=0,s=e.rows[n].cols.length;l<s;l++){var r=e.rows[n].cols[l];i.push("<td ",'colspan="'+r.colspan+'" ','rowspan="'+r.rowspan+'" ',">",o.call(this,r),"</td>")}i.push("</tr>")}return i.join("")};return i.call(this,t,e)};t.header={init:n,repaint:l,scrollTo:s,toggleSort:r,applySortStatus:d,getExcelString:c}}(),function(){var t=ax5.ui.grid,e={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="text" value="'+n+'" >'},init:function(e,i,n,a,o){var l;return a.append(l=jQuery(this.getHtml(e,i,n,o))),this.bindUI(e,i,l,n,a,o),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i,n,a,o){i.focus().select()}},i={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="money" value="'+n+'" >'},init:function(e,i,n,a,o){var l;return a.append(l=jQuery(this.getHtml(e,i,n,o))),this.bindUI(e,i,l,n,a,o),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i,n,a,o){i.data("binded-ax5ui","ax5formater"),i.ax5formatter({pattern:"money"}),i.focus().select()}},n={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="number" value="'+n+'" >'},init:function(e,i,n,a,o){var l;return a.append(l=jQuery(this.getHtml(e,i,n,o))),
this.bindUI(e,i,l,n,a,o),l.on("blur",function(){t.body.inlineEdit.deActive.call(e,"RETURN",i)}),l},bindUI:function(t,e,i,n,a,o){i.data("binded-ax5ui","ax5formater"),i.ax5formatter({pattern:"number"}),i.focus().select()}},a={useReturnToSave:!0,editMode:"popup",getHtml:function(t,e,i,n){return'<input type="text" data-ax5grid-editor="calendar" value="'+n+'" >'},init:function(t,e,i,n,a){var o;return n.append(o=jQuery(this.getHtml(t,e,i,a))),this.bindUI(t,e,o,i,n,a),o},bindUI:function(e,i,n,a,o,l){var s=e;n.data("binded-ax5ui","ax5picker"),n.ax5picker({direction:"auto",content:{type:"date",formatter:{pattern:"date"}},onStateChanged:function(){"open"==this.state?this.self.activePicker.attr("data-ax5grid-inline-edit-picker","date"):"close"==this.state&&t.body.inlineEdit.deActive.call(s,"RETURN",i)}}),n.focus().select()}},o={useReturnToSave:!1,editMode:"popup",getHtml:function(t,e,i,n){var a=[];return a.push('<div data-ax5select="ax5grid-editor" data-ax5select-config="{}">'),a.push("</div>"),a.join("")},init:function(t,e,i,n,a){var o;return n.append(o=jQuery(this.getHtml(t,e,i,a))),this.bindUI(t,e,o,i,n,a),o},bindUI:function(e,i,n,a,o,l){var s={columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}};jQuery.extend(!0,s,a.config),s.options.forEach(function(t){t[s.columnKeys.optionValue]==l&&(t[s.columnKeys.optionSelected]=!0)});var r=e;n.data("binded-ax5ui","ax5select"),n.ax5select({direction:"auto",columnKeys:s.columnKeys,options:s.options,onStateChanged:function(){"open"==this.state?this.self.activeSelectOptionGroup.attr("data-ax5grid-inline-edit-picker","select"):"changeValue"==this.state?t.body.inlineEdit.deActive.call(r,"RETURN",i,this.value[0][s.columnKeys.optionValue]):"close"==this.state&&t.body.inlineEdit.deActive.call(r,"ESC",i)}}),n.ax5select("open"),n.ax5select("setValue",l),n.find("a").focus()}},l={editMode:"inline",getHtml:function(t,e,i){var n,a=t.config.body.columnHeight-2*t.config.body.columnPadding-t.config.body.columnBorderWidth;n=e.config&&e.config.trueValue?i==e.config.trueValue?"true":"false":0==i||"false"==i||i<"1"?"false":"true";var o={marginTop:2,height:a-4};return jQuery.extend(!0,o,e.config),o.marginTop=(a-o.height)/2,'<div data-ax5grid-editor="checkbox" data-ax5grid-checked="'+n+'" style="height:'+o.height+"px;width:"+o.height+"px;margin-top:"+o.marginTop+'px;"></div>'}};t.inlineEditor={text:e,money:i,number:n,date:a,select:o,checkbox:l}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(t){var e=function(t){this.page.currentPage!=t&&(this.page.selectPage=t,this.config.page.onChange&&this.config.page.onChange.call({self:this,page:this.page,data:this.data}))},i={first:function(){e.call(this,0)},prev:function(){var t=this.page.currentPage-1;t<0&&(t=0),e.call(this,t)},next:function(){var t=this.page.currentPage+1;t>this.page.totalPages-1&&(t=this.page.totalPages-1),e.call(this,t)},last:function(){e.call(this,this.page.totalPages-1)}};t in i?i[t].call(this):e.call(this,t-1)},n=function(){var e=this;if(this.page){var n={hasPage:!1,currentPage:this.page.currentPage,pageSize:this.page.pageSize,totalElements:this.page.totalElements,totalPages:this.page.totalPages,firstIcon:this.config.page.firstIcon,prevIcon:this.config.page.prevIcon||"«",nextIcon:this.config.page.nextIcon||"»",lastIcon:this.config.page.lastIcon},a=this.config.page.navigationItemCount;n["@paging"]=function(){var t=[],e=n.currentPage-Math.floor(a/2);e<0&&(e=0);var i=n.currentPage+a;i>n.totalPages&&(i=n.totalPages),i-e>a&&(i=e+a),i-e<a&&(e=i-a),e<0&&(e=0);for(var o=e,l=i;o<l;o++)t.push({pageNo:o+1,selected:n.currentPage==o});return t}(),n["@paging"].length>0&&(n.hasPage=!0),this.$.page.navigation.html(t.tmpl.get("page_navigation",n)),this.$.page.navigation.find("[data-ax5grid-page-move]").on("click",function(){var t=this.getAttribute("data-ax5grid-page-move");i.call(e,t)})}else this.$.page.navigation.empty()},a=function(){var i=this.xvar.paintStartRowIndex,n=this.xvar.paintStartRowIndex+this.xvar.paintRowCount-1,a=this.xvar.dataRowCount;n>a&&(n=a),this.$.page.status.html(t.tmpl.get("page_status",{fromRowIndex:e.number(i+1,{money:!0}),toRowIndex:e.number(n,{money:!0}),totalElements:e.number(a,{money:!0}),dataRowCount:a!==this.xvar.dataRealRowCount&&e.number(this.xvar.dataRealRowCount,{money:!0}),progress:this.appendProgress?this.config.appendProgressIcon:""}))};t.page={navigationUpdate:n,statusUpdate:a}}(),function(){var t=ax5.ui.grid,e=ax5.util,i={vertical:function(t,e){var i=e._content_height-e._panel_height,n=e._vertical_scroller_height-e.verticalScrollBarHeight,a=i*t.top/n;return a<0?a=0:i<a&&(a=i),{top:-a}},horizontal:function(t,e){var i=e._content_width-e._panel_width,n=e._horizontal_scroller_width-e.horizontalScrollBarWidth,a=i*t.left/n;return a<0?a=0:i<a&&(a=i),{left:-a}}},n={vertical:function(e,n){var a="vertical",o=n._content_height-n._panel_height,l=n._vertical_scroller_height-n.verticalScrollBarHeight,s=l*e/o;if(-s>l){s=-l;var r=i[a].call(this,{top:-s},{_content_width:n._content_width,_content_height:n._content_height,_panel_width:n._panel_width,_panel_height:n._panel_height,_horizontal_scroller_width:n._horizontal_scroller_width,_vertical_scroller_height:n._vertical_scroller_height,verticalScrollBarHeight:n.verticalScrollBarHeight,horizontalScrollBarWidth:n.horizontalScrollBarWidth});t.body.scrollTo.call(this,r)}return-s},horizontal:function(e,n){var a="horizontal",o=n._content_width-n._panel_width,l=n._horizontal_scroller_width-n.horizontalScrollBarWidth,s=l*e/o;if(-s>l){s=-l;var r=i[a].call(this,{left:-s},{_content_width:n._content_width,_content_height:n._content_height,_panel_width:n._panel_width,_panel_height:n._panel_height,_horizontal_scroller_width:n._horizontal_scroller_width,_vertical_scroller_height:n._vertical_scroller_height,verticalScrollBarHeight:n.verticalScrollBarHeight,horizontalScrollBarWidth:n.horizontalScrollBarWidth});t.header.scrollTo.call(this,r),t.body.scrollTo.call(this,r)}return-s}},a={click:function(e,n,a,o){if((new Date).getTime()-t.scroller.moveout_timer<20)return!1;var l=this,s=e.offset(),r={width:n.outerWidth(),height:n.outerHeight()},d={width:e.innerWidth(),height:e.innerHeight()},c=l.$.scroller.vertical.innerHeight(),u=l.$.panel.body.height(),h=l.$.scroller.horizontal.innerWidth(),p=l.$.panel.body.width(),f=l.xvar.scrollContentHeight,m=l.xvar.scrollContentWidth,g=l.$.scroller["vertical-bar"].outerHeight(),v=l.$.scroller["horizontal-bar"].outerWidth(),x={vertical:function(e){var i=t.util.getMousePosition(e),n=i.clientY-s.top;return n<0?n=0:n+r.height>d.height&&(n=d.height-r.height),{top:n}},horizontal:function(e){var i=t.util.getMousePosition(e),n=i.clientX-s.left;return n<0?n=0:n+r.width>d.width&&(n=d.width-r.width),{left:n}}},b=x[a](o);n.css(b);var y=i[a].call(l,b,{_content_width:m,_content_height:f,_panel_width:p,_panel_height:u,_horizontal_scroller_width:h,_vertical_scroller_height:c,verticalScrollBarHeight:g,horizontalScrollBarWidth:v});"horizontal"===a&&t.header.scrollTo.call(l,y),t.body.scrollTo.call(l,y)},on:function(e,n,o,l){var s=this,r=n.position(),d={width:n.outerWidth(),height:n.outerHeight()},c={width:e.innerWidth(),height:e.innerHeight()},u=s.$.scroller.vertical.innerHeight(),h=s.$.panel.body.height(),p=s.$.scroller.horizontal.innerWidth(),f=s.$.panel.body.width(),m=s.xvar.scrollContentHeight,g=s.xvar.scrollContentWidth,v=s.$.scroller["vertical-bar"].outerHeight(),x=s.$.scroller["horizontal-bar"].outerWidth(),b={vertical:function(e){var i=t.util.getMousePosition(e);s.xvar.__da=i.clientY-s.xvar.mousePosition.clientY;var n=r.top+s.xvar.__da;return n<0?n=0:n+d.height>c.height&&(n=c.height-d.height),{top:n}},horizontal:function(e){var i=t.util.getMousePosition(e);s.xvar.__da=i.clientX-s.xvar.mousePosition.clientX;var n=r.left+s.xvar.__da;return n<0?n=0:n+d.width>c.width&&(n=c.width-d.width),{left:n}}};s.xvar.__da=0,jQuery(document.body).bind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId,function(e){var a=b[o](e);n.css(a);var l=i[o].call(s,a,{_content_width:g,_content_height:m,_panel_width:f,_panel_height:h,_horizontal_scroller_width:p,_vertical_scroller_height:u,verticalScrollBarHeight:v,horizontalScrollBarWidth:x});"horizontal"===o&&t.header.scrollTo.call(s,l),t.body.scrollTo.call(s,l)}).bind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId,function(t){a.off.call(s)}).bind("mouseleave.ax5grid-"+this.instanceId,function(t){a.off.call(s)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){t.scroller.moveout_timer=(new Date).getTime(),jQuery(document.body).unbind(t.util.ENM.mousemove+".ax5grid-"+this.instanceId).unbind(t.util.ENM.mouseup+".ax5grid-"+this.instanceId).unbind("mouseleave.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},o={wheel:function(e){var i=this,n=i.$.panel["body-scroll"].position(),a=i.$.panel.body.height(),o=i.$.panel.body.width(),l=i.xvar.scrollContentHeight,r=i.xvar.scrollContentWidth;if(isNaN(l)||isNaN(r))return!1;var d=void 0,c=void 0,u=!1,h=!1;return d=n.left-e.x,c=n.top-e.y,c>=0?(c=0,u=!0):c<=a-l?(c=a-l,c>=0&&(c=0),u=!0):0==e.y&&(u=!0),d>=0?(d=0,h=!0):d<=o-r?(d=o-r,d>=0&&(d=0),h=!0):0==e.x&&(h=!0),t.header.scrollTo.call(this,{left:d}),t.body.scrollTo.call(this,{left:d,top:c}),s.call(this),!u||!h},on:function(){var i=this,n=i.$.panel["body-scroll"].position(),a=i.$.panel.body.height(),l=i.$.panel.body.width(),r=i.xvar.scrollContentHeight,d=i.xvar.scrollContentWidth,c=function(e){var o=t.util.getMousePosition(e),s=void 0,c=void 0;return i.xvar.__x_da=o.clientX-i.xvar.mousePosition.clientX,i.xvar.__y_da=o.clientY-i.xvar.mousePosition.clientY,s=n.left+i.xvar.__x_da,c=n.top+i.xvar.__y_da,c>=0?c=0:c<=a-r&&(c=a-r,c>=0&&(c=0)),s>=0?s=0:s<=l-d&&(s=l-d,s>=0&&(s=0)),{left:s,top:c}};this.xvar.__x_da=0,this.xvar.__y_da=0,this.xvar.touchmoved=!1,jQuery(document.body).on("touchmove.ax5grid-"+this.instanceId,function(n){var a=c(n);t.header.scrollTo.call(i,{left:a.left}),t.body.scrollTo.call(i,a,"noRepaint"),s.call(i),e.stopEvent(n),i.xvar.touchmoved=!0}).on("touchend.ax5grid-"+this.instanceId,function(n){if(i.xvar.touchmoved){var a=c(n);t.header.scrollTo.call(i,{left:a.left}),t.body.scrollTo.call(i,a),s.call(i),e.stopEvent(n),o.off.call(i)}}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){jQuery(document.body).off("touchmove.ax5grid-"+this.instanceId).off("touchend.ax5grid-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},l=function(){var i=this,n=this.config.scroller.trackPadding;this.$.scroller["vertical-bar"].css({width:this.config.scroller.size-(n+1),left:n/2}),this.$.scroller["horizontal-bar"].css({height:this.config.scroller.size-(n+1),top:n/2}),this.$.scroller["vertical-bar"].on(t.util.ENM.mousedown,function(e){this.xvar.mousePosition=t.util.getMousePosition(e),a.on.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",e)}.bind(this)).on("dragstart",function(t){return e.stopEvent(t),!1}),this.$.scroller.vertical.on("click",function(t){"vertical"==t.target.getAttribute("data-ax5grid-scroller")&&a.click.call(this,this.$.scroller.vertical,this.$.scroller["vertical-bar"],"vertical",t)}.bind(this)),this.$.scroller["horizontal-bar"].on(t.util.ENM.mousedown,function(e){this.xvar.mousePosition=t.util.getMousePosition(e),a.on.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",e)}.bind(this)).on("dragstart",function(t){return e.stopEvent(t),!1}),this.$.scroller.horizontal.on("click",function(t){"horizontal"==t.target.getAttribute("data-ax5grid-scroller")&&a.click.call(this,this.$.scroller.horizontal,this.$.scroller["horizontal-bar"],"horizontal",t)}.bind(this)),this.$.container.body.on("mousewheel DOMMouseScroll",function(t){var i=t.originalEvent,n={x:0,y:0};i.detail?n.y=10*i.detail:"undefined"==typeof i.deltaY?(n.y=-i.wheelDelta,n.x=0):(n.y=i.deltaY,n.x=i.deltaX),o.wheel.call(this,n)&&e.stopEvent(t)}.bind(this)),document.addEventListener&&ax5.info.supportTouch&&this.$.container.body.on("touchstart","[data-ax5grid-panel]",function(e){i.xvar.mousePosition=t.util.getMousePosition(e),o.on.call(i)})},s=function(){var t=this.$.scroller.vertical.height(),e=this.$.scroller.horizontal.width(),i=this.$.panel.body.height(),a=this.$.panel.body.width(),o=this.xvar.scrollContentHeight,l=this.xvar.scrollContentWidth,s=i*t/o,r=a*e/l;s<this.config.scroller.barMinSize&&(s=this.config.scroller.barMinSize),r<this.config.scroller.barMinSize&&(r=this.config.scroller.barMinSize),this.$.scroller["vertical-bar"].css({top:n.vertical.call(this,this.$.panel["body-scroll"].position().top,{_content_width:l,_content_height:o,_panel_width:a,_panel_height:i,_horizontal_scroller_width:e,_vertical_scroller_height:t,verticalScrollBarHeight:s,horizontalScrollBarWidth:r}),height:s}),this.$.scroller["horizontal-bar"].css({left:n.horizontal.call(this,this.$.panel["body-scroll"].position().left,{_content_width:l,_content_height:o,_panel_width:a,_panel_height:i,_horizontal_scroller_width:e,_vertical_scroller_height:t,verticalScrollBarHeight:s,horizontalScrollBarWidth:r}),width:r}),t=null,e=null,i=null,a=null,o=null,l=null,s=null,r=null};t.scroller={moveout_timer:(new Date).getTime(),init:l,resize:s}}(),function(){var t=ax5.ui.grid,e=function(){return'<div data-ax5grid-container="root" data-ax5grid-instance="{{instanceId}}">\n            <div data-ax5grid-container="hidden">\n                <textarea data-ax5grid-form="clipboard"></textarea>\n            </div>\n            <div data-ax5grid-container="header">\n                <div data-ax5grid-panel="aside-header"></div>\n                <div data-ax5grid-panel="left-header"></div>\n                <div data-ax5grid-panel="header">\n                    <div data-ax5grid-panel-scroll="header"></div>\n                </div>\n                <div data-ax5grid-panel="right-header"></div>\n            </div>\n            <div data-ax5grid-container="body">\n                <div data-ax5grid-panel="top-aside-body"></div>\n                <div data-ax5grid-panel="top-left-body"></div>\n                <div data-ax5grid-panel="top-body">\n                    <div data-ax5grid-panel-scroll="top-body"></div>\n                </div>\n                <div data-ax5grid-panel="top-right-body"></div>\n                <div data-ax5grid-panel="aside-body">\n                    <div data-ax5grid-panel-scroll="aside-body"></div>\n                </div>\n                <div data-ax5grid-panel="left-body">\n                    <div data-ax5grid-panel-scroll="left-body"></div>\n                </div>\n                <div data-ax5grid-panel="body">\n                    <div data-ax5grid-panel-scroll="body"></div>\n                </div>\n                <div data-ax5grid-panel="right-body">\n                  <div data-ax5grid-panel-scroll="right-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-aside-body"></div>\n                <div data-ax5grid-panel="bottom-left-body"></div>\n                <div data-ax5grid-panel="bottom-body">\n                    <div data-ax5grid-panel-scroll="bottom-body"></div>\n                </div>\n                <div data-ax5grid-panel="bottom-right-body"></div>\n            </div>\n            <div data-ax5grid-container="page">\n                <div data-ax5grid-page="holder">\n                    <div data-ax5grid-page="navigation"></div>\n                    <div data-ax5grid-page="status"></div>\n                </div>\n            </div>\n            <div data-ax5grid-container="scroller">\n                <div data-ax5grid-scroller="vertical">\n                    <div data-ax5grid-scroller="vertical-bar"></div>    \n                </div>\n                <div data-ax5grid-scroller="horizontal">\n                    <div data-ax5grid-scroller="horizontal-bar"></div>\n                </div>\n                <div data-ax5grid-scroller="corner"></div>\n            </div>\n            <div data-ax5grid-resizer="vertical"></div>\n            <div data-ax5grid-resizer="horizontal"></div>\n        </div>'},i=function(){return'<div data-ax5grid-page-navigation="holder">\n            {{#hasPage}}\n            <div data-ax5grid-page-navigation="cell">    \n                {{#firstIcon}}<button data-ax5grid-page-move="first">{{{firstIcon}}}</button>{{/firstIcon}}\n                <button data-ax5grid-page-move="prev">{{{prevIcon}}}</button>\n            </div>\n            <div data-ax5grid-page-navigation="cell-paging">\n                {{#@paging}}\n                <button data-ax5grid-page-move="{{pageNo}}" data-ax5grid-page-selected="{{selected}}">{{pageNo}}</button>\n                {{/@paging}}\n            </div>\n            <div data-ax5grid-page-navigation="cell">\n                <button data-ax5grid-page-move="next">{{{nextIcon}}}</button>\n                {{#lastIcon}}<button data-ax5grid-page-move="last">{{{lastIcon}}}</button>{{/lastIcon}}\n            </div>\n            {{/hasPage}}\n        </div>'},n=function(){return"<span>{{{progress}}} {{fromRowIndex}} - {{toRowIndex}} of {{totalElements}}{{#dataRowCount}} ({{dataRowCount}}){{/dataRowCount}}</span>"};t.tmpl={main:e,page_navigation:i,page_status:n,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui.grid,e=ax5.util,i=function(t,e){for(var i={rows:[]},n={rows:[]},a=0,o=t.rows.length;a<o;a++){var l=t.rows[a];i.rows[a]={cols:[]},n.rows[a]={cols:[]};for(var s=0,r=l.cols.length;s<r;s++){var d=jQuery.extend({},l.cols[s]),c=d.colIndex,u=d.colIndex+d.colspan;if(c<e)if(u<=e)i.rows[a].cols.push(d);else{var h=jQuery.extend({},d),p=jQuery.extend({},h);h.colspan=e-h.colIndex,p.colIndex=e,p.colspan=d.colspan-h.colspan,i.rows[a].cols.push(h),n.rows[a].cols.push(p)}else n.rows[a].cols.push(d)}}return{leftData:i,rightData:n}},n=function(t){var e,i=t.originalEvent?t.originalEvent:t;return e="changedTouches"in i?i.changedTouches[0]:i,{clientX:e.pageX,clientY:e.pageY}},a={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},o=function(t){var i=e.deepCopy(t),n=this.config,a={rows:[]},o=0,l=function u(t,e,i){for(var l={cols:[]},s=0,r=t.length;s<r;s++){var d=t[s],c=1;d.hidden||(d.colspan=1,d.rowspan=1,d.rowIndex=e,d.colIndex=function(){return i?(o=i.colIndex+s+1,i.colIndex+s):o++}(),l.cols.push(d),"columns"in d?c=u(d.columns,e+1,d):d.width="width"in d?d.width:n.columnMinWidth,d.colspan=c)}return l.cols.length>0?(a.rows[e]||(a.rows[e]={cols:[]}),a.rows[e].cols=a.rows[e].cols.concat(l.cols),l.cols.length-1+c):c};l(i,0);for(var s=0,r=a.rows.length;s<r;s++)for(var d=0,c=a.rows[s].cols.length;d<c;d++)"columns"in a.rows[s].cols[d]||(a.rows[s].cols[d].rowspan=r-s);return a},l=function(t){var i=e.deepCopy(t),n={rows:[]},a=0,o=function l(t,e,i){for(var o={cols:[]},s=0,r=t.length,d=(function h(t){for(var n=0,s=t.length;n<s;n++){var r=t[n],d=1;r.hidden||("key"in r?(r.colspan=1,r.rowspan=1,r.rowIndex=e,r.colIndex=function(){return i?(a=i.colIndex+n+1,i.colIndex+n):a++}(),o.cols.push(r),"columns"in r&&(d=l(r.columns,e+1,r)),r.colspan=d):"columns"in r&&h(r.columns,e))}});s<r;s++){var c=t[s],u=1;c.hidden||("key"in c?(c.colspan=1,c.rowspan=1,c.rowIndex=e,c.colIndex=function(){return i?(a=i.colIndex+s+1,i.colIndex+s):a++}(),o.cols.push(c),"columns"in c&&(u=l(c.columns,e+1,c)),c.colspan=u):"columns"in c&&d(c.columns,e))}return o.cols.length>0?(n.rows[e]||(n.rows[e]={cols:[]}),n.rows[e].cols=n.rows[e].cols.concat(o.cols),o.cols.length-1+u):u};return o(i,0),function(t){for(var e=0,i=t.rows.length;e<i;e++)for(var n=t.rows[e],a=0,o=n.cols.length;a<o;a++){var l=n.cols[a];"columns"in l||(l.rowspan=i-e)}}(n),n},s=function(t){var e={};return t.rows.forEach(function(t){t.cols.forEach(function(t){e[t.rowIndex+"_"+t.colIndex]=jQuery.extend({},t)})}),e},r=function(t){for(var e={rows:[]},i=0,n=t.length;i<n;i++){var a=t[i];e.rows[i]={cols:[]};for(var o=0,l=0,s=a.length;l<s&&!(o>this.columns.length);l++){var r=a[l].colspan||1;a[l].label||a[l].key?e.rows[i].cols.push({colspan:r,rowspan:1,colIndex:o,columnAttr:"sum",align:a[l].align,label:a[l].label,key:a[l].key,collector:a[l].collector,formatter:a[l].formatter}):e.rows[i].cols.push({colIndex:o,colspan:r,rowspan:1,label:"&nbsp;"}),o+=r}if(o<this.columns.length+1)for(var l=o;l<this.colGroup.length;l++)e.rows[i].cols.push({colIndex:l+1,colspan:1,rowspan:1,label:"&nbsp;"})}return e},d=function(t){var e={rows:[]},i=0,n=0;e.rows[i]={cols:[]};for(var a=0,o=t.length;a<o&&!(n>this.columns.length);a++){var l=t[a].colspan||1;t[a].label||t[a].key?e.rows[i].cols.push({colspan:l,rowspan:1,rowIndex:0,colIndex:n,columnAttr:"default",align:t[a].align,label:t[a].label,key:t[a].key,collector:t[a].collector,formatter:t[a].formatter}):e.rows[i].cols.push({rowIndex:0,colIndex:n,colspan:l,rowspan:1,label:"&nbsp;"}),n+=l}if(n<this.colGroup.length)for(var s=n;s<this.colGroup.length;s++)e.rows[i].cols.push({rowIndex:0,colIndex:s+1,colspan:1,rowspan:1,label:"&nbsp;"});return e},c=function(t,e,i){var n=void 0,a=!1,o=[];return this.xvar.frozenRowIndex>t&&o.push("top"),this.xvar.frozenColumnIndex>e&&o.push("left"),o.push("body"),(this.xvar.frozenColumnIndex<=e||this.xvar.frozenRowIndex<=t)&&(n=o.join("-"),o.push("scroll"),a=!0),{panelName:o.join("-"),containerPanelName:n,isScrollPanel:a}},u=function(t){var e=[],i=[].concat(t.split(/[\.\[\]]/g));return i.forEach(function(t){""!==t&&e.push('["'+t.replace(/['\"]/g,"")+'"]')}),i=null,e.join("")};t.util={divideTableByFrozenColumnIndex:i,getMousePosition:n,ENM:a,makeHeaderTable:o,makeBodyRowTable:l,makeBodyRowMap:s,makeFootSumTable:r,makeBodyGroupingTable:d,findPanelByColumnIndex:c,getRealPathForDataItem:u}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"mediaViewer",version:"1.3.82"},function(){var n=function(){var n,a=this,o={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},l=function(t){var e="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;return{clientX:e.clientX,clientY:e.clientY,time:(new Date).getTime()}};this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",animateTime:250,columnKeys:{src:"src",poster:"poster",html:"html"},loading:{icon:"",text:"Now Loading"},viewer:{prevHandle:!1,nextHandle:!1,ratio:16/9},media:{prevHandle:"<",nextHandle:">",width:36,height:36,list:[]}},this.queue=[],this.openTimer=null,this.closeTimer=null,this.selectedIndex=0,this.mousePosition={},n=this.config;var s=function(){var e=jQuery.extend(!0,{id:this.id},n);try{return t.tmpl.get.call(this,"frame",e,n.columnKeys)}finally{e=null}},r=function(t,e){var o,l="",s={thumbnail:function(t){this.select(t.getAttribute("data-media-thumbnail"))},prev:function(t){this.selectedIndex>0?this.select(this.selectedIndex-1):this.select(n.media.list.length-1)},next:function(t){this.selectedIndex<n.media.list.length-1?this.select(this.selectedIndex+1):this.select(0)},viewer:function(t){a.onClick&&a.onClick.call({media:n.media.list[this.selectedIndex]})}};if(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-media-thumbnail")?(l="thumbnail",!0):"media-list-prev-handle"==t.getAttribute("data-media-viewer-els")?(l="prev",!0):"media-list-next-handle"==t.getAttribute("data-media-viewer-els")?(l="next",!0):"viewer"==t.getAttribute("data-media-viewer-els")?(l="viewer",!0):a.target.get(0)==t||void 0})){for(var r in s)if(r==l){o=s[r].call(this,e);break}return this}return this},d=function(){if(n.media&&n.media.list&&n.media.list.length>0){for(var t=n.media.list.length,e=0;t--;)if(n.media.list[t].selected){e=t;break}0==e&&(n.media.list[0].selected=!0);try{return e}finally{t=null,e=null}}},c=function(){var t=this.$.list.find("[data-media-thumbnail="+this.selectedIndex+"]"),e=t.position(),i=t.outerWidth(),n=this.$.list.outerWidth(),a=this.$["list-table"].position().left,o=this.$["list-table"].outerWidth(),l=0;e.left+i+a>n?(l=n-(e.left+i),a!=l&&this.$["list-table"].css({left:a=l})):e.left+a<0&&(l=e.left,l>0&&(l=0),a!=l&&this.$["list-table"].css({left:a=l})),a!=l&&a+o<n&&(l=n-o,l>0&&(l=0),this.$["list-table"].css({left:l})),t=null,e=null,i=null,n=null,a=null,l=null},u={on:function(t){var e=function(e){var i=e;return"changedTouches"in e.originalEvent&&(i=e.originalEvent.changedTouches[0]),t.__dx=i.clientX-t.clientX,t.__dy=i.clientY-t.clientY,t.__time=(new Date).getTime(),Math.abs(t.__dx)>Math.abs(t.__dy)?{left:t.__dx}:{top:t.__dy}},l=this.$.viewer.width();jQuery(document.body).bind(o.mousemove+".ax5media-viewer-"+this.instanceId,function(t){var o=e(t);if("left"in o){if(a.$["viewer-holder"].css(o),Math.abs(a.mousePosition.__dx)>l/3){var s=0;a.mousePosition.__dx>0?s=a.selectedIndex>0?a.selectedIndex-1:n.media.list.length-1:a.selectedIndex<n.media.list.length-1&&(s=a.selectedIndex+1),a.select(s),u.off.call(a)}i.stopEvent(t)}}).bind(o.mouseup+".ax5media-viewer-"+this.instanceId,function(t){u.off.call(a)}).bind("mouseleave.ax5media-viewer-"+this.instanceId,function(t){u.off.call(a)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(){a.$["viewer-holder"].css({left:0}),jQuery(document.body).unbind(o.mousemove+".ax5media-viewer-"+this.instanceId).unbind(o.mouseup+".ax5media-viewer-"+this.instanceId).unbind("mouseleave.ax5media-viewer-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}};this.init=function(){this.onStateChanged=n.onStateChanged,this.onClick=n.onClick,this.id="ax5-media-viewer-"+ax5.getGuid(),n.target&&n.media&&n.media.list&&n.media.list.length>0&&this.attach(n.target)},this.attach=function(t,e){return t||console.log(ax5.info.getError("ax5mediaViewer","401","setConfig")),"undefined"!=typeof e&&this.setConfig(e,!1),this.target=jQuery(t),this.target.html(s.call(this)),this.$={root:this.target.find("[data-ax5-ui-media-viewer]"),"viewer-holder":this.target.find('[data-media-viewer-els="viewer-holder"]'),viewer:this.target.find('[data-media-viewer-els="viewer"]'),"viewer-loading":this.target.find('[data-media-viewer-els="viewer-loading"]'),"list-holder":this.target.find('[data-media-viewer-els="media-list-holder"]'),"list-prev-handle":this.target.find('[data-media-viewer-els="media-list-prev-handle"]'),list:this.target.find('[data-media-viewer-els="media-list"]'),"list-table":this.target.find('[data-media-viewer-els="media-list-table"]'),"list-next-handle":this.target.find('[data-media-viewer-els="media-list-next-handle"]')},this.align(),jQuery(window).unbind("resize.ax5media-viewer-"+this.id).bind("resize.ax5media-viewer-"+this.id,function(){this.align(),c.call(this)}.bind(this)),this.target.unbind("click").bind("click",function(t){t=t||window.event,r.call(this,t),i.stopEvent(t)}.bind(this)),this.$.viewer.unbind(o.mousedown).bind(o.mousedown,function(t){this.mousePosition=l(t),u.on.call(this,this.mousePosition)}.bind(this)).unbind("dragstart").bind("dragstart",function(t){return i.stopEvent(t),!1}),this.select(d.call(this)),this},this.align=function(){if(this.$["viewer-holder"].css({height:this.$.viewer.width()/n.viewer.ratio}),this.$.viewer.css({height:this.$.viewer.width()/n.viewer.ratio}),"image"==this.$.viewer.data("media-type")){var t=this.$.viewer.find("img");t.css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()}),setTimeout(function(t){t.css({left:(this.$.viewer.width()-t.width())/2})}.bind(this,t),1)}else"video"==this.$.viewer.data("media-type")&&this.$.viewer.find("iframe").css({width:this.$.viewer.height()*this.$.viewer.data("img-ratio"),height:this.$.viewer.height()});this.$["viewer-loading"].css({height:this.$.viewer.height()});var e="%"==i.right(n.media.width,1)?i.number(n.media.width)/100*this.$.viewer.width():i.number(n.media.width),a="%"==i.right(n.media.height,1)?i.number(n.media.height)/100*this.$.viewer.width():i.number(n.media.height);return e=Math.floor(e),a=Math.floor(a),this.$["list-prev-handle"].css({width:1.5*e}),this.$["list-next-handle"].css({width:1.5*e}),this.$.list.css({height:a}),this.$["list-table"].find("[data-media-thumbnail]").css({width:e,height:a}),this.$["list-table"].find("[data-media-thumbnail-video]").css({width:e,height:a}),this},this.select=function(){var t={image:function(t,e){a.$["viewer-loading"].show();var i=[this.$.viewer.width(),this.$.viewer.height()],o=new Image;return o.src=t.image[n.columnKeys.src],o.onload=function(){a.$["viewer-loading"].fadeOut();var t=i[1],n=t*o.width/o.height;e(o,Math.floor(n),t)},o},video:function(t,e){a.$["viewer-loading"].show();var i=[this.$.viewer.width(),this.$.viewer.height()],o=jQuery(t.video[n.columnKeys.html]);e(o,i[0],i[1]),a.$["viewer-loading"].fadeOut()}},e={image:function(t,e,i){t.width=e,t.height=i;var n=$(t);this.$.viewer.html(n),n.css({left:(this.$.viewer.width()-e)/2}),this.$.viewer.data("media-type","image"),this.$.viewer.data("img-ratio",e/i)},video:function(t,e,i){t.css({width:e,height:i}),this.$.viewer.html(t),this.$.viewer.data("media-type","video"),this.$.viewer.data("img-ratio",e/i)}},i=function(t){this.$.list.find("[data-media-thumbnail]").removeClass("selected"),this.$.list.find("[data-media-thumbnail="+t+"]").addClass("selected"),c.call(this)};return function(a){if("undefined"==typeof a)return this;this.selectedIndex=Number(a);var o=n.media.list[a];i.call(this,a);for(var l in t)if(o[l]){t[l].call(this,o,e[l].bind(this));break}return this}}(),this.setMediaList=function(t){return n.media.list=[].concat(t),this.attach(n.target),this},this.main=function(){e.mediaViewer_instance=e.mediaViewer_instance||[],e.mediaViewer_instance.push(this),arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return n}()),t=ax5.ui.mediaViewer}(),function(){var t=ax5.ui.mediaViewer,e=function(t){return'\n            <div data-ax5-ui-media-viewer="{{id}}" class="{{theme}}">\n                <div data-media-viewer-els="viewer-holder">\n                <div data-media-viewer-els="viewer"></div>\n                </div>\n                <div data-media-viewer-els="viewer-loading">\n                <div class="ax5-ui-media-viewer-loading-holder">\n                <div class="ax5-ui-media-viewer-loading-cell">\n                {{{loading.icon}}}\n            {{{loading.text}}}\n            </div>\n            </div>\n            </div>\n            {{#media}}\n            <div data-media-viewer-els="media-list-holder">\n                <div data-media-viewer-els="media-list-prev-handle">{{{prevHandle}}}</div>\n            <div data-media-viewer-els="media-list">\n                <div data-media-viewer-els="media-list-table">\n                {{#list}}\n            <div data-media-viewer-els="media-list-table-td">\n                {{#image}}\n            <div data-media-thumbnail="{{@i}}">\n                <img src="{{'+t.poster+'}}" data-media-thumbnail-image="{{@i}}" />\n                </div>\n                {{/image}}\n            {{#video}}\n            <div data-media-thumbnail="{{@i}}">{{#'+t.poster+'}}<img src="{{.}}" data-media-thumbnail-video="{{@i}}" />>{{/'+t.poster+"}}{{^"+t.poster+'}}<a data-media-thumbnail-video="{{@i}}">{{{media.'+t.poster+"}}}</a>{{/"+t.poster+'}}</div>\n            {{/video}}\n            </div>\n                {{/list}}\n            </div>\n                </div>\n                <div data-media-viewer-els="media-list-next-handle">{{{nextHandle}}}</div>\n                </div>\n                {{/media}}\n            </div>\n        '};t.tmpl={frame:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"uploader",version:"1.3.82"},function(){var n=function(){var n=this,a=void 0;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",
lang:{upload:"Upload",abort:"Abort"},uploadedBox:{columnKeys:{name:"name",type:"type",size:"size",uploadedName:"uploadedName",uploadedPath:"uploadedPath",downloadPath:"downloadPath",previewPath:"previewPath",thumbnail:"thumbnail"}},animateTime:100,accept:"*/*",multiple:!1,manualUpload:!1,progressBox:!0},this.defaultBtns={upload:{label:this.config.lang.upload,theme:"btn-primary"},abort:{label:this.config.lang.abort,theme:this.config.theme}},this.uploadedFiles=[],this.$target=null,this.$inputContainer=null,this.$inputFile=null,this.$inputFileForm=null,this.$fileSelector=null,this.$dropZone=null,this.$uploadedBox=null,this.__uploading=!1,this.selectedFiles=[],this.selectedFilesTotal=0,this.__loaded=0,a=this.config;var o=function(t){return a.onStateChanged?a.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),t=null,!0}.bind(this),l=function(t){var i=void 0;return ax5.info.supportFileApi?"dataTransfer"in t?i=t.dataTransfer.files:"target"in t?i=t.target.files:t&&(i=t):i={path:t.target.value},!!i&&(length in i?this.selectedFiles=e.toArray(i):this.selectedFiles=[i],a.progressBox&&c(),a.manualUpload||this.send(),void(ax5.info.supportFileApi||r(!1)))}.bind(this),s=function(){this.$fileSelector.off("click.ax5uploader").on("click.ax5uploader",function(){this.$inputFile.trigger("click")}.bind(this)),ax5.info.supportFileApi||(this.$fileSelector.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){r(!0)}.bind(this)),this.$inputFile.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){this.$fileSelector.addClass("active")}.bind(this)),this.$inputFile.off("mouseout.ax5uploader").on("mouseout.ax5uploader",function(){this.$fileSelector.removeClass("active"),r(!1)}.bind(this))),function(){return!(!this.$uploadedBox||!this.$uploadedBox.get(0))&&(this.$uploadedBox.on("click","[data-uploaded-item-cell]",function(){var t=jQuery(this),e=t.attr("data-uploaded-item-cell"),i=Number(t.parents("[data-ax5uploader-uploaded-item]").attr("data-ax5uploader-uploaded-item")),o={};a.uploadedBox&&a.uploadedBox.onclick&&(o={self:n,cellType:e,uploadedFiles:n.uploadedFiles,fileIndex:i},a.uploadedBox.onclick.call(o,o)),t=null,e=null,i=null,o=null}),void this.$uploadedBox.on("dragstart",function(t){return e.stopEvent(t),!1}))}.call(this),function(){if(!ax5.info.supportFileApi)return!1;if(!this.$dropZone||!this.$dropZone.get(0))return!1;this.$dropZone.parent().on("click","[data-ax5uploader-dropzone]",function(t){var i=jQuery(t.target);0!=i.parents("[data-ax5uploader-uploaded-item]").length||i.attr("data-ax5uploader-uploaded-item")||(this==t.target||$.contains(this,t.target))&&(e.isFunction(a.dropZone.onclick)?a.dropZone.onclick.call({self:n}):n.$inputFile.trigger("click"))}),this.$dropZone.get(0).addEventListener("dragover",function(t){e.stopEvent(t),e.isFunction(a.dropZone.ondragover)?a.dropZone.ondragover.call({self:n}):n.$dropZone.addClass("dragover")},!1),this.$dropZone.get(0).addEventListener("dragleave",function(t){e.stopEvent(t),e.isFunction(a.dropZone.ondragover)?a.dropZone.ondragout.call({self:n}):n.$dropZone.removeClass("dragover")},!1),this.$dropZone.get(0).addEventListener("drop",function(t){e.stopEvent(t),e.isFunction(a.dropZone.ondrop)?a.dropZone.ondrop.call({self:n}):n.$dropZone.removeClass("dragover"),l(t||window.event)},!1)}.call(this)}.bind(this),r=function(t){if(t){if(!ax5.info.supportFileApi){var e=this.$fileSelector.offset();e.width=this.$fileSelector.outerWidth(),e.height=this.$fileSelector.outerHeight(),this.$inputFile.css(e)}}else this.$inputFile.css({left:-1e3,top:-1e3})}.bind(this),d=function(t){var e=function(){var e=jQuery(window),i=jQuery(document.body),n={},o=6,l={},s={},r=void 0;n=this.$progressBox.parent().get(0)==this.$target.get(0)?this.$fileSelector.position():this.$fileSelector.offset(),l={width:this.$fileSelector.outerWidth(),height:this.$fileSelector.outerHeight()},s={winWidth:Math.max(e.width(),i.width()),winHeight:Math.max(e.height(),i.height()),width:this.$progressBox.outerWidth(),height:this.$progressBox.outerHeight()},a.progressBoxDirection&&""!==a.progressBoxDirection&&"auto"!==a.progressBoxDirection?r=a.progressBoxDirection:(r="top",n.top-s.height-o<0?r="top":n.top+l.height+s.height+o>s.winHeight&&(r="bottom")),t&&this.$progressBox.addClass("direction-"+r);var d=function(){var t={left:0,top:0};switch(r){case"top":t.left=n.left+l.width/2-s.width/2,t.top=n.top+l.height+o;break;case"bottom":t.left=n.left+l.width/2-s.width/2,t.top=n.top-s.height-o;break;case"left":t.left=n.left+l.width+o,t.top=n.top-s.height/2+l.height/2;break;case"right":t.left=n.left-s.width-o,t.top=n.top-s.height/2+l.height/2}return t}();(function(){"top"!=r&&"bottom"!=r||(d.left<0?(d.left=o,this.$progressBoxArrow.css({left:n.left+l.width/2-d.left})):d.left+s.width>s.winWidth&&(d.left=s.winWidth-s.width-o,this.$progressBoxArrow.css({left:n.left+l.width/2-d.left})))}).call(this),this.$progressBox.css(d)};this.$progressBox.css({top:-999}),t&&(function(){return a.viewport?jQuery(a.viewport.selector):this.$target}.call(this).append(this.$progressBox),this.$progressBox.off("click.ax5uploader").on("click.ax5uploader","button",function(t){var e=t.target.getAttribute("data-pregressbox-btn"),i={upload:function(){this.send()},abort:function(){this.abort()}};i[e]&&i[e].call(this)}.bind(this))),setTimeout(function(){e.call(this)}.bind(this))}.bind(this),c=function(){this.$progressBox.removeClass("destroy"),this.$progressUpload.removeAttr("disabled"),this.$progressAbort.removeAttr("disabled"),d("append"),o({self:this,state:"open"})}.bind(this),u=function(){this.$progressBox.addClass("destroy"),setTimeout(function(){this.$progressBox.remove()}.bind(this),a.animateTime)}.bind(this),h=function(){var t={html5:function(){var t=this.selectedFiles.shift();if(!t)return m(),this;var i=new FormData;this.$target.find("input").each(function(){i.append(this.name,this.value)}),i.append(a.form.fileName,t),this.xhr=new XMLHttpRequest,this.xhr.open("post",a.form.action,!0),this.xhr.onload=function(t){var i=t.target.response;try{"string"==typeof i&&(i=e.parseJson(i))}catch(t){return!1}return a.debug&&console.log(i),i.error?(a.debug&&console.log(i.error),e.isFunction(a.onuploaderror)&&a.onuploaderror.call({self:this,error:i.error},i),n.send(),!1):(f(i),void n.send())},this.xhr.upload.onprogress=function(t){p(t),e.isFunction(a.onprogress)&&a.onprogress.call({loaded:t.loaded,total:t.total},t)},this.xhr.send(i)},form:function(){this.__uploading=!0;var t=jQuery('<iframe src="javascript:false;" name="ax5uploader-'+this.instanceId+'-iframe" style="display:none;"></iframe>');jQuery(document.body).append(t),t.load(function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,i=e.documentElement?e.documentElement:e.body,n=i.textContent?i.textContent:i.innerText,o=void 0;try{o=JSON.parse(n)}catch(l){o={error:"Syntax error",body:n}}a.debug&&console.log(o),o.error?console.log(o):(f(o),t.remove(),setTimeout(function(){m()},300))}),this.$inputFileForm.attr("target","ax5uploader-"+this.instanceId+"-iframe").attr("action",a.form.action).submit(),this.selectedFilesTotal=1,p({loaded:1,total:1})}};if(this.__uploading===!1){var i=0;this.selectedFiles.forEach(function(t){i+=t.size}),this.selectedFilesTotal=i,this.__loaded=0,this.__uploading=!0,this.$progressUpload.attr("disabled","disabled"),this.$progressAbort.removeAttr("disabled")}t[ax5.info.supportFileApi?"html5":"form"].call(this)}.bind(this),p=function(t){this.__loaded+=t.loaded,this.$progressBar.css({width:e.number(this.__loaded/this.selectedFilesTotal*100,{round:2})+"%"}),t.lengthComputable&&t.loaded>=t.total}.bind(this),f=function(t){a.debug&&console.log(t),this.uploadedFiles.push(t),v(),e.isFunction(a.onuploaded)&&a.onuploaded.call({self:this},t)}.bind(this),m=function(){this.__uploading=!1,this.$progressUpload.removeAttr("disabled"),this.$progressAbort.attr("disabled","disabled"),a.progressBox&&u(),e.isFunction(a.onuploadComplete)&&a.onuploadComplete.call({self:this}),x()}.bind(this),g=function(){var t={html5:function(){this.xhr&&this.xhr.abort()},form:function(){}};this.__uploading=!1,this.$progressUpload.removeAttr("disabled"),this.$progressAbort.attr("disabled","disabled"),t[ax5.info.supportFileApi?"html5":"form"].call(this),a.progressBox&&u(),x(),a.debug&&console.log("cancelUpload")}.bind(this),v=function(){return null===this.$uploadedBox?this:(this.$uploadedBox.html(i.tmpl.get("upoadedBox",{uploadedFiles:this.uploadedFiles,icon:a.uploadedBox.icon,lang:a.uploadedBox.lang,supportFileApi:!!ax5.info.supportFileApi},a.uploadedBox.columnKeys)),void this.$uploadedBox.find("img").on("error",function(){$(this).parent().addClass("no-image")}))}.bind(this),x=function(){this.$inputFile&&this.$inputFile.get(0)&&this.$inputFile.remove(),this.$inputFileForm&&this.$inputFileForm.get(0)&&this.$inputFileForm.remove(),this.$inputFile=jQuery(i.tmpl.get.call(this,"inputFile",{instanceId:this.instanceId,multiple:a.multiple,accept:a.accept,name:a.form.fileName})),ax5.info.supportFileApi?jQuery(document.body).append(this.$inputFile):(this.$fileSelector.attr("tabindex",-1),this.$inputFileForm=jQuery(i.tmpl.get.call(this,"inputFileForm",{instanceId:this.instanceId})),this.$inputFileForm.append(this.$inputFile),jQuery(document.body).append(this.$inputFileForm)),this.$inputFile.off("change.ax5uploader").on("change.ax5uploader",function(t){l(t)}.bind(this))}.bind(this);this.init=function(t){return a=jQuery.extend(!0,{},a,t),a.target?(this.$target=jQuery(a.target),a.dropZone&&a.dropZone.target&&ax5.info.supportFileApi&&(this.$dropZone=jQuery(a.dropZone.target),this.$dropZone.attr("data-ax5uploader-dropzone",this.instanceId)),a.uploadedBox&&a.uploadedBox.target&&(this.$uploadedBox=jQuery(a.uploadedBox.target)),function(t){e.isObject(t)&&!t.error&&(a=jQuery.extend(!0,a,t))}.call(this,e.parseJson(this.$target.attr("data-ax5uploader-config"),!0)),this.$fileSelector=this.$target.find('[data-ax5uploader-button="selector"]'),0===this.$fileSelector.length?(console.log(ax5.info.getError("ax5uploader","402","can not find file selector")),this):(x(),a.btns=jQuery.extend({},this.defaultBtns,a.btns),this.$progressBox=jQuery(i.tmpl.get.call(this,"progressBox",{instanceId:this.instanceId,btns:a.btns})),this.$progressBar=this.$progressBox.find('[role="progressbar"]'),this.$progressBoxArrow=this.$progressBox.find(".ax-progressbox-arrow"),this.$progressUpload=this.$progressBox.find('[data-pregressbox-btn="upload"]'),this.$progressAbort=this.$progressBox.find('[data-pregressbox-btn="abort"]'),ax5.info.supportFileApi||this.$progressAbort.hide(),s(),v(),this)):(console.log(ax5.info.getError("ax5uploader","401","init")),this)},this.send=function(){return function(){if(e.isFunction(a.validateSelectedFiles)){var t={self:this,uploadedFiles:this.uploadedFiles,selectedFiles:this.selectedFiles};if(!a.validateSelectedFiles.call(t,t))return g(),!1}return h(),this}}(),this.abort=function(){return function(){return ax5.info.supportFileApi?(g(),this):(alert("This browser not supported abort method"),this)}}(),this.setUploadedFiles=function(t){if(e.isArray(t)&&(this.uploadedFiles=t),e.isString(t))try{this.uploadedFiles=JSON.parse(t)}catch(i){}return v(),this},this.removeFile=function(t){return isNaN(Number(t))||this.uploadedFiles.splice(t,1),v(),this},this.removeFileAll=function(){return this.uploadedFiles=[],v(),this},this.selectFile=function(){return!!ax5.info.supportFileApi&&(this.$inputFile.trigger("click"),!0)},this.main=function(){t.uploader_instance=t.uploader_instance||[],t.uploader_instance.push(this),arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return n}()),i=ax5.ui.uploader}(),function(){var t=ax5.ui.uploader,e=function(t){return"\n        "},i=function(t){return'<input type="file" data-ax5uploader-input="{{instanceId}}" name="{{name}}" {{#multiple}}multiple{{/multiple}} accept="{{accept}}" />'},n=function(t){return'<form data-ax5uploader-form="{{instanceId}}" name="ax5uploader-{{instanceId}}-form" method="post" enctype="multipart/form-data"></form>'},a=function(t){return'\n<div data-ax5uploader-progressbox="{{instanceId}}" class="{{theme}}">\n    <div class="ax-progressbox-body">\n        <div class="ax-pregressbox-content">\n            <div class="progress">\n              <div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 0">\n                <span class="sr-only">0% Complete</span>\n              </div>\n            </div>\n        </div>\n        {{#btns}}\n            <div class="ax-progressbox-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-pregressbox-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-progressbox-arrow"></div>\n</div>\n'},o=function(t){return'\n{{#uploadedFiles}}<div data-ax5uploader-uploaded-item="{{@i}}">\n    <div class="uploaded-item-preview">\n        {{#'+t.thumbnail+'}}<img src="'+t.apiServerUrl+"{{"+t.thumbnail+'}}">{{/'+t.thumbnail+'}}\n    </div>\n    <div class="uploaded-item-holder">\n        <div class="uploaded-item-cell" data-uploaded-item-cell="download">{{{icon.download}}}</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="filename">{{'+t.name+'}}</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="filesize">({{#@fn_get_byte}}{{'+t.size+'}}{{/@fn_get_byte}})</div>\n        <div class="uploaded-item-cell" data-uploaded-item-cell="delete">{{{icon.delete}}}</div>\n    </div>\n</div>{{/uploadedFiles}}\n{{^uploadedFiles}}\n{{#supportFileApi}}{{{lang.supportedHTML5_emptyListMsg}}}{{/supportFileApi}}\n{{^supportFileApi}}{{{lang.emptyListMsg}}}{{/supportFileApi}}\n{{/uploadedFiles}}\n'};t.tmpl={uploadProgress:e,inputFile:i,inputFileForm:n,progressBox:a,upoadedBox:o,get:function(e,i,n){return i["@fn_get_byte"]=function(){return function(t,e){return ax5.util.number(e(t),{round:2,"byte":!0})}},ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"combobox",version:"1.3.82"},function(){var e=function(){var e,n=this;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"now loading.."},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var a=jQuery(window),o=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},l=function(){for(var t,e=this.queue.length;e--;){var n=this.queue[e];if(n.$display&&(t=Math.max(n.$select.outerWidth(),i.number(n.minWidth)),n.$display.css({"min-width":t}),n.reset&&n.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),n.multiple)){var a=function(){return i.number(n.$display.css("border-top-width"))+i.number(n.$display.css("border-bottom-width"))}.call(this);n.$target.height(""),n.$display.height("");var o=n.$displayTable.outerHeight();Math.abs(o-n.$target.height())>a&&(n.$target.css({height:o+a+4}),n.$display.css({height:o+a+4}))}}return e=null,t=null,this},s=function(t){if(!this.activecomboboxOptionGroup)return this;var e,i=this.queue[this.activecomboboxQueueIndex],n={},o=0,l={},s={};t&&jQuery(document.body).append(this.activecomboboxOptionGroup),n=i.$target.offset(),l={width:i.$target.outerWidth(),height:i.$target.outerHeight()},s={winWidth:Math.max(a.width(),jQuery(document.body).width()),winHeight:Math.max(a.height(),jQuery(document.body).height()),width:this.activecomboboxOptionGroup.outerWidth(),height:this.activecomboboxOptionGroup.outerHeight()},i.direction&&""!==i.direction&&"auto"!==i.direction?e=i.direction:(e="top",n.top-s.height-o<0?e="top":n.top+l.height+s.height+o>s.winHeight&&(e="bottom")),t&&this.activecomboboxOptionGroup.addClass("direction-"+e),this.activecomboboxOptionGroup.css(function(){if("top"==e){if(n.top+l.height+s.height+o>s.winHeight){var t=n.top+l.height/2-s.height/2;return t+s.height+o>s.winHeight&&(t=0),t<0&&(t=0),{left:n.left,top:t,width:l.width}}return{left:n.left,top:n.top+l.height+1,width:l.width}}if("bottom"==e)return{left:n.left,top:n.top-s.height-1,width:l.width}}.call(this))},r=function(t,e){if(!this.activecomboboxOptionGroup)return this;var n=this.queue[this.activecomboboxQueueIndex],a="display";return(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")?(a="optionItem",!0):n.$target.get(0)==t?(a="display",!0):void 0}))?("optionItem"===a&&(_.call(this,n.id,{index:{gindex:e.getAttribute("data-option-group-index"),index:e.getAttribute("data-option-index")}},void 0,!0),l.call(this),s.call(this),n.multiple||this.close()),this):(this.close(),this)},d=function(e){var i=this.queue[e],n={};return n.id=i.id,n.theme=i.theme,n.size="ax5combobox-option-group-"+i.size,n.multiple=i.multiple,n.lang=i.lang,n.options=i.options,n.selected=i.selected,n.hasSelected=n.selected&&n.selected.length>0,n.removeIcon=i.removeIcon,t.tmpl.get.call(this,"label",n,i.columnKeys)},c=function(t){var e=this.queue[t];e.$displayLabel.find("[data-ax5combobox-selected-label]").remove(),e.$displayLabelInput.before(d.call(this,t))},u=function(t){return this.queue[t].disabled?this:(this.queue[t].$displayLabel.trigger("focus"),void this.queue[t].$displayLabelInput.focus())},h=function(t){this.queue[t].$displayLabelInput.val("")},p=function(t){this.queue[t].$displayLabel.trigger("blur"),this.queue[t].$displayLabelInput.trigger("blur")},f=function(e,n){this.queue[e].waitOptions=!0,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"option",this.queue[e],this.queue[e].columnKeys))),this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:n},function(e){var n={},a=this.queue[this.activecomboboxQueueIndex];return!!a&&(function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(a,e),a.options=x.call(this,this.activecomboboxQueueIndex,e.options),l.call(this),n.id=a.id,n.theme=a.theme,n.size="ax5combobox-option-group-"+a.size,n.multiple=a.multiple,n.lang=a.lang,n.options=a.options,void this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",n,a.columnKeys))))}.bind(this))},m=function(t,e){if(this.activecomboboxQueueIndex==-1)return this;var i,n=[],a=-1,o=this.queue[t].indexedOptions.length-1;if(""!=e){var l=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;if(e=e.replace(l,""),this.queue[t].onSearch){f.call(this,t,e);try{return n}finally{n=null,a=null,o=null,i=null}}for(;o-a++;){if(i=this.queue[t].indexedOptions[a],(""+i.text).toLowerCase()==e.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var s=(""+i.text).toLowerCase().search(e.toLowerCase());if(s>-1&&(n.push({"@findex":i["@findex"],optionsSort:s}),n.length>2))break;s=null}n.sort(function(t,e){return t.optionsSort-e.optionsSort})}n&&n.length>0?v.call(this,t,void 0,n[0]["@findex"]):g.call(this,t);try{return n}finally{n=null,a=null,o=null,i=null}},g=function(t){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[t].optionFocusIndex=-1},v=function(t,e,i){var n,a,o,l,s=this.queue[t];if(this.activecomboboxOptionGroup&&s.options&&s.options.length>0){if("undefined"!=typeof i?n=i:(a=s.optionFocusIndex==-1?s.optionSelectedIndex||-1:s.optionFocusIndex,a==-1?n=0:(n=a+e,n<0?n=0:n>s.optionItemLength-1&&(n=s.optionItemLength-1))),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if("undefined"==typeof e)return this;for(;s.options[n].hide;){if(n+=e,n<0){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}if("undefined"!=typeof n&&(this.activecomboboxOptionGroup.find("[data-option-focus-index]").removeClass("hover"),o=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activecomboboxOptionGroup.find('[data-els="content"]'),o.get(0))){var r=o.outerHeight(),d=l.innerHeight(),c=l.scrollTop(),u=o.position().top+l.scrollTop();d+c<u+r?l.scrollTop(u+r-d):c>u&&l.scrollTop(u),"undefined"!=typeof e&&s.$displayLabelInput.val(s.options[n].text)}}},x=function(){var t=function(t,e){e?this.queue[t].selected.push(jQuery.extend({},e)):this.queue[t].selected=[]};return function(e,a){var o,l,s,r=this.queue[e],d=0;return t.call(this,e,!1),a?(r.options=a,r.indexedOptions=[],o=[],o.push('<option value=""></option>'),r.options.forEach(function(i,a){i.optgroup?(i["@gindex"]=a,i.options.forEach(function(i,l){i["@index"]=l,i["@findex"]=d,o.push('<option value="'+i[r.columnKeys.optionValue]+'" '+(i[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+i[r.columnKeys.optionText]+"</option>"),i[r.columnKeys.optionSelected]&&t.call(n,e,i),r.indexedOptions.push({"@gindex":a,"@index":l,"@findex":d,value:i[r.columnKeys.optionValue],text:i[r.columnKeys.optionText]}),d++})):(i["@index"]=a,i["@findex"]=d,o.push('<option value="'+i[r.columnKeys.optionValue]+'" '+(i[r.columnKeys.optionSelected]?' selected="selected"':"")+">"+i[r.columnKeys.optionText]+"</option>"),i[r.columnKeys.optionSelected]&&t.call(n,e,i),r.indexedOptions.push({"@index":a,"@findex":d,value:i[r.columnKeys.optionValue],text:i[r.columnKeys.optionText]}),d++)}),r.optionItemLength=d,r.$select.html(o.join(""))):(r.$select.get(0).options&&r.$select.get(0).options.length&&(r.$select.get(0).options[0].selected=!1),l=i.toArray(r.$select.get(0).options),s=[],l.forEach(function(i,a){var o={};o[r.columnKeys.optionValue]=i.value,o[r.columnKeys.optionText]=i.text,o[r.columnKeys.optionSelected]=i.selected,o["@index"]=a,o["@findex"]=d,i.selected&&t.call(n,e,o),s.push(o),d++,o=null}),r.options=s,r.indexedOptions=s,r.$select.prepend('<option value=""></option>'),r.$select.get(0).options[0].selected=!0),o=null,l=null,s=null,r.options}}(),b=function(t){return t instanceof jQuery?t=t.data("data-ax5combobox-id"):i.isString(t)||(t=jQuery(t).data("data-ax5combobox-id")),i.isString(t)?i.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5combobox","402","getQueIdx"))},y=function(t,e,i){return"undefined"==typeof i?!t.multiple||!e:i},w=function(t){this.queue[t].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1})},_=function(){var t={index:function(t,e,a,o){var l=this.queue[t];i.isString(e.index.gindex)?"undefined"!=typeof l.options[e.index.gindex]&&(l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected]=y(l,l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected],a),n.activecomboboxOptionGroup&&n.activecomboboxOptionGroup.find('[data-option-group-index="'+e.index.gindex+'"][data-option-index="'+e.index.index+'"]').attr("data-option-Selected",l.options[e.index.gindex].options[e.index.index][l.columnKeys.optionSelected].toString())):"undefined"!=typeof l.options[e.index.index]&&(l.options[e.index.index][l.columnKeys.optionSelected]=y(l,l.options[e.index.index][l.columnKeys.optionSelected],a),n.activecomboboxOptionGroup&&n.activecomboboxOptionGroup.find('[data-option-index="'+e.index.index+'"]').attr("data-option-Selected",l.options[e.index.index][l.columnKeys.optionSelected].toString())),"undefined"!=typeof o&&"justSetValue"===o||(x.call(this,t,l.options),s.call(this))},arr:function(e,a,o,l){a.forEach(function(a){if(i.isString(a)||i.isNumber(a))t.text.call(n,e,a,o,"justSetValue");else for(var l in t)if(a[l]){t[l].call(n,e,a,o,"justSetValue");break}}),x.call(this,e,this.queue[e].options),s.call(this)},value:function(t,e,n,a){var o,l=this.queue[t],r=i.search(l.options,function(){return this[l.columnKeys.optionValue]==e[l.columnKeys.optionValue]});r>-1?l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n):(r=l.options.length,o={"@index":r,hide:!0,addedOption:!0},o[l.columnKeys.optionValue]=e,o[l.columnKeys.optionText]=e,l.options.push(o),l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n)),"undefined"!=typeof a&&"justSetValue"===a||(x.call(this,t,this.queue[t].options),s.call(this))},text:function(t,e,n,a){var o,l=this.queue[t],r=i.search(l.options,function(){return this[l.columnKeys.optionText]==e});r>-1?l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n):(r=l.options.length,o={"@index":r,hide:!0,addedOption:!0},o[l.columnKeys.optionValue]=e,o[l.columnKeys.optionText]=e,l.options.push(o),l.options[r][l.columnKeys.optionSelected]=y(l,l.options[r][l.columnKeys.optionSelected],n)),"undefined"!=typeof a&&"justSetValue"===a||(x.call(this,t,this.queue[t].options),s.call(this))},clear:function(t){w.call(this,t),x.call(this,t,this.queue[t].options),g.call(this,t),this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[t].optionSelectedIndex=-1}};return function(e,n,a,l){var s=i.isNumber(e)?e:b.call(this,e);if(s===-1)return void console.log(ax5.info.getError("ax5combobox","402","val"));if("undefined"==typeof n)throw"error not found value";if(i.isArray(n))t.clear.call(this,s),t.arr.call(this,s,this.queue[s].multiple||0==n.length?n:[n[n.length-1]],a);else if(i.isString(n)||i.isNumber(n))"undefined"==typeof n||null===n||this.queue[s].multiple||w.call(this,s),t.text.call(this,s,n,a,"justSetValue");else if(null===n)t.clear.call(this,s);else{this.queue[s].multiple||w.call(this,s);for(var r in t)if(n[r]){t[r].call(this,s,n,a,"justSetValue");break}}return x.call(this,s,this.queue[s].options),c.call(this,s),u.call(this,s),"undefined"!=typeof n&&l&&!l.noStateChange&&o.call(this,this.queue[s],{self:this,item:this.queue[s],state:"changeValue",value:this.queue[s].selected}),e=null,this}}();this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5combobox-display-"+this.instanceId,function(){l.call(this)}.bind(this))},this.bind=function(a){var o,r=function(){var e=i.debounce(function(t){return this.activecomboboxQueueIndex==-1?this:void m.call(n,t,this.queue[t].$displayLabelInput.val())},150),o=function(t){h.call(this,t)},r={click:function(t,e){var a,o=i.findParentNode(e.target,function(t){return t.getAttribute("data-ax5combobox-remove")?(a="optionItemRemove",!0):t.getAttribute("data-selected-clear")?(a="clear",!0):void 0});if(o){if("optionItemRemove"===a){var r=o.getAttribute("data-ax5combobox-remove-index"),d=this.queue[t].selected[r];return _.call(this,t,{index:{gindex:d["@gindex"],index:d["@index"]}},!1,!0),l.call(this),s.call(this),u.call(this,t),i.stopEvent(e),this}"clear"===a&&(_.call(this,t,{clear:!0}),l.call(this),s.call(this),u.call(this,t))}else n.activecomboboxQueueIndex==t?this.queue[t].optionFocusIndex==-1&&n.close():(n.open(t),u.call(this,t))},keyUp:function(t,a){if(a.which==ax5.info.eventKeys.ESC&&n.activecomboboxQueueIndex===-1)return i.stopEvent(a),this;n.activecomboboxQueueIndex!=t&&(n.open(t),i.stopEvent(a));var o={40:"KEY_DOWN",38:"KEY_UP"};if(!o[a.which])if(a.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[t].$displayLabelInput.val()){if(this.queue[t].selected.length>0){var r=this.queue[t].selected[this.queue[t].selected.length-1];_.call(this,t,{index:{gindex:r["@gindex"],index:r["@index"]}},!1,!0)}l.call(this),s.call(this),i.stopEvent(a)}else e.call(this,t)},keyDown:function(t,e){e.which==ax5.info.eventKeys.ESC?(h.call(this,t),this.close(),i.stopEvent(e)):e.which==ax5.info.eventKeys.RETURN?(_.call(this,a.id,{index:{gindex:a.indexedOptions[a.optionFocusIndex]["@gindex"],index:a.indexedOptions[a.optionFocusIndex]["@index"]}},void 0,!0),h.call(this,t),l.call(this),this.close(),i.stopEvent(e)):e.which==ax5.info.eventKeys.DOWN?(v.call(this,t,1),i.stopEvent(e)):e.which==ax5.info.eventKeys.UP&&(v.call(this,t,-1),i.stopEvent(e))},focus:function(t,e){},blur:function(t,e){o.call(this,t),i.stopEvent(e)},selectChange:function(t,e){_.call(this,t,{value:this.queue[t].$select.val()},!0)}};return function(e){var i=this.queue[e],n={};return i.selected=[],i.$display?(i.$displayLabel.html(d.call(this,e)),i.options=x.call(this,e,i.options)):(n.instanceId=this.instanceId,n.id=i.id,n.name=i.name,n.theme=i.theme,n.tabIndex=i.tabIndex,n.multiple=i.multiple,n.reset=i.reset,n.label=d.call(this,e),n.formSize=function(){return i.size?"input-"+i.size:""}(),i.$display=jQuery(t.tmpl.get.call(this,"comboboxDisplay",n,i.columnKeys)),i.$displayTable=i.$display.find('[data-els="display-table"]'),i.$displayLabel=i.$display.find('[data-ax5combobox-display="label"]'),i.$displayLabelInput=i.$display.find('[data-ax5combobox-display="input"]'),i.$target.find("select").get(0)?(i.$select=i.$target.find("select"),i.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&i.$select.attr("name","name"),n.multiple&&i.$select.attr("multiple","multiple")):(i.$select=jQuery(t.tmpl.get.call(this,"formSelect",n,i.columnKeys)),i.$target.append(i.$select)),i.$target.append(i.$display),i.options=x.call(this,e,i.options)),l.call(this),i.$display.unbind("click.ax5combobox").bind("click.ax5combobox",r.click.bind(this,e)),i.$displayLabelInput.unbind("focus.ax5combobox").bind("focus.ax5combobox",r.focus.bind(this,e)).unbind("blur.ax5combobox").bind("blur.ax5combobox",r.blur.bind(this,e)).unbind("keyup.ax5combobox").bind("keyup.ax5combobox",r.keyUp.bind(this,e)).unbind("keydown.ax5combobox").bind("keydown.ax5combobox",r.keyDown.bind(this,e)),i.$select.unbind("change.ax5combobox").bind("change.ax5combobox",r.selectChange.bind(this,e)),n=null,i=null,e=null,this}}(),c={};return a=jQuery.extend(!0,c,e,a),a.target?(a.$target=jQuery(a.target),a.id||(a.id=a.$target.data("data-ax5combobox-id")),a.id||(a.id="ax5combobox-"+ax5.getGuid(),a.$target.data("data-ax5combobox-id",a.id)),a.name=a.$target.attr("data-ax5combobox"),a.options&&(a.options=JSON.parse(JSON.stringify(a.options))),function(t){i.isObject(t)&&!t.error&&(a=jQuery.extend(!0,a,t))}(i.parseJson(a.$target.attr("data-ax5combobox-config"),!0)),o=i.search(this.queue,function(){return this.id==a.id}),o===-1?(this.queue.push(a),r.call(this,this.queue.length-1)):(this.queue[o]=jQuery.extend(!0,{},this.queue[o],a),r.call(this,o)),c=null,o=null,this):(console.log(ax5.info.getError("ax5combobox","401","bind")),this)},this.open=function(){var n=function(e){e.onExpand.call({self:this,item:e},function(e){if(this.waitOptionsCallback){var n={},a=this.queue[this.activecomboboxQueueIndex];!function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(a,e),a.options=x.call(this,this.activecomboboxQueueIndex,e.options),c.call(this,this.activecomboboxQueueIndex),l.call(this),n.id=a.id,n.theme=a.theme,n.size="ax5combobox-option-group-"+a.size,n.multiple=a.multiple,n.lang=a.lang,n.options=a.options,this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",n,a.columnKeys)))}}.bind(this))};return function(a,l){this.waitOptionsCallback=null;var d,c,u=i.isNumber(a)?a:b.call(this,a),h=this.queue[u],p={};return h.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activecomboboxOptionGroup?this.activecomboboxQueueIndex==u?this:l>2?this:(this.close(),this.openTimer=setTimeout(function(){
this.open(u,(l||0)+1)}.bind(this),e.animateTime),this):(h.optionFocusIndex=-1,h.selected&&h.selected.length>0&&(h.optionSelectedIndex=h.selected[0]["@findex"]),p.id=h.id,p.theme=h.theme,p.size="ax5combobox-option-group-"+h.size,p.multiple=h.multiple,p.lang=h.lang,h.$display.attr("data-combobox-option-group-opened","true"),h.onExpand&&(p.waitOptions=!0),p.options=i.filter(h.options,function(){return!this.hide}),this.activecomboboxOptionGroup=jQuery(t.tmpl.get.call(this,"optionGroup",p,h.columnKeys)),this.activecomboboxOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",p,h.columnKeys))),this.activecomboboxQueueIndex=u,s.call(this,"append"),jQuery(window).bind("resize.ax5combobox-"+this.instanceId,function(){s.call(this)}.bind(this)),h.selected&&h.selected.length>0&&(c=this.activecomboboxOptionGroup.find('[data-option-index="'+h.selected[0]["@index"]+'"]'),c.get(0)&&(d=c.position().top-this.activecomboboxOptionGroup.height()/3,this.activecomboboxOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:d},h.animateTime,"swing",function(){}))),jQuery(window).bind("click.ax5combobox-"+this.instanceId,function(t){t=t||window.event,r.call(this,t),i.stopEvent(t)}.bind(this)),o.call(this,h,{self:this,state:"open",item:h}),h.onExpand&&(this.waitOptionsCallback=!0,n.call(this,h)),p=null,d=null,c=null,this))}}(),this.update=function(t){return this.bind(t),this},this.setValue=function(t,e,n){var a=i.isNumber(t)?t:b.call(this,t);if(a===-1)return void console.log(ax5.info.getError("ax5combobox","402","val"));if(w.call(this,a),i.isArray(e)){var o=i.map(e,function(){return{value:this}});_.call(this,a,o,n||!0,{noStateChange:!0})}else i.isString(e)||i.isNumber(e)?_.call(this,a,{value:e},n||!0,{noStateChange:!0}):c.call(this,a);return p.call(this,a),l.call(this),this},this.setText=function(t,e,n){var a=i.isNumber(t)?t:b.call(this,t);return a===-1?void console.log(ax5.info.getError("ax5combobox","402","val")):(w.call(this,a),_.call(this,a,e,!0,{noStateChange:!0}),p.call(this,a),l.call(this),this)},this.getSelectedOption=function(t){var e=i.isNumber(t)?t:b.call(this,t);return e===-1?void console.log(ax5.info.getError("ax5combobox","402","val")):i.deepCopy(this.queue[e].selected)},this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activecomboboxOptionGroup?(t=this.queue[this.activecomboboxQueueIndex],t.optionFocusIndex=-1,t.$display.removeAttr("data-combobox-option-group-opened").trigger("focus"),t.$displayLabel.attr("contentEditable","false"),this.activecomboboxOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5combobox-"+this.instanceId).unbind("click.ax5combobox-"+this.instanceId).unbind("keyup.ax5combobox-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activecomboboxOptionGroup&&this.activecomboboxOptionGroup.remove(),this.activecomboboxOptionGroup=null,this.activecomboboxQueueIndex=-1,o.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.blur=function(t){var e=i.isNumber(t)?t:b.call(this,t);return e===-1?void console.log(ax5.info.getError("ax5combobox","402","val")):(p.call(this,e),this)},this.enable=function(t){var e=b.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disabled=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),o.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(t){var e=b.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disabled=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),o.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return l.call(this),this},this.main=function(){arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}()),t=ax5.ui.combobox}(),ax5.ui.combobox_instance=new ax5.ui.combobox,jQuery.fn.ax5combobox=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.combobox_instance.open(this);case"close":return ax5.ui.combobox_instance.close(this);case"setValue":return ax5.ui.combobox_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.combobox_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.combobox_instance.getSelectedOption(this);case"enable":return ax5.ui.combobox_instance.enable(this);case"disable":return ax5.ui.combobox_instance.disable(this);case"blur":return ax5.ui.combobox_instance.blur(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.combobox_instance.bind(t)});return this}}(),function(){var t=ax5.ui.combobox,e=(ax5.util,function(t){return'\n            <div class="ax5combobox-option-group {{theme}} {{size}}" data-ax5combobox-option-group="{{id}}">\n                <div class="ax-combobox-body">\n                    <div class="ax-combobox-option-group-content" data-els="content"></div>\n                </div>\n                <div class="ax-combobox-arrow"></div> \n            </div>\n        '}),i=function(t){return'\n<div class="form-control {{formSize}} ax5combobox-display {{theme}}" \ndata-ax5combobox-display="{{id}}" data-ax5combobox-instance="{{instanceId}}">\n    <div class="ax5combobox-display-table" data-els="display-table">\n        <div data-ax5combobox-display="label-holder"> \n            <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n            data-ax5combobox-display="label"\n            spellcheck="false"><input type="text"data-ax5combobox-display="input" style="border:0 none;" /></a>\n        </div>\n        <div data-ax5combobox-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n            {{#icons}}\n            <span class="addon-icon-closed">{{clesed}}</span>\n            <span class="addon-icon-opened">{{opened}}</span>\n            {{/icons}}\n            {{^icons}}\n            <span class="addon-icon-closed"><span class="addon-icon-arrow"></span></span>\n            <span class="addon-icon-opened"><span class="addon-icon-arrow"></span></span>\n            {{/icons}}\n        </div>\n    </div>\n</div>\n        '},n=function(t){return'\n            <select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" {{#multiple}}multiple="multiple"{{/multiple}}></select>\n        '},a=function(t){return'\n{{#selected}}\n<option value="{{'+t.optionValue+'}}" selected="true">{{'+t.optionText+"}}</option>\n{{/selected}}\n"},o=function(t){return'\n            {{#waitOptions}}\n                <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.loading}}}\n                            </span>\n                        </div>\n                    </div>\n            {{/waitOptions}}\n            {{^waitOptions}}\n                {{#options}}\n                    {{#optgroup}}\n                        <div class="ax-combobox-option-group">\n                            <div class="ax-combobox-option-item-holder">\n                                <span class="ax-combobox-option-group-label">\n                                    {{{.}}}\n                                </span>\n                            </div>\n                            {{#options}}\n                            {{^hide}}\n                            <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-group-index="{{@gindex}}" data-option-index="{{@index}}" \n                            data-option-value="{{'+t.optionValue+'}}" \n                            {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                                <div class="ax-combobox-option-item-holder">\n                                    {{#multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                        <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                                    </span>\n                                    {{/multiple}}\n                                    <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+t.optionText+'}}</span>\n                                </div>\n                            </div>\n                            {{/hide}}\n                            {{/options}}\n                        </div>                            \n                    {{/optgroup}}\n                    {{^optgroup}}\n                    {{^hide}}\n                    <div class="ax-combobox-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n                        <div class="ax-combobox-option-item-holder">\n                            {{#multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-checkbox">\n                                <span class="item-checkbox-wrap useCheckBox" data-option-checkbox-index="{{@i}}"></span>\n                            </span>\n                            {{/multiple}}\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">{{'+t.optionText+'}}</span>\n                        </div>\n                    </div>\n                    {{/hide}}\n                    {{/optgroup}}\n                {{/options}}\n                {{^options}}\n                    <div class="ax-combobox-option-item">\n                        <div class="ax-combobox-option-item-holder">\n                            <span class="ax-combobox-option-item-cell ax-combobox-option-item-label">\n                                {{{lang.noOptions}}}\n                            </span>\n                        </div>\n                    </div>\n                {{/options}}\n            {{/waitOptions}}\n        '},l=function(t){return'{{#selected}}<div tabindex="-1" data-ax5combobox-selected-label="{{@i}}" data-ax5combobox-selected-text="{{text}}"><div data-ax5combobox-remove="true" \ndata-ax5combobox-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{text}}</span></div>{{/selected}}'};t.tmpl={comboboxDisplay:i,formSelect:n,formSelectOptions:a,optionGroup:e,options:o,label:l,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui.combobox,e=(ax5.util,{1:function(t,e,i){var n=this.config,a=e;$(e).find("span").get(0)&&(a=$(e).find("span").get(0));var o,l,s=(a.textContent||a.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,""),r=this.queue[t];if(r.selected&&r.selected.length>0&&e.getAttribute("data-ax5combobox-selected-text")==s)return o=e.getAttribute("data-ax5combobox-selected-label"),l=r.selected[o],{index:{gindex:l["@gindex"],index:l["@index"],value:l[n.columnKeys.optionValue]}};if(e.getAttribute("data-ax5combobox-selected-text"))return s;if(""!=s){if(i)return s;var d;return r.optionFocusIndex>-1&&(d=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+r.optionFocusIndex+'"]')),r.optionFocusIndex>-1&&d.get(0)&&d.attr("data-option-value")?{index:{gindex:d.attr("data-option-group-index"),index:d.attr("data-option-index")}}:r.editable?s:void 0}},3:function(t,e,i){var n=(this.config,(e.textContent||e.innerText).replace(/^[\s\r\n\t]*|[\s\r\n\t]*$/g,"")),a=this.queue[t];if(""!=n){if(i)return n;var o;return a.optionFocusIndex>-1&&(o=this.activecomboboxOptionGroup.find('[data-option-focus-index="'+a.optionFocusIndex+'"]')),a.optionFocusIndex>-1&&o.get(0)&&o.attr("data-option-value")?{index:{gindex:o.attr("data-option-group-index"),index:o.attr("data-option-index")}}:a.editable?n:void 0}}});t.util={nodeTypeProcessor:e}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"layout",version:"1.3.82"},function(){var t=function(){var t,i=this,n={mousedown:ax5.info.supportTouch?"touchstart":"mousedown",mousemove:ax5.info.supportTouch?"touchmove":"mousemove",mouseup:ax5.info.supportTouch?"touchend":"mouseup"},a=function(t){var e="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;return{clientX:e.clientX,clientY:e.clientY}};this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,splitter:{size:4},autoResize:!0},this.queue=[],this.openTimer=null,this.closeTimer=null,this.resizer=null,t=this.config;var o=function(){for(var t=this.queue.length;t--;)"undefined"==typeof this.queue[t].parentQueIdx&&this.queue[t].autoResize&&r.call(this,t,null,"windowResize")},l={width:function(t,e){return e?e.__width+(e.split?t.splitter.size:0):0},height:function(t,e){return e?e.__height+(e.split?t.splitter.size:0):0}},s=function(t,i){return"*"==t?void 0:"%"==e.right(t,1)?i*e.number(t)/100:Number(t)},r=function(){var t={split:{horizontal:function(t,e,i){e.splitter?e.__height=t.splitter.size:i==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(e.height="*",e.__height=void 0,t.splitPanel.asteriskLength++):"*"==e.height&&t.splitPanel.asteriskLength++},vertical:function(t,e,i){e.splitter?e.__width=t.splitter.size:i==t.splitPanel.length-1&&0==t.splitPanel.asteriskLength?(e.width="*",e.__width=void 0,t.splitPanel.asteriskLength++):"*"==e.width&&t.splitPanel.asteriskLength++}}},i={top:function(t,e){e.$target.css({height:e.__height||0}),e.split&&e.$splitter.css({height:t.splitter.size,top:e.__height||0})},bottom:function(t,e){e.$target.css({height:e.__height||0}),e.split&&e.$splitter.css({height:t.splitter.size,bottom:e.__height||0})},left:function(t,e){var i={width:e.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height,i.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),e.$target.css(i),e.split&&e.$splitter.css({width:t.splitter.size,height:i.height,top:i.top,left:i.width})},right:function(t,e){var i={width:e.__width||0,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height,i.top=t.dockPanel.top.__height,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),e.$target.css(i),e.split&&e.$splitter.css({width:t.splitter.size,height:i.height,top:i.top,right:i.width})},center:function(t,e){var i={width:t.targetDimension.width,height:t.targetDimension.height};t.dockPanel.top&&(i.height-=t.dockPanel.top.__height||0,i.top=t.dockPanel.top.__height||0,t.dockPanel.top.split&&(i.height-=t.splitter.size,i.top+=t.splitter.size)),t.dockPanel.bottom&&(i.height-=t.dockPanel.bottom.__height||0,t.dockPanel.bottom.split&&(i.height-=t.splitter.size)),t.dockPanel.left&&(i.width-=t.dockPanel.left.__width||0,i.left=t.dockPanel.left.__width||0,t.dockPanel.left.split&&(i.width-=t.splitter.size,i.left+=t.splitter.size)),t.dockPanel.right&&(i.width-=t.dockPanel.right.__width||0,t.dockPanel.right.split&&(i.width-=t.splitter.size));var n=e.minWidth||0,a=e.minHeight||0;i.width<n&&(i.width=n,t.$target.css({minWidth:n+l.width(t.dockPanel.left,t.splitter.size)+l.width(t.dockPanel.right,t.splitter.size)})),i.height<a&&(i.height=a,t.$target.css({minHeight:a+l.height(t.dockPanel.top,t.splitter.size)+l.height(t.dockPanel.bottom,t.splitter.size)})),e.$target.css(i)},split:{horizontal:function(t,e,i,n,a){var o={display:"block"},l=i?Number(t.splitPanel[i-1].offsetEnd):0;e.splitter?o.height=t.splitter.size:"*"!=e.height||"undefined"!=typeof e.__height&&!a?o.height=e.__height||0:o.height=e.__height=(t.targetDimension.height-n)/t.splitPanel.asteriskLength,o.top=l,e.offsetStart=l,e.offsetEnd=Number(l)+Number(o.height),e.$target.css(o)},vertical:function(t,e,i,n,a){var o={display:"block"},l=i?Number(t.splitPanel[i-1].offsetEnd):0;e.splitter?o.width=t.splitter.size:"*"!=e.width||"undefined"!=typeof e.__width&&!a?o.width=e.__width||0:o.width=e.__width=(t.targetDimension.width-n)/t.splitPanel.asteriskLength,o.left=l,e.offsetStart=l,e.offsetEnd=Number(l)+Number(o.width),e.$target.css(o)}}},n={"dock-panel":function(t){for(var e in t.dockPanel)t.dockPanel[e].$target&&t.dockPanel[e].$target.get(0)&&e in i&&i[e].call(this,t,t.dockPanel[e])},"split-panel":function(n,a){var o;n.splitPanel.asteriskLength=0,n.splitPanel.forEach(function(e,i){t.split[n.orientation].call(this,n,e,i)}),o="horizontal"==n.orientation?e.sum(n.splitPanel,function(t){if("*"!=t.height)return e.number(t.__height)}):e.sum(n.splitPanel,function(t){if("*"!=t.width)return e.number(t.__width)}),n.splitPanel.forEach(function(t,e){i.split[n.orientation].call(this,n,t,e,o,a)})}},a=function(t){for(var e=t.childQueIdxs.length;e--;)r.call(this,t.childQueIdxs[e])};return function(t,e,i){var o=this.queue[t];o.targetDimension={height:o.$target.innerHeight(),width:o.$target.innerWidth()},o.layout in n&&n[o.layout].call(this,o,i),o.childQueIdxs&&a.call(this,o,i),o.onResize&&setTimeout(function(){this.onResize.call(this,this)}.bind(o),1),e&&e.call(o,o)}}(),d={on:function(t,e,a){var o=this.queue[t],s=a.position(),r={width:a.width(),height:a.height()},c={left:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientX-e.mousePosition.clientX;var n=e.minWidth||0,a=e.maxWidth||o.targetDimension.width-l.width(o,o.dockPanel.left)-l.width(o,o.dockPanel.right);return e.__width+e.__da<n?e.__da=-e.__width+n:a<e.__width+e.__da&&(e.__da=a-e.__width),{left:e.$splitter.position().left+e.__da}},right:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientX-e.mousePosition.clientX;var n=e.minWidth||0,a=e.maxWidth||o.targetDimension.width-l.width(o,o.dockPanel.left)-l.width(o,o.dockPanel.right);return e.__width-e.__da<n?e.__da=e.__width-n:a<e.__width-e.__da&&(e.__da=-a+e.__width),{left:e.$splitter.position().left+e.__da}},top:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientY-e.mousePosition.clientY;var n=e.minHeight||0,a=e.maxHeight||o.targetDimension.height-l.height(o,o.dockPanel.top)-l.height(o,o.dockPanel.bottom);return e.__height+e.__da<n?e.__da=-e.__height+n:a<e.__height+e.__da&&(e.__da=a-e.__height),{top:e.$splitter.position().top+e.__da}},bottom:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;e.__da=i.clientY-e.mousePosition.clientY;var n=e.minHeight||0,a=e.maxHeight||o.targetDimension.height-l.height(o,o.dockPanel.top)-l.height(o,o.dockPanel.bottom);return e.__height-e.__da<n?e.__da=e.__height-n:a<e.__height-e.__da&&(e.__da=-a+e.__height),{top:e.$splitter.position().top+e.__da}},split:function(t){var i="changedTouches"in t.originalEvent?t.originalEvent.changedTouches[0]:t;if("horizontal"==o.orientation){e.__da=i.clientY-e.mousePosition.clientY;var n=o.splitPanel[e.panelIndex-1],a=o.splitPanel[e.panelIndex+1],l=n.minHeight||0,s=a.minHeight||0;return e.offsetStart+e.__da<n.offsetStart+l?e.__da=n.offsetStart-e.offsetStart+l:e.offsetStart+e.__da>a.offsetEnd-s&&(e.__da=a.offsetEnd-e.offsetEnd-s),{top:e.$target.position().top+e.__da}}e.__da=i.clientX-e.mousePosition.clientX;var n=o.splitPanel[e.panelIndex-1],a=o.splitPanel[e.panelIndex+1],r=n.minWidth||0,d=a.minWidth||0;return e.offsetStart+e.__da<n.offsetStart+r?e.__da=n.offsetStart-e.offsetStart+r:e.offsetStart+e.__da>a.offsetEnd-d&&(e.__da=a.offsetEnd-e.offsetEnd-d),{left:Number(e.$target.position().left)+Number(e.__da)}}};e.__da=0,jQuery(document.body).bind(n.mousemove+".ax5layout-"+this.instanceId,function(t){i.resizer||(i.resizer=jQuery('<div class="ax5layout-resizer panel-'+e.resizerType+'" ondragstart="return false;"></div>'),i.resizer.css({left:s.left,top:s.top,width:r.width,height:r.height}),o.$target.append(i.resizer)),i.resizer.css(c[e.resizerType](t))}).bind(n.mouseup+".ax5layout-"+this.instanceId,function(n){d.off.call(i,t,e,a)}).bind("mouseleave.ax5layout-"+this.instanceId,function(n){d.off.call(i,t,e,a)}),jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",!1)},off:function(t,e,a){var o=this.queue[t],l={"dock-panel":{left:function(t,e){e.__width+=e.__da},right:function(){e.__width-=e.__da},top:function(){e.__height+=e.__da},bottom:function(){e.__height-=e.__da}},"split-panel":{split:function(){"horizontal"==o.orientation?(o.splitPanel[e.panelIndex-1].__height+=e.__da,o.splitPanel[e.panelIndex+1].__height-=e.__da):(o.splitPanel[e.panelIndex-1].__width+=e.__da,o.splitPanel[e.panelIndex+1].__width-=e.__da)}},"tab-panel":{}};i.resizer&&(i.resizer.remove(),i.resizer=null,l[this.queue[t].layout][e.resizerType].call(this,t,e),r.call(this,t)),jQuery(document.body).unbind(n.mousemove+".ax5layout-"+this.instanceId).unbind(n.mouseup+".ax5layout-"+this.instanceId).unbind("mouseleave.ax5layout-"+this.instanceId),jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart")}},c={open:function(t,e,i){if(e.activePanelIndex!=i&&(e.tabPanel[i].active=!0,e.tabPanel[e.activePanelIndex].active=!1,e.$target.find('[data-tab-panel-label="'+i+'"]').attr("data-tab-active","true"),e.$target.find('[data-tab-panel-label="'+e.activePanelIndex+'"]').removeAttr("data-tab-active"),e.tabPanel[i].$target.attr("data-tab-active","true"),e.tabPanel[e.activePanelIndex].$target.removeAttr("data-tab-active"),e.activePanelIndex=i,e.onOpenTab)){var n={$target:e.$target,name:e.name,id:e.id,layout:e.layout,activePanelIndex:e.activePanelIndex,activePanel:e.tabPanel[e.activePanelIndex],tabPanel:e.tabPanel};e.onOpenTab.call(n)}}},u=function(){return'\n<div data-tab-panel-label-holder="{{id}}">\n    <div data-tab-panel-label-border="{{id}}"></div>\n    <div data-tab-panel-label-table="{{id}}">\n        <div data-tab-panel-aside="left"></div>\n    {{#tabPanel}}\n        <div data-tab-panel-label="{{panelIndex}}" data-tab-active="{{active}}">\n            <div data-tab-label="{{panelIndex}}">{{{label}}}</div>\n        </div>\n    {{/tabPanel}}\n        <div data-tab-panel-aside="right"></div>\n    </div>\n</div>\n'},h=function(){var t={"dock-panel":function(t){var o=this.queue[t];o.dockPanel={},o.$target.find(">[data-dock-panel]").each(function(){var l={};!function(t){e.isObject(t)&&!t.error&&(l=jQuery.extend(!0,l,t))}(e.parseJson(this.getAttribute("data-dock-panel"),!0)),"dock"in l&&(l.$target=jQuery(this),l.$target.addClass("dock-panel-"+l.dock),(l.split=l.split&&"true"==l.split.toString())&&(l.$splitter=jQuery('<div data-splitter="" class="dock-panel-'+l.dock+'"></div>'),l.$splitter.bind(n.mousedown,function(e){l.mousePosition=a(e),d.on.call(i,t,l,l.$splitter)}).bind("dragstart",function(t){return e.stopEvent(t),!1}),o.$target.append(l.$splitter)),"top"==l.dock||"bottom"==l.dock?l.__height=s(l.height,o.targetDimension.height):l.__width=s(l.width,o.targetDimension.width),l.resizerType=l.dock,o.dockPanel[l.dock]=l)})},"split-panel":function(t){var o=this.queue[t];o.splitPanel=[],o.$target.find(">[data-split-panel], >[data-splitter]").each(function(l){var r={};!function(t){e.isObject(t)&&!t.error&&(r=jQuery.extend(!0,r,t))}(e.parseJson(this.getAttribute("data-split-panel")||this.getAttribute("data-splitter"),!0)),r.$target=jQuery(this),r.$target.addClass("split-panel-"+o.orientation),r.panelIndex=l,this.getAttribute("data-splitter")?(r.splitter=!0,r.$target.bind(n.mousedown,function(e){r.panelIndex>0&&r.panelIndex<o.splitPanel.length-1&&(r.mousePosition=a(e),d.on.call(i,t,r,r.$target))}).bind("dragstart",function(t){return e.stopEvent(t),!1}),r.resizerType="split"):"horizontal"==o.orientation?r.__height=s(r.height,o.targetDimension.height):(o.orientation="vertical",r.__width=s(r.width,o.targetDimension.width)),o.splitPanel.push(r)})},"tab-panel":function(t){var n=this.queue[t],a=!1;n.tabPanel=[],n.$target.find(">[data-tab-panel]").each(function(t){var i={};!function(t){e.isObject(t)&&!t.error&&(i=jQuery.extend(!0,i,t))}(e.parseJson(this.getAttribute("data-tab-panel"),!0)),a&&(i.active=!1),i.$target=jQuery(this),i.active&&"false"!=i.active&&(a=!0,n.activePanelIndex=t,i.$target.attr("data-tab-active","true")),i.panelIndex=t,n.tabPanel.push(i)}),a||(n.tabPanel[0].active=!0,n.tabPanel[0].$target.attr("data-tab-active","true"),n.activePanelIndex=0),n.$target.append(jQuery(ax5.mustache.render(u.call(this,t),n))),n.$target.on("click","[data-tab-panel-label]",function(e){var a=this.getAttribute("data-tab-panel-label");c.open.call(i,t,n,a)})}};return function(e){var i=this.queue[e];i.targetDimension={height:i.$target.innerHeight(),width:i.$target.innerWidth()},i.$target.parents("[data-ax5layout]").get(0)&&f.call(this,i.$target.parents("[data-ax5layout]").get(0),e),i.layout in t&&t[i.layout].call(this,e),r.call(this,e)}}(),p=function(t){return e.isString(t)||(t=jQuery(t).data("data-ax5layout-id")),e.isString(t)?e.search(this.queue,function(){return this.id==t}):-1},f=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);this.queue[n].childQueIdxs||(this.queue[n].childQueIdxs=[]),this.queue[n].childQueIdxs.push(i),this.queue[i].parentQueIdx=n};this.init=function(){this.onStateChanged=t.onStateChanged,this.onClick=t.onClick,jQuery(window).bind("resize.ax5layout-"+this.instanceId,function(){o.call(this)}.bind(this))},this.bind=function(i){var n,a={};return i=jQuery.extend(!0,a,t,i),i.target?(i.$target=jQuery(i.target),i.id||(i.id=i.$target.data("data-ax5layout-id")),i.id||(i.id="ax5layout-"+ax5.getGuid(),i.$target.data("data-ax5layout-id",i.id)),i.name=i.$target.attr("data-ax5layout"),i.options&&(i.options=JSON.parse(JSON.stringify(i.options))),function(t){e.isObject(t)&&!t.error&&(i=jQuery.extend(!0,i,t))}(e.parseJson(i.$target.attr("data-config"),!0)),n=e.search(this.queue,function(){return this.id==i.id}),n===-1?(this.queue.push(i),h.call(this,this.queue.length-1)):(this.queue[n]=jQuery.extend(!0,{},this.queue[n],i),h.call(this,n)),a=null,n=null,this):(console.log(ax5.info.getError("ax5layout","401","bind")),this)},this.align=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);if(n===-1)for(var a=this.queue.length;a--;)r.call(this,a,null,i);else r.call(this,n,null,i);return this},this.onResize=function(t,i){var n=e.isNumber(t)?t:p.call(this,t);return n===-1?void console.log(ax5.info.getError("ax5layout","402","onResize")):(this.queue[n].onResize=i,this)},this.resize=function(){var t={"dock-panel":function(t,i){["top","bottom","left","right"].forEach(function(n){i[n]&&t.dockPanel[n]&&("top"==n||"bottom"==n?t.dockPanel[n].__height=e.isObject(i[n])?i[n].height:i[n]:"left"!=n&&"right"!=n||(t.dockPanel[n].__width=e.isObject(i[n])?i[n].width:i[n]))})},"split-panel":function(){},"tab-panel":function(){}};return function(i,n,a){var o=e.isNumber(i)?i:p.call(this,i);if(o===-1)for(var l=this.queue.length;l--;)t[this.queue[l].layout].call(this,this.queue[l],n),r.call(this,l,a);else this.queue[o]&&(t[this.queue[o].layout].call(this,this.queue[o],n),r.call(this,o,a));return this}}(),this.reset=function(){var t={"dock-panel":function(t){["top","bottom","left","right"].forEach(function(e){t.dockPanel[e]&&("top"==e||"bottom"==e?t.dockPanel[e].__height=t.dockPanel[e].height:"left"!=e&&"right"!=e||(t.dockPanel[e].__width=t.dockPanel[e].width))})},"split-panel":function(t){t.splitPanel.forEach(function(e){"vertical"==t.orientation?e.__width=s(e.width,t.targetDimension.width):"horizontal"==t.orientation&&(e.__height=s(e.height,t.targetDimension.height))})},"tab-panel":function(){}};return function(i,n){var a=e.isNumber(i)?i:p.call(this,i);return a===-1||(t[this.queue[a].layout].call(this,this.queue[a]),r.call(this,a,n)),this}}(),this.hide=function(){},this.tabOpen=function(){return function(t,i){var n=e.isNumber(t)?t:p.call(this,t);return n===-1?void console.log(ax5.info.getError("ax5layout","402","tabOpen")):(c.open.call(this,n,this.queue[n],i),this)}}(),this.main=function(){arguments&&e.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return t}())}(),ax5.ui.layout_instance=new ax5.ui.layout,jQuery.fn.ax5layout=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"align":return ax5.ui.layout_instance.align(this,arguments[1]);case"resize":return ax5.ui.layout_instance.resize(this,arguments[1],arguments[2]);case"reset":return ax5.ui.layout_instance.reset(this,arguments[1]);case"hide":return ax5.ui.layout_instance.hide(this,arguments[1]);case"onResize":return ax5.ui.layout_instance.onResize(this,arguments[1]);case"tabOpen":return ax5.ui.layout_instance.tabOpen(this,arguments[1]);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.layout_instance.bind(t)});return this}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"binder",version:"1.3.82"},function(){var t=function(){var t;this.instanceId=ax5.getGuid(),this.config={},t=this.config,this.model={},this.tmpl={},this.view_target=null,this.change_trigger={},this.click_trigger={},this.update_trigger={},this.onerror=null;var i=Object.prototype.toString,n=function(t){var e;return null!=t&&t==t.window?e="window":t&&1==t.nodeType?e="element":t&&11==t.nodeType?e="fragment":"undefined"==typeof t?e="undefined":"[object Object]"==i.call(t)?e="object":"[object Array]"==i.call(t)?e="array":"[object String]"==i.call(t)?e="string":"[object Number]"==i.call(t)?e="number":"[object NodeList]"==i.call(t)?e="nodelist":"function"==typeof t&&(e="function"),e},a=function(t,e,i){return t+"["+e+"]"+("."==i?"":"."+i)},o=function(t){var e=[],i=[].concat(t.split(/[\.\[\]]/g));return i.forEach(function(t){""!==t&&e.push('["'+t.replace(/['\"]/g,"")+'"]')}),i=null,e.join("")};this.setModel=function(t,e){return this.model=t,!this.view_target&&e?(this.view_target=e,this._binding()):this._binding("update"),this},this.set=function(t,e){var i,a,l,s=this;if(Function("val","this"+o(t)+" = val;").call(this.model,e),i=n(e),"object"==i)for(var r in e)this.set(t+"."+r,e[r]);else if("array"==i)for(this.view_target.find('[data-ax-path="'+t+'"]').each(function(){l=(this.type||"").toLowerCase(),"checkbox"!=l&&"radio"!=l||s.set_els_value(this,this.tagName.toLowerCase(),l,e,t,"change")}),a=e.length;a--;)this.set(t+"["+a+"]",e[a]);else this.view_target.find('[data-ax-path="'+t+'"]').each(function(){s.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),e,t,"change")});return this},this.get=function(t){return"undefined"==typeof t?this.model:Function("","return this"+o(t)+";").call(this.model)},this.onChange=function(t,e){return this.change_trigger[t||"*"]=e,this},this.onClick=function(t,e){return this.click_trigger[t]=e,this},this.add=function(t,e){var i=Function("","return this"+o(t)+";").call(this.model),n=this.tmpl[t];e["@i"]=i.length,e["@r"]=i.length,e.__ADDED__=!0,Function("val","this"+o(t)+".push(val);").call(this.model,e);for(var a in n){var l=$(ax5.mustache.render(n[a].content,e));l.attr("data-ax-repeat-path",t),l.attr("data-ax-repeat-i",e["@i"]),this.bind_event_tmpl(l,t),n[a].container.append(l)}this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:n,list:i};s.call(r,r)}return this},this.remove=function(t,e){var i=Function("","return this"+o(t)+";").call(this.model),n=this.tmpl[t];
"undefined"==typeof e&&(e=i.length-1);var a=i[e];a.__ADDED__?i.splice(e,1):i[e].__DELETED__=!0;for(var l in n)n[l].container.empty(),this.print_tmpl(t,n[l]);this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:n,list:i};s.call(r,r)}return this},this.update=function(t,e,i){var n=Function("","return this"+o(t)+";").call(this.model),a=this.tmpl[t];"undefined"!=typeof e&&i&&n.splice(e,1,i);for(var l in a)a[l].container.empty(),this.print_tmpl(t,a[l]);this.change("*");var s=this.update_trigger[t];if(s){var r={repeat_path:t,tmpl:a,list:n};s.call(r,r)}return this},this.childAdd=function(t,e,i,n){var a=Function("","return this"+o(t)+";").call(this.model),l=Function("","return this"+o(t)+"["+e+"]."+i+";").call(this.model);n.__ADDED__=!0,l.push(n),this.update(t,e,a[e])},this.childRemove=function(t,e,i,n){var a=Function("","return this"+o(t)+";").call(this.model),l=Function("","return this"+o(t)+"["+e+"]."+i+";").call(this.model),s=l[n];s.__ADDED__?l.splice(n,1):l[n].__DELETED__=!0,this.update(t,e,a[e])},this.childUpdate=function(t,e,i,n,a){var l=Function("","return this"+o(t)+";").call(this.model),s=Function("","return this"+o(t)+"["+e+"]."+i+";").call(this.model);s[n]=a,this.update(t,e,l[e])},this.childSet=function(t,e,i,n){var a=this;return Function("val","this"+o(t)+"["+e+"]."+i+" = val;").call(this.model,n),this.view_target.find('[data-ax-repeat="'+t+'"]').find('[data-ax-repeat-i="'+e+'"]').find('[data-ax-item-path="'+i+'"]').each(function(){a.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),n,t+"["+e+"]."+i)}),this},this.onUpdate=function(t,e){return this.update_trigger[t]=e,this},this._binding=function(t){var e=this;this.view_target.find("[data-ax-path]").each(function(){var t,i=$(this),n=i.attr("data-ax-path"),a=(this.type||"").toLowerCase();try{t=Function("","return this"+o(n)+";").call(e.model)}catch(l){e.onerror&&e.onerror("not found target [model."+o(n)+"]")}e.set_els_value(this,this.tagName.toLowerCase(),a,t||"",n)}),"undefined"==typeof t?this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this),i=t.attr("data-ax-repeat"),n=t.attr("data-ax-repeat-idx");"undefined"==typeof e.tmpl[i]&&(e.tmpl[i]={}),"undefined"!=typeof n?e.tmpl[i][n]={container:t,content:t.find("script").html()}:e.tmpl[i][0]={container:t,content:t.find("script").html()},t.empty()}):this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this);t.empty().show()}),this.view_target.find("[data-ax-path]").unbind("change.axbinder").bind("change.axbinder",function(t){var i,a,l=!1,s=[],r=$(t.target),d=r.attr("data-ax-path"),c=Function("","return this"+o(d)+";").call(e.model),u=(this.type||"").toLowerCase(),h=n(c),p=!0;if("object"!=h&&"array"!=h||(p=!1),"checkbox"==u){if(e.view_target.find('[data-ax-path="'+d+'"]').length>1){for("array"!=n(c)&&(c="undefined"==typeof c||""==c?[]:[].concat(c)),i=c.length,l=!1,a=this.checked;i--;)c[i]==this.value&&(l=!0);if(a)l||c.push(this.value);else{for(i=c.length;i--;)c[i]==this.value||s.push(c[i]);c=s}}else c=this.checked?this.value:"";Function("val","this"+o(d)+" = val;").call(e.model,c),e.change(d,{el:this,jquery:r,tagname:this.tagName.toLowerCase(),value:c})}else p&&(Function("val","this"+o(d)+" = val;").call(e.model,this.value),e.change(d,{el:this,jquery:r,tagname:this.tagName.toLowerCase(),value:this.value}));r.data("changedTime",(new Date).getTime())});var i;for(var a in e.tmpl){for(var l in e.tmpl[a])this.print_tmpl(a,e.tmpl[a][l],"isInit");if(i=this.update_trigger[a]){var s={repeat_path:a,tmpl:e.tmpl[a],list:Function("","return this."+a+";").call(this.model)};i.call(s,s)}}},this.set_els_value=function(t,e,i,n,a,l){n="undefined"==typeof n?[]:[].concat(n);var s,r;if("input"==e)if("checkbox"==i||"radio"==i){r=n.length;var d=!1;try{if(r>0)for(;r--;)"undefined"!=typeof n[r]&&t.value===n[r].toString()&&(d=!0)}catch(c){console.log(c)}t.checked=d}else t.value=n.join("");else if("select"==e){s=t.options,r=s.length;for(var u,h=!1;r--;){for(u=n.length;u--;)if("undefined"!=typeof n[u]&&s[r].value===n[u].toString()){s[r].selected=!0,h=!0;break}if(h)break}h||(s[0]?(s[0].selected=!0,Function("val","this"+o(a)+" = val;").call(this.model,s[0].value)):Function("val","this"+o(a)+" = val;").call(this.model,"")),window.AXSelect&&$("undefined"!=typeof n&&t).bindSelectSetValue(n[n.length-1])}else"textarea"==e?t.value=n.join("")||"":t.innerText?t.innerText=n.join(""):t.innerHTML=n.join("");return l&&this.change(a,{el:t,tagname:e,value:n}),this},this.change=function(t,e){var i=this.change_trigger[t];i&&i.call(e,e),"*"!=t&&this.change_trigger["*"]&&this.change_trigger["*"].call(e,e)},this.click=function(t,e){var i=this.click_trigger[t];i&&i.call(e,e)},this.sync_model=function(){},this.print_tmpl=function(t,e,i){var a=Function("","return this"+o(t)+";").call(this.model);if(a&&"array"==n(a))for(var l=0,s=a.length;l<s;l++){var r=a[l];if(jQuery.isPlainObject(r)?(r["@i"]=l,r["@r"]=l,0===l&&(r["@first"]=!0)):(r={"@i":l,"@value":r},0===l&&(r["@first"]=!0),console.log(r)),!r.__DELETED__){var d=$(ax5.mustache.render(e.content,r));d.attr("data-ax-repeat-path",t),d.attr("data-ax-repeat-i",r["@i"]),this.bind_event_tmpl(d,t),e.container.append(d)}}},this.bind_event_tmpl=function(t,e){var i=this,l=t.attr("data-ax-repeat-i"),s=Function("","return this"+o(e)+";").call(this.model);t.find("[data-ax-repeat-click]").unbind("click.axbinder").bind("click.axbinder",function(t){var n=ax5.util.findParentNode(t.target,function(t){return t.getAttribute("data-ax-repeat-click")});if(n){var a=$(n),o=a.attr("data-ax-repeat-click"),r=(a.attr("data-ax-repeat-path"),{el:n,jquery:a,tagname:n.tagName.toLowerCase(),value:o,repeat_path:e,item:s[l],item_index:l,item_path:e+"["+l+"]"});i.click(e,r)}}),t.find("[data-ax-item-path]").each(function(){var t,n=$(this),o=n.attr("data-ax-item-path"),s=a(e,l,o),r=(this.type||"").toLowerCase();try{t=Function("","return this."+s+";").call(i.model)}catch(d){i.onerror&&i.onerror("not found target [model."+s+"]")}i.set_els_value(this,this.tagName.toLowerCase(),r,t||"",s)}),t.find("[data-ax-item-path]").unbind("change.axbinder").bind("change.axbinder",function(o){var s,r,d=!1,c=[],u=(this.type||"").toLowerCase(),h=$(o.target),p=h.attr("data-ax-item-path"),f=a(e,l,p),m=Function("","return this."+f+";").call(i.model),g=n(m),v=!0;if("object"!=g&&"array"!=g||(v=!1),"checkbox"==u){if(t.find('[data-ax-item-path="'+p+'"]').length>1){for("array"!=n(m)&&(m="undefined"==typeof m||""==m?[]:[].concat(m)),s=m.length,d=!1,r=this.checked;s--;)m[s]==this.value&&(d=!0);if(r)d||m.push(this.value);else{for(s=m.length;s--;)m[s]==this.value||c.push(m[s]);m=c}}else m=this.checked?this.value:"";Function("val","this."+f+" = val;").call(i.model,m),i.change(f,{el:this,jquery:h,tagname:this.tagName.toLowerCase(),value:m})}else v&&(Function("val","this."+f+" = val;").call(i.model,this.value),i.change(f,{el:this,jquery:h,tagname:this.tagName.toLowerCase(),value:this.value}));h.data("changedTime",(new Date).getTime())}),t.find("[data-ax-item-path]").unbind("blur.axbinder").bind("blur.axbinder",function(t){var e=$(t.target);("undefined"==typeof e.data("changedTime")||e.data("changedTime")<(new Date).getTime()-10)&&e.trigger("change")})},this.focus=function(t){return this.view_target.find('[data-ax-path="'+t+'"]').focus(),this},this.validate=function(){var t=this,e=[];return this.view_target.find("[data-ax-path]").each(function(){var i=$(this),n=i.attr("data-ax-path"),a=i.attr("data-ax-validate"),l=i.attr("pattern");if(a){var s,r,d;s=Function("","return this"+o(n)+";").call(t.model),"undefined"==typeof s&&(s=""),r=s.toString(),d=!1,"required"==a&&""==r.trim()?d=!0:"pattern"==a?d=!new RegExp(l).test(r):"email"==a?d=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(r):!/\D.?/g.test(a)&&r.trim().length<a.number()&&(d=!0),d&&e.push({type:a,dataPath:n,el:this,jquery:i,value:s})}}),this.view_target.find("[data-ax-repeat-path]").each(function(){var i=$(this),n=i.attr("data-ax-repeat-path"),a=i.attr("data-ax-repeat-i");i.find("[data-ax-validate]").each(function(){var i=$(this),l=i.attr("data-ax-validate"),s=i.attr("data-ax-item-path"),r=Function("","return this"+o(n)+"["+a+"]."+s+";").call(t.model);"undefined"==typeof r&&(r="");var d=r.toString();if(l){var c=!1;"required"==l&&""==d.trim()?c=!0:"pattern"==l?c=!new RegExp(pattern).test(d):"email"==l?c=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(d):!/\D.?/g.test(l)&&d.trim().length<l.number()&&(c=!0),c&&e.push({type:l,dataPath:n,el:this,jquery:i,value:r})}})}),e.length>0?{error:e}:{}},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return t}())}(),function(){var t,e=ax5.ui,i=ax5.util;e.addClass({className:"autocomplete",version:"1.3.82"},function(){var e=function(){var e,n=this;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,removeIcon:"X",lang:{noSelected:"",noOptions:"no options",loading:"Now Processing"},columnKeys:{optionValue:"value",optionText:"text",optionSelected:"selected"}},this.queue=[],this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,this.openTimer=null,this.closeTimer=null,this.waitOptionsCallback=null,this.keyUpTimer=null,e=this.config;var a=jQuery(window),o={18:"KEY_ALT",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},l=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),"changeValue"==e.state&&(t&&t.onChange?t.onChange.call(e,e):this.onChange&&this.onChange.call(e,e)),t=null,e=null,!0},s=function(){for(var t,e=this.queue.length;e--;){var n=this.queue[e];if(n.$display&&(t=Math.max(n.$select.outerWidth(),i.number(n.minWidth)),n.$display.css({"min-width":t}),n.reset&&n.$display.find(".addon-icon-reset").css({"line-height":this.queue[e].$display.height()+"px"}),n.multiple)){var a=function(){return i.number(n.$display.css("border-top-width"))+i.number(n.$display.css("border-bottom-width"))}.call(this);n.$target.height(""),n.$display.height("");var o=n.$displayTable.outerHeight();Math.abs(o-n.$target.height())>a&&(n.$target.css({height:o+a+4}),n.$display.css({height:o+a+4}))}}return e=null,t=null,this},r=function(t){if(t&&!this.activeautocompleteOptionGroup)return this;var e,i=this.queue[this.activeautocompleteQueueIndex],n={},o=0,l={},s={};return i?(t&&jQuery(document.body).append(this.activeautocompleteOptionGroup),n=i.$target.offset(),l={width:i.$target.outerWidth(),height:i.$target.outerHeight()},s={winWidth:Math.max(a.width(),jQuery(document.body).width()),winHeight:Math.max(a.height(),jQuery(document.body).height()),width:this.activeautocompleteOptionGroup.outerWidth(),height:this.activeautocompleteOptionGroup.outerHeight()},i.direction&&""!==i.direction&&"auto"!==i.direction?e=i.direction:(e="top",n.top-s.height-o<0?e="top":n.top+l.height+s.height+o>s.winHeight&&(e="bottom")),t&&this.activeautocompleteOptionGroup.addClass("direction-"+e),void this.activeautocompleteOptionGroup.css(function(){if("top"==e){if(n.top+l.height+s.height+o>s.winHeight){var t=n.top+s.height;return t+s.height+o>s.winHeight&&(t=0),t<0&&(t=0),{left:n.left,top:t,width:l.width}}return{left:n.left,top:n.top+l.height+1,width:l.width}}if("bottom"==e)return{left:n.left,top:n.top-s.height-1,width:l.width}}.call(this))):this},d=function(t,e){if(!this.activeautocompleteOptionGroup)return this;var n=this.queue[this.activeautocompleteQueueIndex],a="display";return(e=i.findParentNode(t.target,function(t){return t.getAttribute("data-option-value")?(a="optionItem",!0):n.$target.get(0)==t?(a="display",!0):void 0}))?("optionItem"===a&&(I.call(this,n.id,{optionIndex:{index:e.getAttribute("data-option-index")}},void 0,"optionItemClick"),s.call(this),r.call(this),n.multiple||this.close()),this):(this.close(),this)},c=function(e){var i=this.queue[e],n={};return n.id=i.id,n.theme=i.theme,n.size="ax5autocomplete-option-group-"+i.size,n.multiple=i.multiple,n.lang=i.lang,n.options=i.options,n.selected=i.selected,n.hasSelected=n.selected&&n.selected.length>0,n.removeIcon=i.removeIcon,t.tmpl.get.call(this,"label",n,i.columnKeys)},u=function(e){var i=this.queue[e];!i.multiple&&i.selected&&i.selected.length>0&&(i.selected=[].concat(i.selected[i.selected.length-1])),i.selected.forEach(function(t,e){t["@index"]=e}),i.$select.html(t.tmpl.get.call(this,"formSelectOptions",{selected:i.selected},i.columnKeys))},h=function(t){var e=this.queue[t];e.$displayLabel.find("[data-ax5autocomplete-selected-label]").remove(),e.$displayLabelInput.before(c.call(this,t))},p=function(t){return this.queue[t].disabled?this:(this.queue[t].$displayLabel.trigger("focus"),void this.queue[t].$displayLabelInput.focus())},f=function(t){this.queue[t].$displayLabelInput.val("")},m=function(t){this.queue[t].$displayLabel.trigger("blur")},g=function(e,n){if(this.activeautocompleteQueueIndex==-1)return this;var a=/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi;n=n.replace(a,""),this.queue[e].waitOptions=!0,this.queue[e].onSearch.call({self:this,item:this.queue[e],searchWord:n},function(e){var a={},o=this.queue[this.activeautocompleteQueueIndex];return!!o&&(function(t,e){var n={};e.options.forEach(function(e,i){e["@index"]=i,e["@findex"]=i,n[e[t.columnKeys.optionValue]]=e}),i.isArray(t.selected)&&t.selected.forEach(function(i){n[i[t.columnKeys.optionValue]]&&(e.options[n[i[t.columnKeys.optionValue]]["@index"]][t.columnKeys.optionSelected]=!0)})}(o,e),o.options=e.options,s.call(this),a.id=o.id,a.theme=o.theme,a.size="ax5autocomplete-option-group-"+o.size,a.multiple=o.multiple,a.lang=o.lang,a.options=o.options,this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",a,o.columnKeys))),v.call(this,this.activeautocompleteQueueIndex,n),r.call(this),void setTimeout(function(){r.call(this)}.bind(this)))}.bind(this))},v=function(t,e){if(this.activeautocompleteQueueIndex==-1)return this;var i,n=[],a=-1,o=this.queue[t].options.length-1;if(""!=e){for(;o-a++;){if(i=this.queue[t].options[a],(""+i.text).toLowerCase()==e.toLowerCase()){n=[{"@findex":i["@findex"],optionsSort:0}];break}var l=(""+i.text).toLowerCase().search(e.toLowerCase());if(l>-1&&(n.push({"@findex":i["@findex"],optionsSort:l}),n.length>2))break;l=null}n.sort(function(t,e){return t.optionsSort-e.optionsSort})}n&&n.length>0?b.call(this,t,void 0,n[0]["@findex"]):x.call(this,t)},x=function(t){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover").removeAttr("data-option-selected"),this.queue[t].optionFocusIndex=-1},b=function(t,e,i){var n,a,o,l,s=this.queue[t];if(this.activeautocompleteOptionGroup&&s.options&&s.options.length>0){if("undefined"!=typeof i?n=i:(a=s.optionFocusIndex==-1?s.optionSelectedIndex||-1:s.optionFocusIndex,a==-1?n=0:(n=a+e,n<0?n=0:n>s.optionItemLength-1&&(n=s.optionItemLength-1))),s.optionFocusIndex=n,s.options[n]&&s.options[n].hide){if("undefined"==typeof e)return this;for(;s.options[n].hide;){if(n+=e,n<0){n=0;break}if(n>s.optionItemLength-1){n=s.optionItemLength-1;break}}}if("undefined"!=typeof n&&(this.activeautocompleteOptionGroup.find("[data-option-focus-index]").removeClass("hover"),o=this.activeautocompleteOptionGroup.find('[data-option-focus-index="'+n+'"]').addClass("hover"),l=this.activeautocompleteOptionGroup.find('[data-els="content"]'),o.get(0))){var r=o.outerHeight(),d=l.innerHeight(),c=l.scrollTop(),u=o.position().top+l.scrollTop();d+c<u+r?l.scrollTop(u+r-d):c>u&&l.scrollTop(u),"undefined"!=typeof e&&s.$displayLabelInput.val(s.options[n].text)}}},y=function(t){return t instanceof jQuery?t=t.data("data-ax5autocomplete-id"):i.isString(t)||(t=jQuery(t).data("data-ax5autocomplete-id")),i.isString(t)?i.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5autocomplete","402","getQueIdx"))},w=function(t,e,i){return"undefined"==typeof i?!t.multiple||!e:i},_=function(e){this.queue[e].options.forEach(function(t){t.optgroup?t.options.forEach(function(t){t.selected=!1}):t.selected=!1}),this.queue[e].selected=[],this.queue[e].$select.html(t.tmpl.get.call(this,"formSelectOptions",{selected:this.queue[e].selected},this.queue[e].columnKeys))},I=function(){var t={selectedIndex:function(t,e,i,n){},removeSelectedIndex:function(t,e,i,n){for(var a=this.queue[t],o={},l=[],s=0,r=0;r<a.selected.length;r++)a.selected[r]["@index"]!=e.removeSelectedIndex.index&&(o={"@index":s,"@findex":s},o[a.columnKeys.optionValue]=a.selected[r][a.columnKeys.optionValue],o[a.columnKeys.optionText]=a.selected[r][a.columnKeys.optionText],l.push(o),s++);a.selected=l},optionIndex:function a(t,e,i,n){var o=this.queue[t],l={},a=o.selected.length,s=!0;l={"@index":a,"@findex":a},l[o.columnKeys.optionValue]=o.options[e.optionIndex.index][o.columnKeys.optionValue],l[o.columnKeys.optionText]=o.options[e.optionIndex.index][o.columnKeys.optionText];for(var r=0;r<o.selected.length;r++)o.selected[r][o.columnKeys.optionValue]==l[o.columnKeys.optionValue]&&(s=!1);s&&o.selected.push(l)},arr:function(e,a,o,l){a.forEach(function(a){if(i.isString(a)||i.isNumber(a))t.text.call(n,e,a,o,"justSetValue");else for(var l in t)if(a[l]){t[l].call(n,e,a,o,"justSetValue");break}})},value:function(t,n,a,o){var l,s=this.queue[t],r=i.search(s.options,function(){return this[s.columnKeys.optionValue]==n.value[s.columnKeys.optionValue]});if(r>-1)if(s.options[r][s.columnKeys.optionSelected]=w(s,s.options[r][s.columnKeys.optionSelected],a),s.options[r][s.columnKeys.optionSelected]){for(var d=!0,c=0;c<s.selected.length;c++)if(s.selected[c][e.columnKeys.optionValue]==s.options[r][e.columnKeys.optionValue]){d=!1;break}d&&(l={},l[s.columnKeys.optionValue]=s.options[r][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.options[r][s.columnKeys.optionText],s.selected.push(l))}else{for(var u=[],c=0;c<s.selected.length;c++)s.selected[c][e.columnKeys.optionValue]==s.options[r][e.columnKeys.optionValue]||(l={},l[s.columnKeys.optionValue]=s.selected[c][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.selected[c][s.columnKeys.optionText],u.push(l));s.selected=u}else{for(var d=!0,c=0;c<s.selected.length;c++)if(s.selected[c][e.columnKeys.optionValue]==n.value[e.columnKeys.optionValue]){d=!1;break}d&&(l={},l[s.columnKeys.optionValue]=n.value[e.columnKeys.optionValue],l[s.columnKeys.optionText]=n.value[e.columnKeys.optionText],s.selected.push(l))}},text:function(t,n,a,o){var l,s=this.queue[t],r=i.search(s.options,function(){return this[s.columnKeys.optionText]==n});if(r>-1)if(s.options[r][s.columnKeys.optionSelected]=w(s,s.options[r][s.columnKeys.optionSelected],a),s.options[r][s.columnKeys.optionSelected]){for(var d=!0,c=0;c<s.selected.length;c++)if(s.selected[c][e.columnKeys.optionText]==s.options[r][e.columnKeys.optionText]){d=!1;break}d&&(l={},l[s.columnKeys.optionValue]=s.options[r][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.options[r][s.columnKeys.optionText],s.selected.push(l))}else{for(var u=[],c=0;c<s.selected.length;c++)s.selected[c][e.columnKeys.optionText]==s.options[r][e.columnKeys.optionText]||(l={},l[s.columnKeys.optionValue]=s.selected[c][s.columnKeys.optionValue],l[s.columnKeys.optionText]=s.selected[c][s.columnKeys.optionText],u.push(l));s.selected=u}else{for(var d=!0,c=0;c<s.selected.length;c++)if(s.selected[c][e.columnKeys.optionText]==n){d=!1;break}d&&(l={},l[s.columnKeys.optionValue]=n,l[s.columnKeys.optionText]=n,s.selected.push(l))}},clear:function(t){_.call(this,t),x.call(this,t),this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.find("[data-option-index]").attr("data-option-Selected","false"),this.queue[t].optionSelectedIndex=-1}};return function(e,n,a,o){var s=i.isNumber(e)?e:y.call(this,e);if(s===-1)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if("undefined"==typeof n)throw"error not found value";if(i.isArray(n))t.clear.call(this,s),t.arr.call(this,s,this.queue[s].multiple||0==n.length?n:[n[n.length-1]],a);else if(i.isString(n)||i.isNumber(n))"undefined"==typeof n||null===n||this.queue[s].multiple||_.call(this,s),t.text.call(this,s,n,a);else if(null===n)t.clear.call(this,s);else{this.queue[s].multiple||_.call(this,s);for(var d in t)if(n[d]){t[d].call(this,s,n,a);break}}return u.call(this,s),h.call(this,s),p.call(this,s),r.call(this),"undefined"!=typeof n&&o&&!o.noStateChange&&l.call(this,this.queue[s],{self:this,item:this.queue[s],state:"changeValue",value:this.queue[s].selected}),e=null,this}}();this.init=function(){this.onStateChanged=e.onStateChanged,this.onChange=e.onChange,jQuery(window).bind("resize.ax5autocomplete-display-"+this.instanceId,function(){s.call(this)}.bind(this))},this.bind=function(a){var l,d=function(){var e=i.debounce(function(t){return this.activeautocompleteQueueIndex==-1?this:void g.call(n,t,this.queue[t].$displayLabelInput.val())},150),l=function(t){f.call(this,t)},d={click:function(t,e){var a,o=i.findParentNode(e.target,function(t){return t.getAttribute("data-ax5autocomplete-remove")?(a="optionItemRemove",!0):t.getAttribute("data-selected-clear")?(a="clear",!0):void 0});if(o){if("optionItemRemove"===a){var l=o.getAttribute("data-ax5autocomplete-remove-index");return this.queue[t].selected.splice(l,1),u.call(this,t),h.call(this,t),p.call(this,t),s.call(this),r.call(this),i.stopEvent(e),this}"clear"===a&&(I.call(this,t,{clear:!0}),s.call(this),r.call(this))}else n.activeautocompleteQueueIndex==t?this.queue[t].optionFocusIndex==-1&&n.close():p.call(this,t)},keyUp:function(t,a){return a.which==ax5.info.eventKeys.ESC&&n.activeautocompleteQueueIndex===-1?(i.stopEvent(a),this):a.which==ax5.info.eventKeys.TAB?(this.close(),this):(n.activeautocompleteQueueIndex!=t&&n.open(t),void(o[a.which]?i.stopEvent(a):a.which==ax5.info.eventKeys.BACKSPACE&&""==this.queue[t].$displayLabelInput.val()?(this.queue[t].selected.pop(),u.call(this,t),h.call(this,t),p.call(this,t),s.call(this),r.call(this),i.stopEvent(a)):e.call(this,t)))},keyDown:function(t,e){if(e.which==ax5.info.eventKeys.ESC)f.call(this,t),this.close(),i.stopEvent(e);else if(e.which==ax5.info.eventKeys.RETURN){var n=this.queue[t].$displayLabelInput.val();a.optionFocusIndex>-1?I.call(this,a.id,{optionIndex:{index:a.optionFocusIndex}},void 0,"optionItemClick"):""!=n&&I.call(this,t,n,!0),f.call(this,t),s.call(this),this.close(),i.stopEvent(e)}else e.which==ax5.info.eventKeys.DOWN?(b.call(this,t,1),i.stopEvent(e)):e.which==ax5.info.eventKeys.UP&&(b.call(this,t,-1),i.stopEvent(e))},focus:function(t,e){},blur:function(t,e){l.call(this,t),i.stopEvent(e)},selectChange:function(t,e){I.call(this,t,{value:this.queue[t].$select.val()},!0)}};return function(e){var i=this.queue[e],n={};return i.$display?h.call(this,e):(n.instanceId=this.instanceId,n.id=i.id,n.name=i.name,n.theme=i.theme,n.tabIndex=i.tabIndex,n.multiple=i.multiple,n.reset=i.reset,n.label=c.call(this,e),n.formSize=function(){return i.size?"input-"+i.size:""}(),i.$display=jQuery(t.tmpl.get.call(this,"autocompleteDisplay",n,i.columnKeys)),i.$displayTable=i.$display.find('[data-els="display-table"]'),i.$displayLabel=i.$display.find('[data-ax5autocomplete-display="label"]'),i.$displayLabelInput=i.$display.find('[data-ax5autocomplete-display="input"]'),i.$target.find("select").get(0)?(i.$select=i.$target.find("select"),i.$select.attr("tabindex","-1").attr("class","form-control "+n.formSize),n.name&&i.$select.attr("name","name"),i.$select.attr("multiple","multiple")):(i.$select=jQuery(t.tmpl.get.call(this,"formSelect",n,i.columnKeys)),i.$target.append(i.$select)),i.$target.append(i.$display)),s.call(this),i.$display.unbind("click.ax5autocomplete").bind("click.ax5autocomplete",d.click.bind(this,e)),i.$displayLabelInput.off("focus.ax5autocomplete").on("focus.ax5autocomplete",d.focus.bind(this,e)).off("blur.ax5autocomplete").on("blur.ax5autocomplete",d.blur.bind(this,e)).off("keydown.ax5autocomplete").on("keydown.ax5autocomplete",d.keyUp.bind(this,e)).off("keyup.ax5autocomplete").on("keyup.ax5autocomplete",d.keyDown.bind(this,e)),i.$select.unbind("change.ax5autocomplete").bind("change.ax5autocomplete",d.selectChange.bind(this,e)),n=null,i=null,e=null,this}}(),m={};return a=jQuery.extend(!0,m,e,a),a.target?(a.$target=jQuery(a.target),a.id||(a.id=a.$target.data("data-ax5autocomplete-id")),a.id||(a.id="ax5autocomplete-"+ax5.getGuid(),a.$target.data("data-ax5autocomplete-id",a.id)),a.name=a.$target.attr("data-ax5autocomplete"),a.options=[],a.selected=[],function(t){i.isObject(t)&&!t.error&&(a=jQuery.extend(!0,a,t))}(i.parseJson(a.$target.attr("data-ax5autocomplete-config"),!0)),l=i.search(this.queue,function(){return this.id==a.id}),l===-1?(this.queue.push(a),d.call(this,this.queue.length-1)):(this.queue[l]=jQuery.extend(!0,{},this.queue[l],a),d.call(this,l)),m=null,l=null,this):(console.log(ax5.info.getError("ax5autocomplete","401","bind")),this)},this.open=function(){return function(n,a){this.waitOptionsCallback=null;var o,s,c=i.isNumber(n)?n:y.call(this,n),u=this.queue[c],h={};return u.$display.attr("disabled")?this:(this.openTimer&&clearTimeout(this.openTimer),this.activeautocompleteOptionGroup?this.activeautocompleteQueueIndex==c?this:a>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(c,(a||0)+1)}.bind(this),e.animateTime),this):(u.optionFocusIndex=-1,u.selected&&u.selected.length>0&&(u.optionSelectedIndex=u.selected[0]["@findex"]),h.id=u.id,h.theme=u.theme,h.size="ax5autocomplete-option-group-"+u.size,h.multiple=u.multiple,h.lang=u.lang,u.$display.attr("data-autocomplete-option-group-opened","true"),h.waitOptions=!0,h.options=[],this.activeautocompleteOptionGroup=jQuery(t.tmpl.get.call(this,"optionGroup",h,u.columnKeys)),this.activeautocompleteOptionGroup.find('[data-els="content"]').html(jQuery(t.tmpl.get.call(this,"options",h,u.columnKeys))),this.activeautocompleteQueueIndex=c,r.call(this,"append"),jQuery(window).bind("resize.ax5autocomplete-"+this.instanceId,function(){r.call(this)}.bind(this)),u.selected&&u.selected.length>0&&(s=this.activeautocompleteOptionGroup.find('[data-option-index="'+u.selected[0]["@index"]+'"]'),s.get(0)&&(o=s.position().top-this.activeautocompleteOptionGroup.height()/3,this.activeautocompleteOptionGroup.find('[data-els="content"]').stop().animate({scrollTop:o},u.animateTime,"swing",function(){}))),jQuery(window).bind("click.ax5autocomplete-"+this.instanceId,function(t){t=t||window.event,d.call(this,t),i.stopEvent(t)}.bind(this)),l.call(this,u,{self:this,state:"open",item:u}),h=null,o=null,s=null,this))}}(),this.setValue=function(t,e){var n=i.isNumber(t)?t:y.call(this,t);if(n===-1)return void console.log(ax5.info.getError("ax5autocomplete","402","val"));if(_.call(this,n),i.isArray(e)){var a=i.map(e,function(){return{value:this}});I.call(this,n,a,!0,{noStateChange:!0})}else i.isObject(e)?I.call(this,n,{value:e},!0,{noStateChange:!0}):h.call(this,n);return m.call(this,n),s.call(this),this},this.setText=function(t,e){var n=i.isNumber(t)?t:y.call(this,t);return n===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(this.queue[n].selected=[],_.call(this,n),I.call(this,n,e,!0,{noStateChange:!0}),m.call(this,n),s.call(this),this)},this.getSelectedOption=function(t){var e=i.isNumber(t)?t:y.call(this,t);return e===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):i.deepCopy(this.queue[e].selected)},this.close=function(t){return this.closeTimer&&clearTimeout(this.closeTimer),this.activeautocompleteOptionGroup?(t=this.queue[this.activeautocompleteQueueIndex],t.optionFocusIndex=-1,t.$display.removeAttr("data-autocomplete-option-group-opened").trigger("focus"),this.activeautocompleteOptionGroup.addClass("destroy"),jQuery(window).unbind("resize.ax5autocomplete-"+this.instanceId).unbind("click.ax5autocomplete-"+this.instanceId).unbind("keyup.ax5autocomplete-"+this.instanceId),this.closeTimer=setTimeout(function(){this.activeautocompleteOptionGroup&&this.activeautocompleteOptionGroup.remove(),this.activeautocompleteOptionGroup=null,this.activeautocompleteQueueIndex=-1,l.call(this,t,{self:this,state:"close"})}.bind(this),e.animateTime),this.waitOptionsCallback=null,this):this},this.blur=function(t){var e=i.isNumber(t)?t:y.call(this,t);return e===-1?void console.log(ax5.info.getError("ax5autocomplete","402","val")):(m.call(this,e),this)},this.enable=function(t){var e=y.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disable=!1,this.queue[e].$display[0]&&(this.queue[e].$display.removeAttr("disabled"),this.queue[e].$displayLabelInput.removeAttr("disabled")),this.queue[e].$select[0]&&this.queue[e].$select.removeAttr("disabled"),l.call(this,this.queue[e],{self:this,state:"enable"})),this},this.disable=function(t){var e=y.call(this,t);return"undefined"!=typeof e&&(this.queue[e].disable=!0,this.queue[e].$display[0]&&(this.queue[e].$display.attr("disabled","disabled"),this.queue[e].$displayLabelInput.attr("disabled","disabled")),this.queue[e].$select[0]&&this.queue[e].$select.attr("disabled","disabled"),l.call(this,this.queue[e],{self:this,state:"disable"})),this},this.align=function(){return s.call(this),this},this.main=function(){arguments&&i.isObject(arguments[0])?this.setConfig(arguments[0]):this.init()}.apply(this,arguments)};return e}()),t=ax5.ui.autocomplete}(),ax5.ui.autocomplete_instance=new ax5.ui.autocomplete,jQuery.fn.ax5autocomplete=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.autocomplete_instance.open(this);case"close":return ax5.ui.autocomplete_instance.close(this);case"setValue":return ax5.ui.autocomplete_instance.setValue(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"setText":return ax5.ui.autocomplete_instance.setText(this,arguments[1],arguments[2],arguments[3],arguments[4]||"justSetValue");case"getSelectedOption":return ax5.ui.autocomplete_instance.getSelectedOption(this);case"enable":return ax5.ui.autocomplete_instance.enable(this);case"disable":return ax5.ui.autocomplete_instance.disable(this);case"blur":return ax5.ui.autocomplete_instance.blur(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.autocomplete_instance.bind(t)});return this}}(),function(){var t=ax5.ui.autocomplete,e=(ax5.util,function(t){return'\n<div class="ax5autocomplete-option-group {{theme}} {{size}}" data-ax5autocomplete-option-group="{{id}}">\n    <div class="ax-autocomplete-body">\n        <div class="ax-autocomplete-option-group-content" data-els="content"></div>\n    </div>\n    <div class="ax-autocomplete-arrow"></div> \n</div>\n'}),i=function(t){return' \n<input tabindex="-1" type="text" data-input-dummy="" style="display: none;" />\n<div class="form-control {{formSize}} ax5autocomplete-display {{theme}}" \ndata-ax5autocomplete-display="{{id}}" data-ax5autocomplete-instance="{{instanceId}}">\n    <div class="ax5autocomplete-display-table" data-els="display-table">\n        <div data-ax5autocomplete-display="label-holder"> \n        <a {{^tabIndex}}{{/tabIndex}}{{#tabIndex}}tabindex="{{tabIndex}}" {{/tabIndex}}\n        data-ax5autocomplete-display="label"\n        spellcheck="false"><input type="text"data-ax5autocomplete-display="input" style="border:0px none;" /></a>\n        </div>\n        <div data-ax5autocomplete-display="addon"> \n            {{#multiple}}{{#reset}}\n            <span class="addon-icon-reset" data-selected-clear="true">{{{.}}}</span>\n            {{/reset}}{{/multiple}}\n        </div>\n    </div>\n</a>\n'},n=function(t){return'\n<select tabindex="-1" class="form-control {{formSize}}" name="{{name}}" multiple="multiple"></select>\n'},a=function(t){return'\n{{#selected}}\n<option value="{{'+t.optionValue+'}}" selected="true">{{'+t.optionText+"}}</option>\n{{/selected}}\n"},o=function(t){return'\n{{#waitOptions}}\n    <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.loading}}}\n                </span>\n            </div>\n        </div>\n{{/waitOptions}}\n{{^waitOptions}}\n    {{#options}}\n        {{^hide}}\n        <div class="ax-autocomplete-option-item" data-option-focus-index="{{@findex}}" data-option-index="{{@index}}" data-option-value="{{'+t.optionValue+'}}" {{#'+t.optionSelected+'}}data-option-selected="true"{{/'+t.optionSelected+'}}>\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">{{'+t.optionText+'}}</span>\n            </div>\n        </div>\n        {{/hide}}\n    {{/options}}\n    {{^options}}\n        <div class="ax-autocomplete-option-item">\n            <div class="ax-autocomplete-option-item-holder">\n                <span class="ax-autocomplete-option-item-cell ax-autocomplete-option-item-label">\n                    {{{lang.noOptions}}}\n                </span>\n            </div>\n        </div>\n    {{/options}}\n{{/waitOptions}}\n';
},l=function(t){return'{{#selected}}<div tabindex="-1" data-ax5autocomplete-selected-label="{{@i}}" data-ax5autocomplete-selected-text="{{text}}"><div data-ax5autocomplete-remove="true" data-ax5autocomplete-remove-index="{{@i}}">{{{removeIcon}}}</div><span>{{text}}</span></div>{{/selected}}'};t.tmpl={autocompleteDisplay:i,formSelect:n,formSelectOptions:a,optionGroup:e,options:o,label:l,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"docker",version:"1.3.82"},function(){var t=function(){var t=this,i=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",animateTime:250,columnKeys:{}},this.panels=[],this.panelId=0,this.modules={},i=this.config;var n=function(){return t.panelId++},a=function(t,e){t.$element.html(e.name)},o=function(t,e){var i=[];return t&&"undefined"!=typeof t.panelPath&&i.push(t.panelPath),i.push("panels["+(e||0)+"]"),i.join(".")},l=function(t,e){var i=[],n=[].concat(e.split(/[\.\[\]]/g));return n.forEach(function(t){""!==t&&i.push('["'+t.replace(/['\"]/g,"")+'"]')}),Function("","return this"+i.join("")+";").call(t)},s=function(e){var i=jQuery.extend(e.moduleState,{name:e.name}),n={$element:e.$item};e.moduleName in t.modules&&"init"in t.modules[e.moduleName]?t.modules[e.moduleName].init(n,i):a(n,i)},r=function(){var a={stack:function(t,i,n,l){var s=void 0,r=-1;n.panelPath=o(i,l),s=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+n.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),t.append(s),e.isArray(n.panels)&&(n.panels.forEach(function(t,e){n.active&&(r=e)}),r===-1&&(r=0),n.panels[r].active=!0,n.panels.forEach(function(t,e){a[t.type](s,n,t,e)})),s=null,r=null},panel:function(t,e,a,l){var r=void 0;a.panelPath=o(e,l),a.$label=jQuery('<li data-ax5docker-pane-tab="'+l+'" data-ax5docker-path="'+a.panelPath+'"><div class="title">'+a.name+'</div><div class="close-icon">'+i.icons.close+"</div></li>"),a.$item||(a.$item=jQuery('<div data-ax5docker-pane-item="'+l+'" data-ax5docker-pane-id="'+n()+'" data-ax5docker-path="'+a.panelPath+'"></div>')),e&&"stack"==e.type?(a.active&&(s(a),a.$label.addClass("active"),a.$item.addClass("active")),t.find("[data-ax5docker-pane-tabs]").append(a.$label),t.find("[data-ax5docker-pane-item-views]").append(a.$item)):(r=jQuery('<div data-ax5docker-pane="" data-ax5docker-path="'+a.panelPath+'"><ul data-ax5docker-pane-tabs=""></ul><div data-ax5docker-pane-item-views=""></div></div>'),s(a),a.$label.addClass("active"),a.$item.addClass("active"),r.find("[data-ax5docker-pane-tabs]").append(a.$label),r.find("[data-ax5docker-pane-item-views]").append(a.$item),t.append(r)),r=null},resizeHandel:function(t,e,i){var n=jQuery('<div data-ax5docker-resize-handle=""></div>');t.append(n),n=null},row:function(t,i,n,l){var s=void 0;if(n.panelPath=o(i,l),i&&"stack"==i.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";s=jQuery('<div data-ax5docker-pane-axis="row" data-ax5docker-path="'+n.panelPath+'"></div>'),t.append(s),e.isArray(n.panels)&&n.panels.forEach(function(t,e){e>0&&a.resizeHandel(s,t,n,e),a[t.type](s,n,t,e)}),s=null},column:function(t,i,n,l){var s=void 0;if(n.panelPath=o(i,l),i&&"stack"==i.type)throw"The 'stack' type child nodes are allowed only for the 'panel' type.";s=jQuery('<div data-ax5docker-pane-axis="column" data-ax5docker-path="'+n.panelPath+'"></div>'),t.append(s),e.isArray(n.panels)&&n.panels.forEach(function(t,e){l>0&&a.resizeHandel(s,t,n,e),a[t.type](s,n,t,e)}),s=null}},l=jQuery('<div data-ax5docker-panes=""></div>');a[t.panels[0].type](l,null,t.panels[0],0),t.$target.html(l),t.$target.off("click").on("click","[data-ax5docker-pane-tab] .close-icon",function(t){console.log("close icon"),e.stopEvent(t)}).on("click","[data-ax5docker-pane-tab]",function(t){d(this),e.stopEvent(t)}),l=null},d=function(e){var i=jQuery(e),n=i.parents("[data-ax5docker-pane]"),a=i.attr("data-ax5docker-pane-tab");if(i.hasClass("active"))return!1;n.find(".active").removeClass("active"),n.find('[data-ax5docker-pane-tab="'+a+'"]').addClass("active"),n.find('[data-ax5docker-pane-item="'+a+'"]').addClass("active");var o=l(t,i.attr("data-ax5docker-path"));s(o)};this.init=function(t){return i=jQuery.extend(!0,{},i,t),i.target?(this.$target=jQuery(i.target),this.panels=i.panels||[],this.onStateChanged=i.onStateChanged,this.onClick=i.onClick,this.onLoad=i.onLoad,void(this.onDataChanged=i.onDataChanged)):(console.log(ax5.info.getError("ax5docker","401","init")),this)},this.setPanels=function(t){return this.panels=t||[],r(),this},this.addModule=function(t){return e.isObject(t)&&jQuery.extend(!0,this.modules,t),this},this.repaint=function(){r()},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return t}())}(),function(){var t=ax5.ui.docker,e=function(t){return" \n{{#panels}}\n{{#panels}}\n{{/panels}}\n{{^panels}}\n{{/panels}}\n{{/panels}}\n        "};t.tmpl={panels:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}();
//# sourceMappingURL=ax5ui.all.min.js.map
